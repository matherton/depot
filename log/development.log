  [1m[36m (0.0ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20110831140527)
  [1m[35m (0.3ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110831140527')[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "products"
  [1m[36mSQL (33.7ms)[0m  [1mINSERT INTO "products" ("created_at", "description", "image_url", "price", "title", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 31 Aug 2011 14:23:31 UTC +00:00], ["description", "<p>\n        <em>Web Design for Developers</em> will show you how to make your\n        web-based application look professionally designed. We'll help you\n        learn how to pick the right colors and fonts, avoid costly interface\n        and accessibility mistakes -- your application will really come alive.\n        We'll also walk you through some common Photoshop and CSS techniques\n        and work through a web site redesign, taking a new design from concept\n        all the way to implementation.\n      </p>"], ["image_url", "/images/wd4d.jpg"], ["price", #<BigDecimal:100a2e878,'0.4295E2',18(18)>], ["title", "Web Design for Developers"], ["updated_at", Wed, 31 Aug 2011 14:23:31 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "description", "image_url", "price", "title", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 31 Aug 2011 14:23:31 UTC +00:00], ["description", "<p>\n        Ruby is the fastest growing and most exciting dynamic language\n        out there. If you need to get working programs delivered fast,\n        you should add Ruby to your toolbox.\n      </p>"], ["image_url", "/images/ruby.jpg"], ["price", #<BigDecimal:102eb29d8,'0.495E2',18(18)>], ["title", "Programming Ruby 1.9"], ["updated_at", Wed, 31 Aug 2011 14:23:31 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "description", "image_url", "price", "title", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 31 Aug 2011 14:23:31 UTC +00:00], ["description", "<p>\n        <em>Rails Test Prescriptions</em> is a comprehensive guide to testing\n        Rails applications, covering Test-Driven Development from both a\n        theoretical perspective (why to test) and from a practical perspective\n        (how to test effectively). It covers the core Rails testing tools and\n        procedures for Rails 2 and Rails 3, and introduces popular add-ons,\n        including Cucumber, Shoulda, Machinist, Mocha, and Rcov.\n      </p>"], ["image_url", "/images/rtp.jpg"], ["price", #<BigDecimal:102e91468,'0.4375E2',18(18)>], ["title", "Rails Test Prescriptions"], ["updated_at", Wed, 31 Aug 2011 14:23:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20110831140527)
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (25.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (7.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (7.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (14.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (3.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (19.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (19.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (7.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (24.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (6.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (7.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (15.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (22.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (7.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')


Started GET "/rails/info/properties" for 127.0.0.1 at 2011-10-06 15:30:06 +0100
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  Processing by Rails::InfoController#properties as HTML
Rendered inline template (9.6ms)
Completed 200 OK in 38ms (Views: 38.0ms | ActiveRecord: 0.0ms)


Started GET "/rails/info/properties" for 127.0.0.1 at 2011-10-06 15:30:15 +0100
  Processing by Rails::InfoController#properties as HTML
Rendered inline template (0.3ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started GET "/rails/info/properties" for 127.0.0.1 at 2011-10-06 15:30:18 +0100
  Processing by Rails::InfoController#properties as HTML
Rendered inline template (0.4ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/info/properties" for 127.0.0.1 at 2011-10-06 15:30:20 +0100
  Processing by Rails::InfoController#properties as HTML
Rendered inline template (0.4ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/info/properties" for 127.0.0.1 at 2011-10-06 15:30:21 +0100
  Processing by Rails::InfoController#properties as HTML
Rendered inline template (0.3ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/products" for 127.0.0.1 at 2011-10-07 11:37:47 +0100
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (9.8ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered products/index.html.erb within layouts/application (191.4ms)
Completed 200 OK in 452ms (Views: 440.2ms | ActiveRecord: 10.0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:37:48 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:37:48 +0100
Served asset /depot.css - 200 OK (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:37:48 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:37:49 +0100
Served asset /logo.png - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/images/rails.png" for 127.0.0.1 at 2011-10-07 11:37:49 +0100
Served asset /images/rails.png - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/images/rails.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/products/6" for 127.0.0.1 at 2011-10-07 11:38:57 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mProduct Load (8.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
Rendered products/show.html.erb within layouts/application (6.4ms)
Completed 200 OK in 27ms (Views: 15.6ms | ActiveRecord: 8.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:38:57 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:38:57 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:38:57 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:38:57 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/products" for 127.0.0.1 at 2011-10-07 11:39:00 +0100
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered products/index.html.erb within layouts/application (11.6ms)
Completed 200 OK in 55ms (Views: 53.0ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:39:00 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:39:00 +0100
Served asset /logo.png - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:39:00 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:39:00 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/images/rails.png" for 127.0.0.1 at 2011-10-07 11:39:00 +0100
Served asset /images/rails.png - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/images/rails.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:39:00 +0100
Served asset /logo.png - 404 Not Found (4ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/products/new" for 127.0.0.1 at 2011-10-07 11:41:31 +0100
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (35.5ms)
Rendered products/new.html.erb within layouts/application (55.3ms)
Completed 200 OK in 130ms (Views: 128.8ms | ActiveRecord: 0.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:41:31 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:41:31 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:41:31 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:41:31 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/products" for 127.0.0.1 at 2011-10-07 11:41:40 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (8.6ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (16.6ms)
Completed 200 OK in 46ms (Views: 35.6ms | ActiveRecord: 8.9ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:41:40 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/images/rails.png" for 127.0.0.1 at 2011-10-07 11:41:40 +0100
Served asset /images/rails.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/images/rails.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:41:40 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:41:40 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:41:40 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/images/rails.png" for 127.0.0.1 at 2011-10-07 11:41:40 +0100
Served asset /images/rails.png - 404 Not Found (41ms)

ActionController::RoutingError (No route matches [GET] "/assets/images/rails.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/products/5/edit" for 127.0.0.1 at 2011-10-07 11:41:48 +0100
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "5"]]
Rendered products/_form.html.erb (8.0ms)
Rendered products/edit.html.erb within layouts/application (10.0ms)
Completed 200 OK in 46ms (Views: 44.1ms | ActiveRecord: 0.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:41:48 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:41:48 +0100
Served asset /defaults.js - 404 Not Found (4ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:41:48 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:41:48 +0100
Served asset /logo.png - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/products" for 127.0.0.1 at 2011-10-07 11:42:24 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (39.1ms)
Completed 200 OK in 51ms (Views: 48.9ms | ActiveRecord: 0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:42:24 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:42:24 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:42:24 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:42:24 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/images/rails.png" for 127.0.0.1 at 2011-10-07 11:42:24 +0100
Served asset /images/rails.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/images/rails.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/products/new" for 127.0.0.1 at 2011-10-07 11:42:53 +0100
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (7.5ms)
Rendered products/new.html.erb within layouts/application (8.4ms)
Completed 200 OK in 27ms (Views: 25.8ms | ActiveRecord: 0.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:42:53 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:42:53 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:42:53 +0100
Served asset /logo.png - 404 Not Found (33ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.9ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:42:53 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started POST "/products" for 127.0.0.1 at 2011-10-07 11:44:49 +0100
  Processing by ProductsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product"=>{"title"=>"A new test prouct", "description"=>"Just a test product to make sure my app is still working....", "image_url"=>"/images/ruby.jpg", "price"=>"5.99"}, "commit"=>"Create Product"}
  [1m[36m (9.8ms)[0m  [1mSELECT 1 FROM "products" WHERE "products"."title" = 'A new test prouct' LIMIT 1[0m
  [1m[35mSQL (45.4ms)[0m  INSERT INTO "products" ("created_at", "description", "image_url", "price", "title", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 07 Oct 2011 10:44:49 UTC +00:00], ["description", "Just a test product to make sure my app is still working...."], ["image_url", "/images/ruby.jpg"], ["price", #<BigDecimal:102576c70,'0.599E1',18(18)>], ["title", "A new test prouct"], ["updated_at", Fri, 07 Oct 2011 10:44:49 UTC +00:00]]
Redirected to http://localhost:3000/products/9
Completed 302 Found in 168ms


Started GET "/products/9" for 127.0.0.1 at 2011-10-07 11:44:49 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
Rendered products/show.html.erb within layouts/application (5.6ms)
Completed 200 OK in 206ms (Views: 204.0ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:44:49 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.9ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:44:49 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:44:49 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:44:49 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/products" for 127.0.0.1 at 2011-10-07 11:44:54 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (12.4ms)
Completed 200 OK in 31ms (Views: 29.0ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:44:54 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:44:54 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:44:54 +0100
Served asset /defaults.js - 404 Not Found (32ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:44:54 +0100
Served asset /logo.png - 404 Not Found (5ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/images/rails.png" for 127.0.0.1 at 2011-10-07 11:44:54 +0100
Served asset /images/rails.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/images/rails.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/products/8/edit" for 127.0.0.1 at 2011-10-07 11:45:19 +0100
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mProduct Load (12.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "8"]]
Rendered products/_form.html.erb (7.5ms)
Rendered products/edit.html.erb within layouts/application (8.7ms)
Completed 200 OK in 35ms (Views: 20.5ms | ActiveRecord: 12.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:45:19 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:45:19 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:45:19 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:45:19 +0100
Served asset /logo.png - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started PUT "/products/8" for 127.0.0.1 at 2011-10-07 11:45:29 +0100
  Processing by ProductsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product"=>{"title"=>"commited with 3 decimal places in the price", "description"=>"All error checking in app/models/product.rb works apart from price.", "image_url"=>"/images/rails.png", "price"=>"7.547"}, "commit"=>"Update Product", "id"=>"8"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "8"]]
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'commited with 3 decimal places in the price' AND "products"."id" != 8) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "products" SET "image_url" = '/images/rails.png', "updated_at" = '2011-10-07 10:45:29.575971' WHERE "products"."id" = 8
Redirected to http://localhost:3000/products/8
Completed 302 Found in 27ms


Started GET "/products/8" for 127.0.0.1 at 2011-10-07 11:45:29 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "8"]]
Rendered products/show.html.erb within layouts/application (5.8ms)
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.3ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:45:29 +0100
Served asset /defaults.js - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:45:29 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:45:29 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:45:29 +0100
Served asset /logo.png - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/products" for 127.0.0.1 at 2011-10-07 11:45:32 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (41.5ms)
Completed 200 OK in 53ms (Views: 51.1ms | ActiveRecord: 0.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:45:32 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:45:32 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:45:32 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:45:32 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/products/8" for 127.0.0.1 at 2011-10-07 11:48:28 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "8"]]
Rendered products/show.html.erb within layouts/application (8.3ms)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:48:28 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:48:28 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:48:28 +0100
Served asset /logo.png - 404 Not Found (45ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (4.3ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:48:28 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/products/5" for 127.0.0.1 at 2011-10-07 11:48:35 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "5"]]
Rendered products/show.html.erb within layouts/application (5.7ms)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:48:35 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:48:35 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:48:35 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:48:35 +0100
Served asset /logo.png - 404 Not Found (5ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/products/7" for 127.0.0.1 at 2011-10-07 11:48:39 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
Rendered products/show.html.erb within layouts/application (35.2ms)
Completed 200 OK in 46ms (Views: 44.2ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:48:39 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:48:39 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:48:39 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:48:39 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/products/6" for 127.0.0.1 at 2011-10-07 11:48:43 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
Rendered products/show.html.erb within layouts/application (5.5ms)
Completed 200 OK in 16ms (Views: 14.0ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:48:43 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:48:43 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:48:43 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:48:43 +0100
Served asset /logo.png - 404 Not Found (4ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/products/9" for 127.0.0.1 at 2011-10-07 11:48:49 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
Rendered products/show.html.erb within layouts/application (5.9ms)
Completed 200 OK in 17ms (Views: 15.4ms | ActiveRecord: 0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 11:48:49 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:48:49 +0100
Served asset /logo.png - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 11:48:49 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 11:48:49 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 11:48:49 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/products/new" for 127.0.0.1 at 2011-10-07 12:39:55 +0100
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (37.6ms)
Rendered products/new.html.erb within layouts/application (38.5ms)
Completed 200 OK in 65ms (Views: 64.2ms | ActiveRecord: 0.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 12:39:55 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 12:39:55 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.4ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 12:39:55 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 12:39:55 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started POST "/products" for 127.0.0.1 at 2011-10-07 12:39:56 +0100
  Processing by ProductsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product"=>{"title"=>"", "description"=>"", "image_url"=>"", "price"=>""}, "commit"=>"Create Product"}
  [1m[35m (13.1ms)[0m  SELECT 1 FROM "products" WHERE "products"."title" = '' LIMIT 1
Rendered products/_form.html.erb (5.2ms)
Rendered products/new.html.erb within layouts/application (5.9ms)
Completed 200 OK in 37ms (Views: 13.9ms | ActiveRecord: 13.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 12:39:56 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 12:39:57 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 12:39:57 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 12:39:57 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 12:39:57 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/products" for 127.0.0.1 at 2011-10-07 12:40:15 +0100
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered products/index.html.erb within layouts/application (12.3ms)
Completed 200 OK in 23ms (Views: 21.1ms | ActiveRecord: 0.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 12:40:16 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 12:40:16 +0100
Served asset /logo.png - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 12:40:16 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 12:40:16 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 12:40:16 +0100
Served asset /logo.png - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/products/8/edit" for 127.0.0.1 at 2011-10-07 12:43:16 +0100
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[35mProduct Load (23.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "8"]]
Rendered products/_form.html.erb (7.8ms)
Rendered products/edit.html.erb within layouts/application (9.1ms)
Completed 200 OK in 113ms (Views: 87.9ms | ActiveRecord: 23.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 12:43:17 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 12:43:17 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 12:43:17 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 12:43:17 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started PUT "/products/8" for 127.0.0.1 at 2011-10-07 12:43:22 +0100
  Processing by ProductsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product"=>{"title"=>"commited with 3 decimal places in the price", "description"=>"All error checking in app/models/product.rb works apart from price.", "image_url"=>"/images/rails.png", "price"=>""}, "commit"=>"Update Product", "id"=>"8"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "8"]]
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'commited with 3 decimal places in the price' AND "products"."id" != 8) LIMIT 1
Rendered products/_form.html.erb (3.1ms)
Rendered products/edit.html.erb within layouts/application (4.3ms)
Completed 200 OK in 46ms (Views: 12.5ms | ActiveRecord: 0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 12:43:22 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 12:43:22 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 12:43:22 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 12:43:22 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started PUT "/products/8" for 127.0.0.1 at 2011-10-07 12:43:41 +0100
  Processing by ProductsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product"=>{"title"=>"commited with 3 decimal places in the price", "description"=>"All error checking in app/models/product.rb works apart from price.", "image_url"=>"/images/rails.png", "price"=>"7.45"}, "commit"=>"Update Product", "id"=>"8"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "8"]]
  [1m[35m (0.1ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'commited with 3 decimal places in the price' AND "products"."id" != 8) LIMIT 1
  [1m[36m (19.3ms)[0m  [1mUPDATE "products" SET "price" = 7.45, "updated_at" = '2011-10-07 11:43:41.365374' WHERE "products"."id" = 8[0m
Redirected to http://localhost:3000/products/8
Completed 302 Found in 30ms


Started GET "/products/8" for 127.0.0.1 at 2011-10-07 12:43:41 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "8"]]
Rendered products/show.html.erb within layouts/application (5.5ms)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.3ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 12:43:41 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 12:43:41 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 12:43:41 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 12:43:41 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/products" for 127.0.0.1 at 2011-10-07 12:43:47 +0100
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered products/index.html.erb within layouts/application (12.4ms)
Completed 200 OK in 22ms (Views: 20.9ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 12:43:47 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 12:43:47 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 12:43:47 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 12:43:47 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (105.9ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (8.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')


Started GET "/store/index" for 127.0.0.1 at 2011-10-07 14:58:25 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (21.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 87ms (Views: 54.3ms | ActiveRecord: 25.0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 14:58:25 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 14:58:25 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 14:58:25 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.4ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 14:58:25 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-07 15:42:24 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (11.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (8.0ms)
Completed 200 OK in 92ms (Views: 54.2ms | ActiveRecord: 11.8ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-07 15:42:24 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-07 15:42:24 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-07 15:42:24 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-07 15:42:24 +0100
Served asset /logo.png - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 11:10:10 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (63.2ms)
Compiled depot.css  (0ms)  (pid 92114)
Completed 200 OK in 209ms (Views: 151.1ms | ActiveRecord: 0.9ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 11:10:11 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 11:10:12 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 11:10:12 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 11:10:12 +0100
Served asset /logo.png - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 11:14:47 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 46ms (Views: 15.0ms | ActiveRecord: 0.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 11:14:47 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 11:14:47 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 11:14:47 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/images/logo.png" for 127.0.0.1 at 2011-10-10 11:14:48 +0100

ActionController::RoutingError (No route matches [GET] "/images/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 11:14:51 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 25ms (Views: 18.0ms | ActiveRecord: 0.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 11:14:51 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 11:14:51 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 11:14:51 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/images/logo.png" for 127.0.0.1 at 2011-10-10 11:14:51 +0100

ActionController::RoutingError (No route matches [GET] "/images/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 11:16:47 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 23ms (Views: 15.6ms | ActiveRecord: 0.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 11:16:47 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 11:16:47 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 11:16:47 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/app/assets/images/logo.png" for 127.0.0.1 at 2011-10-10 11:16:47 +0100

ActionController::RoutingError (No route matches [GET] "/app/assets/images/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 11:16:48 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (32.4ms)
Completed 200 OK in 51ms (Views: 42.7ms | ActiveRecord: 0.8ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 11:16:48 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 11:16:48 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 11:16:48 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/app/assets/images/logo.png" for 127.0.0.1 at 2011-10-10 11:16:48 +0100

ActionController::RoutingError (No route matches [GET] "/app/assets/images/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/app/assets/images/logo.png" for 127.0.0.1 at 2011-10-10 11:17:11 +0100

ActionController::RoutingError (No route matches [GET] "/app/assets/images/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/store//app/assets/images/logo.png" for 127.0.0.1 at 2011-10-10 11:17:24 +0100

ActionController::RoutingError (No route matches [GET] "/store/app/assets/images/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/store/app/assets/images/logo.png" for 127.0.0.1 at 2011-10-10 11:18:22 +0100

ActionController::RoutingError (No route matches [GET] "/store/app/assets/images/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/store/depot/app/assets/images/logo.png" for 127.0.0.1 at 2011-10-10 11:18:38 +0100

ActionController::RoutingError (No route matches [GET] "/store/depot/app/assets/images/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/store/app/assets/images/logo.png" for 127.0.0.1 at 2011-10-10 11:18:46 +0100

ActionController::RoutingError (No route matches [GET] "/store/app/assets/images/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/app/assets/images/logo.png" for 127.0.0.1 at 2011-10-10 11:18:55 +0100

ActionController::RoutingError (No route matches [GET] "/app/assets/images/logo.png"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 11:25:04 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 24ms (Views: 16.9ms | ActiveRecord: 0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 11:25:04 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 11:25:04 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (31.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 11:25:04 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 11:25:04 +0100
Served asset /logo.png - 200 OK (18ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (11.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 11:52:23 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (77.0ms)
Completed 500 Internal Server Error in 88ms

ActionView::Template::Error (couldn't parse YAML at line 6 column 11):
    11:     <h3><%= product.title %></h3> 
    12:     <%= sanitize(product.description) %>
    13:     <div class="price_line"> 
    14:       <span class="price"><%= number_to_currency(product.price) %></span> 
    15:     </div> 
    16:   </div> 
    17: <% end %>
  app/views/store/index.html.erb:14:in `block in _app_views_store_index_html_erb___4287523973604880394_2179861660'
  app/views/store/index.html.erb:8:in `each'
  app/views/store/index.html.erb:8:in `_app_views_store_index_html_erb___4287523973604880394_2179861660'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (4.3ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 11:53:45 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (54.3ms)
Completed 200 OK in 69ms (Views: 62.9ms | ActiveRecord: 0.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 11:53:45 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 11:53:45 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 11:53:45 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 11:53:45 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 12:01:59 +0100

SyntaxError (/Users/mark/work/depot/app/helpers/store_helper.rb:3: invalid multibyte char (US-ASCII)
/Users/mark/work/depot/app/helpers/store_helper.rb:3: invalid multibyte char (US-ASCII)
/Users/mark/work/depot/app/helpers/store_helper.rb:3: syntax error, unexpected $end, expecting ')'
...ncy(1234567890.50, :unit => "Â£", :separator => ",", :delimi...
...                               ^):
  app/controllers/application_controller.rb:1:in `<top (required)>'
  app/controllers/store_controller.rb:2:in `<top (required)>'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.6ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 12:02:57 +0100

SyntaxError (/Users/mark/work/depot/app/helpers/store_helper.rb:3: invalid multibyte char (US-ASCII)
/Users/mark/work/depot/app/helpers/store_helper.rb:3: invalid multibyte char (US-ASCII)
/Users/mark/work/depot/app/helpers/store_helper.rb:3: syntax error, unexpected $end, expecting ')'
...ncy(1234567890.50, :unit => "Â£" :separator => ",", :delimit...
...                               ^):
  app/controllers/application_controller.rb:1:in `<top (required)>'
  app/controllers/store_controller.rb:2:in `<top (required)>'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (4.3ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 12:03:23 +0100

SyntaxError (/Users/mark/work/depot/app/helpers/store_helper.rb:3: invalid multibyte char (US-ASCII)
/Users/mark/work/depot/app/helpers/store_helper.rb:3: invalid multibyte char (US-ASCII)
/Users/mark/work/depot/app/helpers/store_helper.rb:3: syntax error, unexpected $end, expecting ')'
...ncy(1234567890.50, :unit => "Â£", :separator => ",", :delimi...
...                               ^):
  app/controllers/application_controller.rb:1:in `<top (required)>'
  app/controllers/store_controller.rb:2:in `<top (required)>'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.3ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 12:05:42 +0100

SyntaxError (/Users/mark/work/depot/app/helpers/store_helper.rb:4: invalid multibyte char (US-ASCII)
/Users/mark/work/depot/app/helpers/store_helper.rb:4: invalid multibyte char (US-ASCII)
/Users/mark/work/depot/app/helpers/store_helper.rb:4: syntax error, unexpected $end, expecting ')'
...ncy(1234567890.50, :unit => "Â£", :separator => ",", :delimi...
...                               ^):
  app/controllers/application_controller.rb:1:in `<top (required)>'
  app/controllers/store_controller.rb:2:in `<top (required)>'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.5ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 12:05:47 +0100

SyntaxError (/Users/mark/work/depot/app/helpers/store_helper.rb:4: invalid multibyte char (US-ASCII)
/Users/mark/work/depot/app/helpers/store_helper.rb:4: invalid multibyte char (US-ASCII)
/Users/mark/work/depot/app/helpers/store_helper.rb:4: syntax error, unexpected $end, expecting ')'
...ncy(1234567890.50, :unit => "Â£", :separator => ",", :delimi...
...                               ^):
  app/controllers/application_controller.rb:1:in `<top (required)>'
  app/controllers/store_controller.rb:2:in `<top (required)>'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (4.3ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 12:06:28 +0100

SyntaxError (/Users/mark/work/depot/app/helpers/store_helper.rb:4: invalid multibyte char (US-ASCII)
/Users/mark/work/depot/app/helpers/store_helper.rb:4: invalid multibyte char (US-ASCII)
/Users/mark/work/depot/app/helpers/store_helper.rb:4: syntax error, unexpected $end, expecting ')'
...ncy(1234567890.50, :unit => "Â£", :separator => ",", :delimi...
...                               ^):
  app/controllers/application_controller.rb:1:in `<top (required)>'
  app/controllers/store_controller.rb:2:in `<top (required)>'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.4ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 12:06:31 +0100

SyntaxError (/Users/mark/work/depot/app/helpers/store_helper.rb:4: invalid multibyte char (US-ASCII)
/Users/mark/work/depot/app/helpers/store_helper.rb:4: invalid multibyte char (US-ASCII)
/Users/mark/work/depot/app/helpers/store_helper.rb:4: syntax error, unexpected $end, expecting ')'
...ncy(1234567890.50, :unit => "Â£", :separator => ",", :delimi...
...                               ^):
  app/controllers/application_controller.rb:1:in `<top (required)>'
  app/controllers/store_controller.rb:2:in `<top (required)>'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (4.2ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 12:06:54 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 48ms (Views: 14.9ms | ActiveRecord: 0.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 12:06:54 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 12:06:54 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 12:06:54 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 12:06:54 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 12:08:14 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (57.0ms)
Completed 200 OK in 72ms (Views: 65.6ms | ActiveRecord: 0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 12:08:14 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 12:08:14 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 12:08:14 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 12:08:14 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 12:08:33 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (52.0ms)
Completed 500 Internal Server Error in 61ms

ActionView::Template::Error (can not load translations from /Users/mark/work/depot/config/locales/en.yml, expected it to return a hash, but does not):
    11:     <h3><%= product.title %></h3> 
    12:     <%= sanitize(product.description) %>
    13:     <div class="price_line"> 
    14:       <span class="price"><%= number_to_currency(product.price) %></span> 
    15:     </div> 
    16:   </div> 
    17: <% end %>
  app/views/store/index.html.erb:14:in `block in _app_views_store_index_html_erb___4287523973604880394_2179861660'
  app/views/store/index.html.erb:8:in `each'
  app/views/store/index.html.erb:8:in `_app_views_store_index_html_erb___4287523973604880394_2179861660'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.5ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 12:08:37 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (77.9ms)
Completed 500 Internal Server Error in 89ms

ActionView::Template::Error (can not load translations from /Users/mark/work/depot/config/locales/en.yml, expected it to return a hash, but does not):
    11:     <h3><%= product.title %></h3> 
    12:     <%= sanitize(product.description) %>
    13:     <div class="price_line"> 
    14:       <span class="price"><%= number_to_currency(product.price) %></span> 
    15:     </div> 
    16:   </div> 
    17: <% end %>
  app/views/store/index.html.erb:14:in `block in _app_views_store_index_html_erb___4287523973604880394_2179861660'
  app/views/store/index.html.erb:8:in `each'
  app/views/store/index.html.erb:8:in `_app_views_store_index_html_erb___4287523973604880394_2179861660'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.5ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 12:08:42 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (52.3ms)
Completed 500 Internal Server Error in 62ms

ActionView::Template::Error (can not load translations from /Users/mark/work/depot/config/locales/en.yml, expected it to return a hash, but does not):
    11:     <h3><%= product.title %></h3> 
    12:     <%= sanitize(product.description) %>
    13:     <div class="price_line"> 
    14:       <span class="price"><%= number_to_currency(product.price) %></span> 
    15:     </div> 
    16:   </div> 
    17: <% end %>
  app/views/store/index.html.erb:14:in `block in _app_views_store_index_html_erb___4287523973604880394_2179861660'
  app/views/store/index.html.erb:8:in `each'
  app/views/store/index.html.erb:8:in `_app_views_store_index_html_erb___4287523973604880394_2179861660'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.5ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 12:09:02 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (80.6ms)
Completed 200 OK in 97ms (Views: 90.1ms | ActiveRecord: 0.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 12:09:02 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 12:09:02 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 12:09:02 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 12:09:02 +0100
Served asset /logo.png - 304 Not Modified (0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (6.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')


Started GET "/store/" for 127.0.0.1 at 2011-10-10 12:55:25 +0100

ActionController::RoutingError (No route matches [GET] "/store"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 12:55:36 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 20ms (Views: 14.4ms | ActiveRecord: 0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 12:55:36 +0100
Served asset /scaffold.css - 404 Not Found (32ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 12:55:36 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 12:55:36 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 12:55:36 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/store/new/" for 127.0.0.1 at 2011-10-10 13:42:27 +0100

ActionController::RoutingError (No route matches [GET] "/store/new"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/say/hello" for 127.0.0.1 at 2011-10-10 13:42:40 +0100

ActionController::RoutingError (No route matches [GET] "/say/hello"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/products" for 127.0.0.1 at 2011-10-10 13:43:32 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (56.7ms)
Completed 200 OK in 66ms (Views: 64.8ms | ActiveRecord: 0.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 13:43:32 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 13:43:32 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 13:43:32 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.4ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 13:43:32 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/9" for 127.0.0.1 at 2011-10-10 15:16:49 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
Rendered products/show.html.erb within layouts/application (5.7ms)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 15:16:49 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 15:16:49 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 15:16:49 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 15:16:50 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/9/edit" for 127.0.0.1 at 2011-10-10 15:16:55 +0100
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
Rendered products/_form.html.erb (7.9ms)
Rendered products/edit.html.erb within layouts/application (16.3ms)
Completed 200 OK in 26ms (Views: 24.8ms | ActiveRecord: 0.3ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 15:16:55 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 15:16:55 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 15:16:55 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 15:16:55 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products" for 127.0.0.1 at 2011-10-10 15:16:58 +0100
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered products/index.html.erb within layouts/application (11.8ms)
Completed 200 OK in 22ms (Views: 20.1ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 15:16:58 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 15:16:58 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 15:16:58 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 15:16:58 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/9" for 127.0.0.1 at 2011-10-10 15:17:02 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
Rendered products/show.html.erb within layouts/application (5.4ms)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 15:17:02 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 15:17:02 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 15:17:02 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 15:17:02 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/9/edit" for 127.0.0.1 at 2011-10-10 15:17:08 +0100
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
Rendered products/_form.html.erb (7.3ms)
Rendered products/edit.html.erb within layouts/application (8.4ms)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 15:17:08 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 15:17:08 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 15:17:08 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 15:17:08 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products" for 127.0.0.1 at 2011-10-10 15:17:18 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (39.3ms)
Completed 200 OK in 49ms (Views: 47.5ms | ActiveRecord: 0.4ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 15:17:18 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 15:17:18 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 15:17:18 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 15:17:18 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/9" for 127.0.0.1 at 2011-10-10 15:17:30 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
Rendered products/show.html.erb within layouts/application (5.3ms)
Completed 200 OK in 16ms (Views: 14.0ms | ActiveRecord: 0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 15:17:30 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 15:17:30 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 15:17:30 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 15:17:30 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products" for 127.0.0.1 at 2011-10-10 15:17:39 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (11.9ms)
Completed 200 OK in 22ms (Views: 20.1ms | ActiveRecord: 0.3ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 15:17:39 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 15:17:39 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 15:17:39 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 15:17:39 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/6" for 127.0.0.1 at 2011-10-10 15:17:44 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
Rendered products/show.html.erb within layouts/application (5.6ms)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.4ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 15:17:44 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 15:17:44 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 15:17:44 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 15:17:44 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/6/edit" for 127.0.0.1 at 2011-10-10 15:17:47 +0100
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
Rendered products/_form.html.erb (7.2ms)
Rendered products/edit.html.erb within layouts/application (8.4ms)
Completed 200 OK in 19ms (Views: 16.9ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 15:17:47 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 15:17:47 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 15:17:47 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 15:17:47 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products" for 127.0.0.1 at 2011-10-10 15:17:49 +0100
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered products/index.html.erb within layouts/application (39.6ms)
Completed 200 OK in 49ms (Views: 47.7ms | ActiveRecord: 0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 15:17:50 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 15:17:50 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 15:17:50 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.4ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 15:17:50 +0100
Served asset /logo.png - 304 Not Modified (0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20110831140527)
Migrating to CreateLineItems (20111010143840)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20111010143840')
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("line_items")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")


Started GET "/products" for 127.0.0.1 at 2011-10-10 16:21:07 +0100

SyntaxError (/Users/mark/work/depot/app/models/product.rb:24: syntax error, unexpected keyword_end, expecting $end):
  app/controllers/products_controller.rb:1:in `<top (required)>'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.8ms)


Started GET "/products/list" for 127.0.0.1 at 2011-10-10 16:21:25 +0100

SyntaxError (/Users/mark/work/depot/app/models/product.rb:24: syntax error, unexpected keyword_end, expecting $end):
  app/controllers/products_controller.rb:1:in `<top (required)>'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.4ms)


Started GET "/products/9" for 127.0.0.1 at 2011-10-10 16:21:46 +0100

SyntaxError (/Users/mark/work/depot/app/models/product.rb:24: syntax error, unexpected keyword_end, expecting $end):
  app/controllers/products_controller.rb:1:in `<top (required)>'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.5ms)


Started GET "/products/" for 127.0.0.1 at 2011-10-10 16:22:25 +0100

SyntaxError (/Users/mark/work/depot/app/models/product.rb:24: syntax error, unexpected keyword_end, expecting $end):
  app/controllers/products_controller.rb:1:in `<top (required)>'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.3ms)


Started GET "/products/9" for 127.0.0.1 at 2011-10-10 16:31:05 +0100

SyntaxError (/Users/mark/work/depot/app/models/product.rb:25: syntax error, unexpected keyword_end, expecting $end):
  app/controllers/products_controller.rb:1:in `<top (required)>'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.5ms)


Started GET "/products" for 127.0.0.1 at 2011-10-10 16:32:16 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (12.1ms)
Completed 200 OK in 22ms (Views: 20.8ms | ActiveRecord: 0.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 16:32:16 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 16:32:16 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 16:32:16 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 16:32:16 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/" for 127.0.0.1 at 2011-10-10 16:32:29 +0100
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered products/index.html.erb within layouts/application (12.4ms)
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.4ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 16:32:29 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 16:32:29 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 16:32:29 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 16:32:29 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/new" for 127.0.0.1 at 2011-10-10 16:32:38 +0100
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (7.3ms)
Rendered products/new.html.erb within layouts/application (8.3ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.2ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 16:32:39 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 16:32:39 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 16:32:39 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 16:32:39 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products" for 127.0.0.1 at 2011-10-10 16:32:41 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (12.6ms)
Completed 200 OK in 22ms (Views: 20.8ms | ActiveRecord: 0.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 16:32:41 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 16:32:41 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 16:32:41 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.4ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 16:32:41 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products" for 127.0.0.1 at 2011-10-10 16:53:40 +0100
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered products/index.html.erb within layouts/application (12.1ms)
Compiled depot.css  (0ms)  (pid 92114)
Completed 200 OK in 25ms (Views: 23.2ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 16:53:40 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 16:53:40 +0100
Served asset /depot.css - 200 OK (11ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 16:53:40 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 16:53:40 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products" for 127.0.0.1 at 2011-10-10 16:53:42 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (12.2ms)
Completed 200 OK in 22ms (Views: 20.6ms | ActiveRecord: 0.4ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 16:53:42 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 16:53:42 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 16:53:42 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 16:53:42 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/index/" for 127.0.0.1 at 2011-10-10 16:53:58 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"index"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "index"]]
Completed 404 Not Found in 2ms

ActiveRecord::RecordNotFound (Couldn't find Product with id=index):
  app/controllers/products_controller.rb:16:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.4ms)


Started GET "/products/new" for 127.0.0.1 at 2011-10-10 16:54:32 +0100
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (7.4ms)
Rendered products/new.html.erb within layouts/application (8.1ms)
Completed 200 OK in 17ms (Views: 16.1ms | ActiveRecord: 0.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 16:54:32 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 16:54:32 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 16:54:32 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 16:54:32 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products" for 127.0.0.1 at 2011-10-10 16:54:34 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (12.4ms)
Completed 200 OK in 22ms (Views: 20.8ms | ActiveRecord: 0.3ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 16:54:34 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 16:54:34 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 16:54:34 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 16:54:35 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products" for 127.0.0.1 at 2011-10-10 16:54:38 +0100
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered products/index.html.erb within layouts/application (12.4ms)
Completed 200 OK in 22ms (Views: 20.6ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 16:54:38 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 16:54:38 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 16:54:38 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 16:54:38 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products" for 127.0.0.1 at 2011-10-10 16:54:39 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (38.9ms)
Completed 200 OK in 49ms (Views: 47.2ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 16:54:39 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 16:54:39 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 16:54:39 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 16:54:39 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/store/index" for 127.0.0.1 at 2011-10-10 16:55:14 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (8.8ms)
Completed 200 OK in 27ms (Views: 17.1ms | ActiveRecord: 0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 16:55:14 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 16:55:14 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 16:55:14 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 16:55:14 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/store/" for 127.0.0.1 at 2011-10-10 16:55:34 +0100

ActionController::RoutingError (No route matches [GET] "/store"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/store/index/" for 127.0.0.1 at 2011-10-10 16:55:42 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 27ms (Views: 17.2ms | ActiveRecord: 0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 16:55:42 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 16:55:42 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 16:55:42 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 16:55:42 +0100
Served asset /logo.png - 304 Not Modified (0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (35.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010143840')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (32.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010143840')[0m
  [1m[35m (1.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20110831140527)
Migrating to CreateLineItems (20111010143840)
Migrating to CreateCarts (20111010163205)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20111010163205')
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("carts")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("line_items")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (27.9ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')


Started GET "/store/index/" for 127.0.0.1 at 2011-10-10 17:35:08 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 26ms (Views: 16.9ms | ActiveRecord: 0.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 17:35:08 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 17:35:08 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 17:35:08 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.4ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 17:35:08 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/store/index/" for 127.0.0.1 at 2011-10-10 17:35:12 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 26ms (Views: 16.7ms | ActiveRecord: 0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 17:35:12 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 17:35:12 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 17:35:12 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 17:35:12 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-10 17:35:20 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"5"}
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Mon, 10 Oct 2011 16:35:20 UTC +00:00], ["updated_at", Mon, 10 Oct 2011 16:35:20 UTC +00:00]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "5"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["cart_id", 1], ["created_at", Mon, 10 Oct 2011 16:35:20 UTC +00:00], ["product_id", 5], ["updated_at", Mon, 10 Oct 2011 16:35:20 UTC +00:00]]
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 1 LIMIT 1
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 115ms


Started GET "/carts/1" for 127.0.0.1 at 2011-10-10 17:35:20 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "1"]]
Rendered carts/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.4ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 17:35:20 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 17:35:20 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 17:35:20 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 17:35:20 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/carts/1" for 127.0.0.1 at 2011-10-10 17:45:33 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", "1"]]
ERROR: compiling _app_views_carts_show_html_erb__1748874839294326531_2180742020 RAISED /Users/mark/work/depot/app/views/carts/show.html.erb:5: syntax error, unexpected keyword_end
  ');@output_buffer.append= ( end );@output_buffer.safe_concat('
                                 ^
/Users/mark/work/depot/app/views/carts/show.html.erb:7: syntax error, unexpected keyword_ensure, expecting ')'
/Users/mark/work/depot/app/views/carts/show.html.erb:9: syntax error, unexpected keyword_end, expecting ')'
Function body:           def _app_views_carts_show_html_erb__1748874839294326531_2180742020(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/show";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<h2>Your Pragmatic Cart</h2>
<ul>
  ');@output_buffer.append=  @cart.line_items do |item| @output_buffer.safe_concat('
');@output_buffer.safe_concat('    <li>');@output_buffer.append= ( item.product.title );@output_buffer.safe_concat('</li>
  ');@output_buffer.append= ( end );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</ul>');@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/carts_controller.rb:18:in `show'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__1105420342018370425__process_action__3371988766952903664__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/show.html.erb within layouts/application (0.6ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/show.html.erb:5: syntax error, unexpected keyword_end
  ');@output_buffer.append= ( end );@output_buffer.safe_concat('
                                 ^
/Users/mark/work/depot/app/views/carts/show.html.erb:7: syntax error, unexpected keyword_ensure, expecting ')'
/Users/mark/work/depot/app/views/carts/show.html.erb:9: syntax error, unexpected keyword_end, expecting ')'):
    2: <ul>
    3:   <%= @cart.line_items do |item| %>
    4:     <li><%= item.product.title %></li>
    5:   <%= end %>
    6: </ul>
  app/controllers/carts_controller.rb:18:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/carts/1" for 127.0.0.1 at 2011-10-10 17:48:50 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered carts/show.html.erb within layouts/application (53.2ms)
Completed 200 OK in 64ms (Views: 61.7ms | ActiveRecord: 1.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 17:48:50 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 17:48:50 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 17:48:50 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 17:48:50 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-10 17:50:48 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "updated_at") VALUES (?, ?, ?, ?)  [["cart_id", 1], ["created_at", Mon, 10 Oct 2011 16:50:49 UTC +00:00], ["product_id", 7], ["updated_at", Mon, 10 Oct 2011 16:50:49 UTC +00:00]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 1 LIMIT 1[0m
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 61ms


Started GET "/carts/1" for 127.0.0.1 at 2011-10-10 17:50:49 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered carts/show.html.erb within layouts/application (55.7ms)
Completed 200 OK in 66ms (Views: 63.6ms | ActiveRecord: 1.3ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-10 17:50:49 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-10 17:50:49 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-10 17:50:49 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-10 17:50:49 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/carts/1" for 127.0.0.1 at 2011-10-11 10:12:35 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered carts/show.html.erb within layouts/application (55.1ms)
Completed 200 OK in 65ms (Views: 62.6ms | ActiveRecord: 1.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 10:12:35 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 10:12:35 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 10:12:35 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 10:12:35 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 10:29:50 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 55ms (Views: 45.5ms | ActiveRecord: 0.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 10:29:50 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 10:29:50 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 10:29:50 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 10:29:50 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-11 10:30:34 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["cart_id", 1], ["created_at", Tue, 11 Oct 2011 09:30:34 UTC +00:00], ["product_id", 7], ["updated_at", Tue, 11 Oct 2011 09:30:34 UTC +00:00]]
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 1 LIMIT 1
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 60ms


Started GET "/carts/1" for 127.0.0.1 at 2011-10-11 10:30:34 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered carts/show.html.erb within layouts/application (53.4ms)
Completed 200 OK in 63ms (Views: 61.0ms | ActiveRecord: 1.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 10:30:34 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 10:30:34 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 10:30:34 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 10:30:34 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items" for 127.0.0.1 at 2011-10-11 10:56:58 +0100
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" 
Rendered line_items/index.html.erb within layouts/application (7.9ms)
Completed 200 OK in 17ms (Views: 16.1ms | ActiveRecord: 0.3ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 10:56:58 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 10:56:58 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 10:56:58 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.4ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 10:56:58 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-11 10:57:28 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "5"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["cart_id", 1], ["created_at", Tue, 11 Oct 2011 09:57:28 UTC +00:00], ["product_id", 5], ["updated_at", Tue, 11 Oct 2011 09:57:28 UTC +00:00]]
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 1 LIMIT 1
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 31ms


Started GET "/carts/1" for 127.0.0.1 at 2011-10-11 10:57:28 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (27.8ms)
Completed 200 OK in 38ms (Views: 35.6ms | ActiveRecord: 1.1ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 10:57:28 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 10:57:28 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 10:57:28 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 10:57:28 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=8" for 127.0.0.1 at 2011-10-11 10:57:36 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"8"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "8"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["cart_id", 1], ["created_at", Tue, 11 Oct 2011 09:57:36 UTC +00:00], ["product_id", 8], ["updated_at", Tue, 11 Oct 2011 09:57:36 UTC +00:00]]
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 1 LIMIT 1
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 30ms


Started GET "/carts/1" for 127.0.0.1 at 2011-10-11 10:57:36 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1[0m
Rendered carts/show.html.erb within layouts/application (28.3ms)
Completed 200 OK in 38ms (Views: 35.9ms | ActiveRecord: 1.2ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 10:57:36 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 10:57:36 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 10:57:36 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 10:57:36 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 11:19:40 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
ERROR: compiling _app_views_store_index_html_erb___4287523973604880394_2180397860 RAISED /Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected tIDENTIFIER, expecting ')'
..._tag(product.image_url) link_to );@output_buffer.safe_concat...
...                               ^
Function body:           def _app_views_store_index_html_erb___4287523973604880394_2180397860(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "store/index";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is the view template and produces an HTML result - % signify ruby code in a view %= output of ruby code to view. Use of sanitize allows adding HTML stylings but opens up potential security hole -->
'); if notice 
@output_buffer.safe_concat('<p id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</p> 
'); end 
@output_buffer.safe_concat(' 
<h1>Your Pragmatic Catalog</h1> 
 
'); @products.each do |product| 
@output_buffer.safe_concat('  <div class="entry"> 
    ');@output_buffer.append= ( image_tag(product.image_url) link_to );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <h3>');@output_buffer.append= ( product.title );@output_buffer.safe_concat('</h3> 
    ');@output_buffer.append= ( sanitize(product.description) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <div class="price_line"> 
      <span class="price">');@output_buffer.append= ( number_to_currency(product.price) );@output_buffer.safe_concat('</span>
      ');@output_buffer.append= ( button_to 'Add to Cart', line_items_path(:product_id => product) );@output_buffer.safe_concat(' 
');@output_buffer.safe_concat('    </div> 
  </div> 
'); end 
@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__2825130298311788563__process_action__1111156002226948993__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered store/index.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 13ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected tIDENTIFIER, expecting ')'
..._tag(product.image_url) link_to );@output_buffer.safe_concat...
...                               ^):
    7:  
    8: <% @products.each do |product| %>
    9:   <div class="entry"> 
    10:     <%= image_tag(product.image_url) link_to %>
    11:     <h3><%= product.title %></h3> 
    12:     <%= sanitize(product.description) %>
    13:     <div class="price_line"> 
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.4ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 11:19:42 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
ERROR: compiling _app_views_store_index_html_erb___4287523973604880394_2180397860 RAISED /Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected tIDENTIFIER, expecting ')'
..._tag(product.image_url) link_to );@output_buffer.safe_concat...
...                               ^
Function body:           def _app_views_store_index_html_erb___4287523973604880394_2180397860(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "store/index";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is the view template and produces an HTML result - % signify ruby code in a view %= output of ruby code to view. Use of sanitize allows adding HTML stylings but opens up potential security hole -->
'); if notice 
@output_buffer.safe_concat('<p id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</p> 
'); end 
@output_buffer.safe_concat(' 
<h1>Your Pragmatic Catalog</h1> 
 
'); @products.each do |product| 
@output_buffer.safe_concat('  <div class="entry"> 
    ');@output_buffer.append= ( image_tag(product.image_url) link_to );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <h3>');@output_buffer.append= ( product.title );@output_buffer.safe_concat('</h3> 
    ');@output_buffer.append= ( sanitize(product.description) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <div class="price_line"> 
      <span class="price">');@output_buffer.append= ( number_to_currency(product.price) );@output_buffer.safe_concat('</span>
      ');@output_buffer.append= ( button_to 'Add to Cart', line_items_path(:product_id => product) );@output_buffer.safe_concat(' 
');@output_buffer.safe_concat('    </div> 
  </div> 
'); end 
@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__2825130298311788563__process_action__1111156002226948993__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered store/index.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 15ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected tIDENTIFIER, expecting ')'
..._tag(product.image_url) link_to );@output_buffer.safe_concat...
...                               ^):
    7:  
    8: <% @products.each do |product| %>
    9:   <div class="entry"> 
    10:     <%= image_tag(product.image_url) link_to %>
    11:     <h3><%= product.title %></h3> 
    12:     <%= sanitize(product.description) %>
    13:     <div class="price_line"> 
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.3ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 11:21:04 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
ERROR: compiling _app_views_store_index_html_erb___4287523973604880394_2180387080 RAISED /Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected tIDENTIFIER, expecting ')'
..._tag(product.image_url) link_to /carts/ );@output_buffer.saf...
...                               ^
/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ')'
...ct.image_url) link_to /carts/ );@output_buffer.safe_concat('
...                               ^
/Users/mark/work/depot/app/views/store/index.html.erb:18: syntax error, unexpected keyword_end, expecting ')'
'); end 
       ^
/Users/mark/work/depot/app/views/store/index.html.erb:20: syntax error, unexpected keyword_ensure, expecting ')'
/Users/mark/work/depot/app/views/store/index.html.erb:22: syntax error, unexpected keyword_end, expecting ')'
Function body:           def _app_views_store_index_html_erb___4287523973604880394_2180387080(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "store/index";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is the view template and produces an HTML result - % signify ruby code in a view %= output of ruby code to view. Use of sanitize allows adding HTML stylings but opens up potential security hole -->
'); if notice 
@output_buffer.safe_concat('<p id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</p> 
'); end 
@output_buffer.safe_concat(' 
<h1>Your Pragmatic Catalog</h1> 
 
'); @products.each do |product| 
@output_buffer.safe_concat('  <div class="entry"> 
    ');@output_buffer.append= ( image_tag(product.image_url) link_to /carts/ );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <h3>');@output_buffer.append= ( product.title );@output_buffer.safe_concat('</h3> 
    ');@output_buffer.append= ( sanitize(product.description) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <div class="price_line"> 
      <span class="price">');@output_buffer.append= ( number_to_currency(product.price) );@output_buffer.safe_concat('</span>
      ');@output_buffer.append= ( button_to 'Add to Cart', line_items_path(:product_id => product) );@output_buffer.safe_concat(' 
');@output_buffer.safe_concat('    </div> 
  </div> 
'); end 
@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__2825130298311788563__process_action__1111156002226948993__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered store/index.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 14ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected tIDENTIFIER, expecting ')'
..._tag(product.image_url) link_to /carts/ );@output_buffer.saf...
...                               ^
/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ')'
...ct.image_url) link_to /carts/ );@output_buffer.safe_concat('
...                               ^
/Users/mark/work/depot/app/views/store/index.html.erb:18: syntax error, unexpected keyword_end, expecting ')'
'); end 
       ^
/Users/mark/work/depot/app/views/store/index.html.erb:20: syntax error, unexpected keyword_ensure, expecting ')'
/Users/mark/work/depot/app/views/store/index.html.erb:22: syntax error, unexpected keyword_end, expecting ')'):
    7:  
    8: <% @products.each do |product| %>
    9:   <div class="entry"> 
    10:     <%= image_tag(product.image_url) link_to /carts/ %>
    11:     <h3><%= product.title %></h3> 
    12:     <%= sanitize(product.description) %>
    13:     <div class="price_line"> 
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.4ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 11:34:14 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
ERROR: compiling _app_views_store_index_html_erb___4287523973604880394_2169972740 RAISED /Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ',', expecting ')'
...( image_tag(product.image_url), :class => "image_link" );@ou...
...                               ^
Function body:           def _app_views_store_index_html_erb___4287523973604880394_2169972740(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "store/index";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is the view template and produces an HTML result - % signify ruby code in a view %= output of ruby code to view. Use of sanitize allows adding HTML stylings but opens up potential security hole -->
'); if notice 
@output_buffer.safe_concat('<p id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</p> 
'); end 
@output_buffer.safe_concat(' 
<h1>Your Pragmatic Catalog</h1> 
 
'); @products.each do |product| 
@output_buffer.safe_concat('  <div class="entry"> 
    ');@output_buffer.append= ( image_tag(product.image_url), :class => "image_link" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <h3>');@output_buffer.append= ( product.title );@output_buffer.safe_concat('</h3> 
    ');@output_buffer.append= ( sanitize(product.description) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <div class="price_line"> 
      <span class="price">');@output_buffer.append= ( number_to_currency(product.price) );@output_buffer.safe_concat('</span>
      ');@output_buffer.append= ( button_to 'Add to Cart', line_items_path(:product_id => product) );@output_buffer.safe_concat(' 
');@output_buffer.safe_concat('    </div> 
  </div> 
'); end 
@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__2825130298311788563__process_action__1111156002226948993__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered store/index.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 14ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ',', expecting ')'
...( image_tag(product.image_url), :class => "image_link" );@ou...
...                               ^):
    7:  
    8: <% @products.each do |product| %>
    9:   <div class="entry"> 
    10:     <%= image_tag(product.image_url), :class => "image_link" %>
    11:     <h3><%= product.title %></h3> 
    12:     <%= sanitize(product.description) %>
    13:     <div class="price_line"> 
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.3ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 11:35:08 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (9.0ms)
Compiled depot.css  (0ms)  (pid 92114)
Completed 200 OK in 30ms (Views: 20.4ms | ActiveRecord: 0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 11:35:08 +0100
Served asset /depot.css - 200 OK (3ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 11:35:08 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 11:35:08 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.4ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 11:35:08 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-11 11:35:16 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["cart_id", 1], ["created_at", Tue, 11 Oct 2011 10:35:16 UTC +00:00], ["product_id", 9], ["updated_at", Tue, 11 Oct 2011 10:35:16 UTC +00:00]]
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 1 LIMIT 1
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 59ms


Started GET "/carts/1" for 127.0.0.1 at 2011-10-11 11:35:16 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (57.7ms)
Completed 200 OK in 68ms (Views: 65.2ms | ActiveRecord: 1.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 11:35:16 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 11:35:16 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 11:35:16 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 11:35:16 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 11:40:02 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (9.1ms)
Completed 200 OK in 57ms (Views: 18.5ms | ActiveRecord: 0.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 11:40:02 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 11:40:02 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 11:40:02 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 11:40:02 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 11:41:43 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
ERROR: compiling _app_views_store_index_html_erb___4287523973604880394_2157916540 RAISED /Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ')', expecting tASSOC
...s_path(:product_id => product)) );@output_buffer.safe_concat...
...                               ^
/Users/mark/work/depot/app/views/store/index.html.erb:18: syntax error, unexpected keyword_end, expecting ')'
'); end 
       ^
/Users/mark/work/depot/app/views/store/index.html.erb:20: syntax error, unexpected keyword_ensure, expecting ')'
/Users/mark/work/depot/app/views/store/index.html.erb:22: syntax error, unexpected keyword_end, expecting ')'
Function body:           def _app_views_store_index_html_erb___4287523973604880394_2157916540(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "store/index";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is the view template and produces an HTML result - % signify ruby code in a view %= output of ruby code to view. Use of sanitize allows adding HTML stylings but opens up potential security hole -->
'); if notice 
@output_buffer.safe_concat('<p id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</p> 
'); end 
@output_buffer.safe_concat(' 
<h1>Your Pragmatic Catalog</h1> 
 
'); @products.each do |product| 
@output_buffer.safe_concat('  <div class="entry"> 
    ');@output_buffer.append= ( image_tag(product.image_url, :class => "image_link", :title => "add to cart", line_items_path(:product_id => product)) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <h3>');@output_buffer.append= ( product.title );@output_buffer.safe_concat('</h3> 
    ');@output_buffer.append= ( sanitize(product.description) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <div class="price_line"> 
      <span class="price">');@output_buffer.append= ( number_to_currency(product.price) );@output_buffer.safe_concat('</span>
      ');@output_buffer.append= ( button_to 'add to cart', line_items_path(:product_id => product) );@output_buffer.safe_concat(' 
');@output_buffer.safe_concat('    </div> 
  </div> 
'); end 
@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__2825130298311788563__process_action__1111156002226948993__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered store/index.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 14ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ')', expecting tASSOC
...s_path(:product_id => product)) );@output_buffer.safe_concat...
...                               ^
/Users/mark/work/depot/app/views/store/index.html.erb:18: syntax error, unexpected keyword_end, expecting ')'
'); end 
       ^
/Users/mark/work/depot/app/views/store/index.html.erb:20: syntax error, unexpected keyword_ensure, expecting ')'
/Users/mark/work/depot/app/views/store/index.html.erb:22: syntax error, unexpected keyword_end, expecting ')'):
    7:  
    8: <% @products.each do |product| %>
    9:   <div class="entry"> 
    10:     <%= image_tag(product.image_url, :class => "image_link", :title => "add to cart", line_items_path(:product_id => product)) %>
    11:     <h3><%= product.title %></h3> 
    12:     <%= sanitize(product.description) %>
    13:     <div class="price_line"> 
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.4ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 11:43:58 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
ERROR: compiling _app_views_store_index_html_erb___4287523973604880394_2180337080 RAISED /Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ',', expecting ')'
...nk", :title => "add to cart"}), line_items_path(:product_id ...
...                               ^
/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ')', expecting keyword_end
...path(:product_id => product)) );@output_buffer.safe_concat('
...                               ^
Function body:           def _app_views_store_index_html_erb___4287523973604880394_2180337080(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "store/index";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is the view template and produces an HTML result - % signify ruby code in a view %= output of ruby code to view. Use of sanitize allows adding HTML stylings but opens up potential security hole -->
'); if notice 
@output_buffer.safe_concat('<p id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</p> 
'); end 
@output_buffer.safe_concat(' 
<h1>Your Pragmatic Catalog</h1> 
 
'); @products.each do |product| 
@output_buffer.safe_concat('  <div class="entry"> 
    ');@output_buffer.append= ( image_tag(product.image_url, {:class => "image_link", :title => "add to cart"}), line_items_path(:product_id => product)) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <h3>');@output_buffer.append= ( product.title );@output_buffer.safe_concat('</h3> 
    ');@output_buffer.append= ( sanitize(product.description) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <div class="price_line"> 
      <span class="price">');@output_buffer.append= ( number_to_currency(product.price) );@output_buffer.safe_concat('</span>
      ');@output_buffer.append= ( button_to 'add to cart', line_items_path(:product_id => product) );@output_buffer.safe_concat(' 
');@output_buffer.safe_concat('    </div> 
  </div> 
'); end 
@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__2825130298311788563__process_action__1111156002226948993__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered store/index.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 13ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ',', expecting ')'
...nk", :title => "add to cart"}), line_items_path(:product_id ...
...                               ^
/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ')', expecting keyword_end
...path(:product_id => product)) );@output_buffer.safe_concat('
...                               ^):
    7:  
    8: <% @products.each do |product| %>
    9:   <div class="entry"> 
    10:     <%= image_tag(product.image_url, {:class => "image_link", :title => "add to cart"}), line_items_path(:product_id => product)) %>
    11:     <h3><%= product.title %></h3> 
    12:     <%= sanitize(product.description) %>
    13:     <div class="price_line"> 
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.5ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 11:43:59 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
ERROR: compiling _app_views_store_index_html_erb___4287523973604880394_2180337080 RAISED /Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ',', expecting ')'
...nk", :title => "add to cart"}), line_items_path(:product_id ...
...                               ^
/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ')', expecting keyword_end
...path(:product_id => product)) );@output_buffer.safe_concat('
...                               ^
Function body:           def _app_views_store_index_html_erb___4287523973604880394_2180337080(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "store/index";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is the view template and produces an HTML result - % signify ruby code in a view %= output of ruby code to view. Use of sanitize allows adding HTML stylings but opens up potential security hole -->
'); if notice 
@output_buffer.safe_concat('<p id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</p> 
'); end 
@output_buffer.safe_concat(' 
<h1>Your Pragmatic Catalog</h1> 
 
'); @products.each do |product| 
@output_buffer.safe_concat('  <div class="entry"> 
    ');@output_buffer.append= ( image_tag(product.image_url, {:class => "image_link", :title => "add to cart"}), line_items_path(:product_id => product)) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <h3>');@output_buffer.append= ( product.title );@output_buffer.safe_concat('</h3> 
    ');@output_buffer.append= ( sanitize(product.description) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <div class="price_line"> 
      <span class="price">');@output_buffer.append= ( number_to_currency(product.price) );@output_buffer.safe_concat('</span>
      ');@output_buffer.append= ( button_to 'add to cart', line_items_path(:product_id => product) );@output_buffer.safe_concat(' 
');@output_buffer.safe_concat('    </div> 
  </div> 
'); end 
@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__2825130298311788563__process_action__1111156002226948993__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered store/index.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 14ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ',', expecting ')'
...nk", :title => "add to cart"}), line_items_path(:product_id ...
...                               ^
/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ')', expecting keyword_end
...path(:product_id => product)) );@output_buffer.safe_concat('
...                               ^):
    7:  
    8: <% @products.each do |product| %>
    9:   <div class="entry"> 
    10:     <%= image_tag(product.image_url, {:class => "image_link", :title => "add to cart"}), line_items_path(:product_id => product)) %>
    11:     <h3><%= product.title %></h3> 
    12:     <%= sanitize(product.description) %>
    13:     <div class="price_line"> 
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.5ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 11:46:19 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
ERROR: compiling _app_views_store_index_html_erb___4287523973604880394_2180396880 RAISED /Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ',', expecting ')'
...nk", :title => "add to cart"}), line_items_path(:product_id ...
...                               ^
/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ',', expecting ')'
...s_path(:product_id => product), {method:post}) );@output_buf...
...                               ^
/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ')', expecting keyword_end
...d => product), {method:post}) );@output_buffer.safe_concat('
...                               ^
Function body:           def _app_views_store_index_html_erb___4287523973604880394_2180396880(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "store/index";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is the view template and produces an HTML result - % signify ruby code in a view %= output of ruby code to view. Use of sanitize allows adding HTML stylings but opens up potential security hole -->
'); if notice 
@output_buffer.safe_concat('<p id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</p> 
'); end 
@output_buffer.safe_concat(' 
<h1>Your Pragmatic Catalog</h1> 
 
'); @products.each do |product| 
@output_buffer.safe_concat('  <div class="entry"> 
    ');@output_buffer.append= ( image_tag(product.image_url, {:class => "image_link", :title => "add to cart"}), line_items_path(:product_id => product), {method:post}) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <h3>');@output_buffer.append= ( product.title );@output_buffer.safe_concat('</h3> 
    ');@output_buffer.append= ( sanitize(product.description) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <div class="price_line"> 
      <span class="price">');@output_buffer.append= ( number_to_currency(product.price) );@output_buffer.safe_concat('</span>
      ');@output_buffer.append= ( button_to 'add to cart', line_items_path(:product_id => product) );@output_buffer.safe_concat(' 
');@output_buffer.safe_concat('    </div> 
  </div> 
'); end 
@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__2825130298311788563__process_action__1111156002226948993__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered store/index.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 13ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ',', expecting ')'
...nk", :title => "add to cart"}), line_items_path(:product_id ...
...                               ^
/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ',', expecting ')'
...s_path(:product_id => product), {method:post}) );@output_buf...
...                               ^
/Users/mark/work/depot/app/views/store/index.html.erb:10: syntax error, unexpected ')', expecting keyword_end
...d => product), {method:post}) );@output_buffer.safe_concat('
...                               ^):
    7:  
    8: <% @products.each do |product| %>
    9:   <div class="entry"> 
    10:     <%= image_tag(product.image_url, {:class => "image_link", :title => "add to cart"}), line_items_path(:product_id => product), {method:post}) %>
    11:     <h3><%= product.title %></h3> 
    12:     <%= sanitize(product.description) %>
    13:     <div class="price_line"> 
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.4ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 11:50:40 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
ERROR: compiling _app_views_store_index_html_erb___4287523973604880394_2170295280 RAISED /Users/mark/work/depot/app/views/store/index.html.erb:17: unknown regexp options - pa
unmatched close parenthesis: /h3> 
    ');@output_buffer.append= ( sanitize(product.description) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <div class="price_line"> 
      <span class="price">');@output_buffer.append= ( number_to_currency(product.price) );@output_buffer.safe_concat('</
/Users/mark/work/depot/app/views/store/index.html.erb:18: syntax error, unexpected tIDENTIFIER, expecting ')'
...buffer.append= ( button_to 'add to cart', line_items_path(:p...
...                               ^
/Users/mark/work/depot/app/views/store/index.html.erb:20: unknown regexp options - dv
/Users/mark/work/depot/app/views/store/index.html.erb:21: unterminated string meets end of file
/Users/mark/work/depot/app/views/store/index.html.erb:21: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_store_index_html_erb___4287523973604880394_2170295280(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "store/index";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is the view template and produces an HTML result - % signify ruby code in a view %= output of ruby code to view. Use of sanitize allows adding HTML stylings but opens up potential security hole -->
'); if notice 
@output_buffer.safe_concat('<p id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</p> 
'); end 
@output_buffer.safe_concat(' 
<h1>Your Pragmatic Catalog</h1> 
 
'); @products.each do |product| 
@output_buffer.safe_concat('  <div class="entry"> 
    ');@output_buffer.append= ( link_to image_tag(product.image_url, 
                  {:class => "image_link", :title => "add to cart"}), 
                  line_items_path(:product_id => product), {:method=>:post} );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <!--');@output_buffer.append= ( #link_to image_tag(product.image_url, {:border => "0", :title => "Push it into cart!"}), line_items_path(:product_id => product), {:method => :post} );@output_buffer.safe_concat(' -->
    <h3>');@output_buffer.append= ( product.title );@output_buffer.safe_concat('</h3> 
    ');@output_buffer.append= ( sanitize(product.description) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <div class="price_line"> 
      <span class="price">');@output_buffer.append= ( number_to_currency(product.price) );@output_buffer.safe_concat('</span>
      ');@output_buffer.append= ( button_to 'add to cart', line_items_path(:product_id => product) );@output_buffer.safe_concat(' 
');@output_buffer.safe_concat('    </div> 
  </div> 
'); end 
@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__2825130298311788563__process_action__1111156002226948993__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered store/index.html.erb within layouts/application (16.4ms)
Completed 500 Internal Server Error in 30ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/store/index.html.erb:17: unknown regexp options - pa
unmatched close parenthesis: /h3> 
    ');@output_buffer.append= ( sanitize(product.description) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <div class="price_line"> 
      <span class="price">');@output_buffer.append= ( number_to_currency(product.price) );@output_buffer.safe_concat('</
/Users/mark/work/depot/app/views/store/index.html.erb:18: syntax error, unexpected tIDENTIFIER, expecting ')'
...buffer.append= ( button_to 'add to cart', line_items_path(:p...
...                               ^
/Users/mark/work/depot/app/views/store/index.html.erb:20: unknown regexp options - dv
/Users/mark/work/depot/app/views/store/index.html.erb:21: unterminated string meets end of file
/Users/mark/work/depot/app/views/store/index.html.erb:21: syntax error, unexpected $end, expecting ')'):
    14:     <h3><%= product.title %></h3> 
    15:     <%= sanitize(product.description) %>
    16:     <div class="price_line"> 
    17:       <span class="price"><%= number_to_currency(product.price) %></span>
    18:       <%= button_to 'add to cart', line_items_path(:product_id => product) %> 
    19:     </div> 
    20:   </div> 
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 11:53:45 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (10.5ms)
Completed 200 OK in 28ms (Views: 18.9ms | ActiveRecord: 0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 11:53:45 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 11:53:45 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 11:53:45 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 11:53:45 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items?product_id=7" for 127.0.0.1 at 2011-10-11 11:54:18 +0100
  Processing by LineItemsController#index as HTML
  Parameters: {"product_id"=>"7"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" 
Rendered line_items/index.html.erb within layouts/application (39.9ms)
Completed 200 OK in 50ms (Views: 48.4ms | ActiveRecord: 0.3ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 11:54:18 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 11:54:18 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 11:54:18 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 11:54:18 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items/4" for 127.0.0.1 at 2011-10-11 11:54:38 +0100
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "4"]]
Rendered line_items/show.html.erb within layouts/application (4.6ms)
Completed 200 OK in 15ms (Views: 13.4ms | ActiveRecord: 0.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 11:54:38 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 11:54:38 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 11:54:38 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.4ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 11:54:38 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items/4/edit" for 127.0.0.1 at 2011-10-11 11:54:42 +0100
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "4"]]
Rendered line_items/_form.html.erb (6.3ms)
Rendered line_items/edit.html.erb within layouts/application (7.8ms)
Completed 200 OK in 17ms (Views: 15.9ms | ActiveRecord: 0.3ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 11:54:42 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 11:54:42 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 11:54:42 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 11:54:42 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items" for 127.0.0.1 at 2011-10-11 11:54:45 +0100
  Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" [0m
Rendered line_items/index.html.erb within layouts/application (11.1ms)
Completed 200 OK in 50ms (Views: 49.0ms | ActiveRecord: 0.3ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 11:54:45 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 11:54:45 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 11:54:45 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 11:54:45 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items" for 127.0.0.1 at 2011-10-11 12:18:43 +0100
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" 
Rendered line_items/index.html.erb within layouts/application (11.1ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 12:18:43 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 12:18:43 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 12:18:43 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 12:18:43 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 12:18:56 +0100
  Processing by StoreController#index as HTML
Completed 500 Internal Server Error in 8ms

NoMethodError (undefined method `find_products_for_sale' for #<Class:0x00000103dc74c8>):
  app/controllers/store_controller.rb:7:in `index'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.3ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 12:18:58 +0100
  Processing by StoreController#index as HTML
Completed 500 Internal Server Error in 10ms

NoMethodError (undefined method `find_products_for_sale' for #<Class:0x00000102f36710>):
  app/controllers/store_controller.rb:7:in `index'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.3ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 12:20:48 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (10.4ms)
Completed 200 OK in 57ms (Views: 18.8ms | ActiveRecord: 0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 12:20:48 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 12:20:48 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 12:20:48 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 12:20:48 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 12:30:50 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (38.1ms)
Completed 200 OK in 58ms (Views: 47.8ms | ActiveRecord: 0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 12:30:50 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 12:30:50 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 12:30:50 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 12:30:50 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 12:46:02 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (9.5ms)
Completed 200 OK in 59ms (Views: 48.2ms | ActiveRecord: 0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 12:46:02 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 12:46:02 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 12:46:02 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 12:46:02 +0100
Served asset /logo.png - 304 Not Modified (1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (25.2ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (24.9ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (10.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (23.1ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (18.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (4.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (20.0ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (14.6ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (8.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (26.3ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (4.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (15.9ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (22.7ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (8.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (2.3ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (15.1ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (8.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (25.0ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (3.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (7.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (22.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (20.8ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (20.0ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (5.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (24.8ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (27.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (3.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (25.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (7.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20110831140527)
Migrating to CreateLineItems (20111010143840)
Migrating to CreateCarts (20111010163205)
Migrating to AddQuantityToLineItems (20111011143935)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (23.7ms)[0m  [1mALTER TABLE "line_items" ADD "quantity" integer DEFAULT 1[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20111011143935')
  [1m[36m (0.3ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("carts")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("line_items")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m


Started GET "/" for 127.0.0.1 at 2011-10-11 16:15:46 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 48ms (Views: 38.0ms | ActiveRecord: 0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 16:15:46 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 16:15:46 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 16:15:46 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 16:15:46 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-11 16:15:48 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-11 15:15:48.998482' WHERE "line_items"."id" = 6
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 1 LIMIT 1[0m
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 80ms


Started GET "/carts/1" for 127.0.0.1 at 2011-10-11 16:15:49 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered carts/show.html.erb within layouts/application (62.3ms)
Completed 200 OK in 73ms (Views: 70.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 16:15:49 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (8.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 16:15:49 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 16:15:49 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 16:15:49 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/carts/1" for 127.0.0.1 at 2011-10-11 16:16:02 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered carts/show.html.erb within layouts/application (57.3ms)
Completed 200 OK in 68ms (Views: 65.4ms | ActiveRecord: 1.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 16:16:02 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 16:16:02 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 16:16:02 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 16:16:02 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/carts/1" for 127.0.0.1 at 2011-10-11 16:16:03 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered carts/show.html.erb within layouts/application (29.6ms)
Completed 200 OK in 40ms (Views: 37.8ms | ActiveRecord: 1.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 16:16:03 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 16:16:03 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 16:16:03 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 16:16:03 +0100
Served asset /logo.png - 304 Not Modified (0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20110831140527)
Migrating to CreateLineItems (20111010143840)
Migrating to CreateCarts (20111010163205)
Migrating to AddQuantityToLineItems (20111011143935)
Migrating to CombineItemsInCart (20111011151739)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to AddQuantityToLineItems (20111011143935)
  [1m[36m (0.0ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  CREATE TEMPORARY TABLE "altered_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("line_items")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "line_items"
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "altered_line_items" ("id","product_id","cart_id","created_at","updated_at","quantity") VALUES (1, 5, 1, '2011-10-10 16:35:20.908543', '2011-10-10 16:35:20.908543', 1)[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "altered_line_items" ("id","product_id","cart_id","created_at","updated_at","quantity") VALUES (2, 7, 1, '2011-10-10 16:50:49.022625', '2011-10-10 16:50:49.022625', 1)
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "altered_line_items" ("id","product_id","cart_id","created_at","updated_at","quantity") VALUES (3, 7, 1, '2011-10-11 09:30:34.222745', '2011-10-11 09:30:34.222745', 1)[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "altered_line_items" ("id","product_id","cart_id","created_at","updated_at","quantity") VALUES (4, 5, 1, '2011-10-11 09:57:28.447858', '2011-10-11 09:57:28.447858', 1)
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "altered_line_items" ("id","product_id","cart_id","created_at","updated_at","quantity") VALUES (5, 8, 1, '2011-10-11 09:57:36.206878', '2011-10-11 09:57:36.206878', 1)[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "altered_line_items" ("id","product_id","cart_id","created_at","updated_at","quantity") VALUES (6, 9, 1, '2011-10-11 10:35:16.208284', '2011-10-11 15:15:48.998482', 2)
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_line_items")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "altered_line_items"
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at") VALUES (1, 5, 1, '2011-10-10 16:35:20.908543', '2011-10-10 16:35:20.908543')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at") VALUES (2, 7, 1, '2011-10-10 16:50:49.022625', '2011-10-10 16:50:49.022625')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at") VALUES (3, 7, 1, '2011-10-11 09:30:34.222745', '2011-10-11 09:30:34.222745')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at") VALUES (4, 5, 1, '2011-10-11 09:57:28.447858', '2011-10-11 09:57:28.447858')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at") VALUES (5, 8, 1, '2011-10-11 09:57:36.206878', '2011-10-11 09:57:36.206878')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at") VALUES (6, 9, 1, '2011-10-11 10:35:16.208284', '2011-10-11 15:15:48.998482')
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "altered_line_items"[0m
  [1m[35m (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20111011143935'
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("carts")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("line_items")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m


Started GET "/carts/1" for 127.0.0.1 at 2011-10-11 16:39:01 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1[0m
Rendered carts/show.html.erb within layouts/application (11.8ms)
Completed 500 Internal Server Error in 17ms

ActionView::Template::Error (undefined method `quantity' for #<LineItem:0x00000103ceaed8>):
    1: <h2>Your Pragmatic Cart</h2> 
    2: <ul>
    3:   <% @cart.line_items.each do |item| %> 
    4:     <li><%= item.quantity %> &times; <%= item.product.title %></li>
    5:   <% end %> 
    6: </ul>
  app/views/carts/show.html.erb:4:in `block in _app_views_carts_show_html_erb__1748874839294326531_2171122860'
  app/views/carts/show.html.erb:3:in `_app_views_carts_show_html_erb__1748874839294326531_2171122860'
  app/controllers/carts_controller.rb:18:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20110831140527)
Migrating to CreateLineItems (20111010143840)
Migrating to CreateCarts (20111010163205)
Migrating to AddQuantityToLineItems (20111011143935)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "line_items" ADD "quantity" integer DEFAULT 1[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20111011143935')
Migrating to CombineItemsInCart (20111011151739)
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" [0m
  [1m[35m (0.1ms)[0m  SELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 1 GROUP BY product_id
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."cart_id" = 1 AND "line_items"."product_id" = 5[0m
  [1m[35mSQL (22.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 1], ["created_at", Tue, 11 Oct 2011 15:39:32 UTC +00:00], ["product_id", 5], ["quantity", 2], ["updated_at", Tue, 11 Oct 2011 15:39:32 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."cart_id" = 1 AND "line_items"."product_id" = 7[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 1], ["created_at", Tue, 11 Oct 2011 15:39:32 UTC +00:00], ["product_id", 7], ["quantity", 2], ["updated_at", Tue, 11 Oct 2011 15:39:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111011151739')[0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("carts")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("line_items")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")


Started GET "/" for 127.0.0.1 at 2011-10-11 16:39:51 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (10.9ms)
Completed 200 OK in 89ms (Views: 44.9ms | ActiveRecord: 0.8ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 16:39:52 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 16:39:52 +0100
Served asset /defaults.js - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 16:39:52 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 16:39:52 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-11 16:39:55 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-11 15:39:55.113386' WHERE "line_items"."id" = 6
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 1 LIMIT 1[0m
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 61ms


Started GET "/carts/1" for 127.0.0.1 at 2011-10-11 16:39:55 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered carts/show.html.erb within layouts/application (56.9ms)
Completed 200 OK in 67ms (Views: 65.0ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 16:39:55 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 16:39:55 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 16:39:55 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 16:39:55 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/carts/wibble" for 127.0.0.1 at 2011-10-11 17:02:07 +0100

SyntaxError (/Users/mark/work/depot/app/controllers/carts_controller.rb:19: syntax error, unexpected ']'
      logger.error "Atempt to access invalid cart #{params[id:]}"
                                                               ^
/Users/mark/work/depot/app/controllers/carts_controller.rb:55: syntax error, unexpected tIDENTIFIER, expecting '}'
        format.html { render action: "new" }
                                         ^
/Users/mark/work/depot/app/controllers/carts_controller.rb:71: syntax error, unexpected tIDENTIFIER, expecting '}'
        format.html { render action: "edit" }
                                          ^
/Users/mark/work/depot/app/controllers/carts_controller.rb:71: unterminated string meets end of file
/Users/mark/work/depot/app/controllers/carts_controller.rb:71: syntax error, unexpected $end, expecting '}'):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.4ms)


Started GET "/carts/wibble" for 127.0.0.1 at 2011-10-11 17:07:52 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"wibble"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", "wibble"]]
Attempt to access invalid cart wibble
Redirected to http://localhost:3000/
Completed 302 Found in 2ms


Started GET "/" for 127.0.0.1 at 2011-10-11 17:07:52 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 83ms (Views: 44.6ms | ActiveRecord: 0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 17:07:52 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 17:07:52 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 17:07:52 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 17:07:52 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/carts/wibble" for 127.0.0.1 at 2011-10-11 17:13:20 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"wibble"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", "wibble"]]
Attempt to access invalid cart wibble
Redirected to http://localhost:3000/
Completed 302 Found in 2ms


Started GET "/" for 127.0.0.1 at 2011-10-11 17:13:20 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 29ms (Views: 19.3ms | ActiveRecord: 0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 17:13:20 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 17:13:20 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 17:13:20 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 17:13:20 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 17:39:20 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 60ms (Views: 19.1ms | ActiveRecord: 0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 17:39:20 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 17:39:20 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 17:39:20 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 17:39:20 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-11 17:39:25 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-11 16:39:26.025637' WHERE "line_items"."id" = 6
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 1 LIMIT 1[0m
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 64ms


Started GET "/carts/1" for 127.0.0.1 at 2011-10-11 17:39:26 +0100

SyntaxError (/Users/mark/work/depot/app/controllers/carts_controller.rb:85: syntax error, unexpected ',', expecting ')'
....html { redirect_to (store_url, :notice => 'Your cart is cur...
...                               ^
/Users/mark/work/depot/app/controllers/carts_controller.rb:85: syntax error, unexpected ')', expecting '}'
...'Your cart is currently empty') }
...                               ^
/Users/mark/work/depot/app/controllers/carts_controller.rb:87: syntax error, unexpected keyword_end, expecting '}'):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.7ms)


Started GET "/carts/1" for 127.0.0.1 at 2011-10-11 17:41:36 +0100

SyntaxError (/Users/mark/work/depot/app/controllers/carts_controller.rb:85: syntax error, unexpected ',', expecting ')'
....html { redirect_to (store_url, :notice => 'Your cart is cur...
...                               ^
/Users/mark/work/depot/app/controllers/carts_controller.rb:85: syntax error, unexpected ')', expecting '}'
...'Your cart is currently empty') }
...                               ^
/Users/mark/work/depot/app/controllers/carts_controller.rb:87: syntax error, unexpected keyword_end, expecting '}'):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.5ms)


Started GET "/carts/1" for 127.0.0.1 at 2011-10-11 17:41:39 +0100

SyntaxError (/Users/mark/work/depot/app/controllers/carts_controller.rb:85: syntax error, unexpected ',', expecting ')'
....html { redirect_to (store_url, :notice => 'Your cart is cur...
...                               ^
/Users/mark/work/depot/app/controllers/carts_controller.rb:85: syntax error, unexpected ')', expecting '}'
...'Your cart is currently empty') }
...                               ^
/Users/mark/work/depot/app/controllers/carts_controller.rb:87: syntax error, unexpected keyword_end, expecting '}'):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.5ms)


Started GET "/carts/1" for 127.0.0.1 at 2011-10-11 17:41:40 +0100

SyntaxError (/Users/mark/work/depot/app/controllers/carts_controller.rb:85: syntax error, unexpected ',', expecting ')'
....html { redirect_to (store_url, :notice => 'Your cart is cur...
...                               ^
/Users/mark/work/depot/app/controllers/carts_controller.rb:85: syntax error, unexpected ')', expecting '}'
...'Your cart is currently empty') }
...                               ^
/Users/mark/work/depot/app/controllers/carts_controller.rb:87: syntax error, unexpected keyword_end, expecting '}'):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.8ms)


Started GET "/carts/1" for 127.0.0.1 at 2011-10-11 17:46:23 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered carts/show.html.erb within layouts/application (31.7ms)
Completed 200 OK in 80ms (Views: 77.8ms | ActiveRecord: 1.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 17:46:23 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 17:46:23 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 17:46:23 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 17:46:23 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/1" for 127.0.0.1 at 2011-10-11 17:46:30 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"1"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-11 17:46:30 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 58ms (Views: 48.3ms | ActiveRecord: 0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 17:46:30 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 17:46:30 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 17:46:30 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 17:46:30 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-11 17:58:50 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (9.9ms)
Compiled depot.css  (0ms)  (pid 92114)
Completed 200 OK in 56ms (Views: 44.6ms | ActiveRecord: 0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 17:58:51 +0100
Served asset /depot.css - 200 OK (42ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 17:58:51 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 17:58:51 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 17:58:51 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-11 17:58:53 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 11 Oct 2011 16:58:53 UTC +00:00], ["updated_at", Tue, 11 Oct 2011 16:58:53 UTC +00:00]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 2], ["created_at", Tue, 11 Oct 2011 16:58:53 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Tue, 11 Oct 2011 16:58:53 UTC +00:00]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
Redirected to http://localhost:3000/carts/2
Completed 302 Found in 35ms


Started GET "/carts/2" for 127.0.0.1 at 2011-10-11 17:58:53 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (33.6ms)
Completed 200 OK in 45ms (Views: 42.7ms | ActiveRecord: 1.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-11 17:58:53 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-11 17:58:53 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-11 17:58:53 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-11 17:58:53 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-12 10:21:59 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 64ms (Views: 53.6ms | ActiveRecord: 0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 10:21:59 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 10:21:59 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 10:21:59 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 10:21:59 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-12 10:39:12 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (24.9ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 2], ["created_at", Wed, 12 Oct 2011 09:39:12 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Wed, 12 Oct 2011 09:39:12 UTC +00:00]]
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
Redirected to http://localhost:3000/carts/2
Completed 302 Found in 86ms


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 10:39:12 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (59.6ms)
Completed 200 OK in 96ms (Views: 93.2ms | ActiveRecord: 1.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 10:39:12 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 10:39:12 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 10:39:12 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 10:39:12 +0100
Served asset /logo.png - 304 Not Modified (0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (16.8ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (4.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (7.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (4.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 12:21:09 +0100

SyntaxError (/Users/mark/work/depot/app/models/cart.rb:16: syntax error, unexpected $end, expecting keyword_end
  end
     ^):
  app/controllers/carts_controller.rb:1:in `<top (required)>'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.5ms)


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 12:21:43 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (60.4ms)
Completed 500 Internal Server Error in 87ms

ActionView::Template::Error (undefined method `total_price' for #<Cart:0x00000102f89a00>):
    10:   
    11:   <tr class="total_line"> 
    12:     <td colspan="2">Total</td> 
    13:     <td class="total_cell"><%= number_to_currency(@cart.total_price) %></td>
    14:   </tr> 
    15: </table>
    16: 
  app/views/carts/show.html.erb:13:in `_app_views_carts_show_html_erb__1748874839294326531_2180922460'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.4ms)


Started GET "/" for 127.0.0.1 at 2011-10-12 12:23:07 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (13.4ms)
Completed 200 OK in 73ms (Views: 62.3ms | ActiveRecord: 0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 12:23:07 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 12:23:07 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 12:23:07 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 12:23:07 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-12 12:23:10 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-12 11:23:10.529274' WHERE "line_items"."id" = 9[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
Redirected to http://localhost:3000/carts/2
Completed 302 Found in 32ms


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 12:23:10 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (29.3ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (undefined method `total_price' for #<Cart:0x00000103f66d88>):
    10:   
    11:   <tr class="total_line"> 
    12:     <td colspan="2">Total</td> 
    13:     <td class="total_cell"><%= number_to_currency(@cart.total_price) %></td>
    14:   </tr> 
    15: </table>
    16: 
  app/views/carts/show.html.erb:13:in `_app_views_carts_show_html_erb__1748874839294326531_2180922460'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.4ms)


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 12:36:48 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (29.4ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (undefined method `product_price' for #<Cart:0x00000103eb7680>):
    10:   
    11:   <tr class="total_line"> 
    12:     <td colspan="2">Total</td> 
    13:     <td class="total_cell"><%= number_to_currency(@cart.product_price) %></td>
    14:   </tr> 
    15: </table>
    16: 
  app/views/carts/show.html.erb:13:in `_app_views_carts_show_html_erb__1748874839294326531_2180345440'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (30.6ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (34.1ms)


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 12:40:09 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (56.8ms)
Completed 500 Internal Server Error in 62ms

ActionView::Template::Error (undefined method `total_price' for #<Cart:0x00000103de3a88>):
    10:   
    11:   <tr class="total_line"> 
    12:     <td colspan="2">Total</td> 
    13:     <td class="total_cell"><%= number_to_currency(@cart.total_price) %></td>
    14:   </tr> 
    15: </table>
    16: 
  app/views/carts/show.html.erb:13:in `_app_views_carts_show_html_erb__1748874839294326531_2179900520'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.4ms)


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 12:46:23 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (57.1ms)
Completed 500 Internal Server Error in 62ms

ActionView::Template::Error (undefined method `current_cart' for #<Cart:0x00000102f75758>):
    10:   
    11:   <tr class="total_line"> 
    12:     <td colspan="2">Total</td> 
    13:     <td class="total_cell"><%= number_to_currency(@cart.current_cart) %></td>
    14:   </tr> 
    15: </table>
    16: 
  app/views/carts/show.html.erb:13:in `_app_views_carts_show_html_erb__1748874839294326531_2172307600'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (4.1ms)


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 12:46:47 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (57.7ms)
Completed 500 Internal Server Error in 63ms

ActionView::Template::Error (undefined method `total_price' for #<Cart:0x00000102f32de0>):
    10:   
    11:   <tr class="total_line"> 
    12:     <td colspan="2">Total</td> 
    13:     <td class="total_cell"><%= number_to_currency(@cart.total_price) %></td>
    14:   </tr> 
    15: </table>
    16: 
  app/views/carts/show.html.erb:13:in `_app_views_carts_show_html_erb__1748874839294326531_2172159200'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.5ms)


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 12:49:52 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (56.7ms)
Completed 500 Internal Server Error in 62ms

ActionView::Template::Error (undefined method `total_price' for #<Cart:0x00000102ec5290>):
    10:   
    11:   <tr class="total_line"> 
    12:     <td colspan="2">Total</td> 
    13:     <td class="total_cell"><%= number_to_currency(@cart.total_price) %></td>
    14:   </tr> 
    15: </table>
    16: 
  app/views/carts/show.html.erb:13:in `_app_views_carts_show_html_erb__1748874839294326531_2172159200'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.4ms)


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 12:49:54 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (56.6ms)
Completed 500 Internal Server Error in 61ms

ActionView::Template::Error (undefined method `total_price' for #<Cart:0x00000102ec4ae8>):
    10:   
    11:   <tr class="total_line"> 
    12:     <td colspan="2">Total</td> 
    13:     <td class="total_cell"><%= number_to_currency(@cart.total_price) %></td>
    14:   </tr> 
    15: </table>
    16: 
  app/views/carts/show.html.erb:13:in `_app_views_carts_show_html_erb__1748874839294326531_2172159200'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.3ms)


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 12:49:55 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (57.1ms)
Completed 500 Internal Server Error in 62ms

ActionView::Template::Error (undefined method `total_price' for #<Cart:0x00000102eba2c8>):
    10:   
    11:   <tr class="total_line"> 
    12:     <td colspan="2">Total</td> 
    13:     <td class="total_cell"><%= number_to_currency(@cart.total_price) %></td>
    14:   </tr> 
    15: </table>
    16: 
  app/views/carts/show.html.erb:13:in `_app_views_carts_show_html_erb__1748874839294326531_2172159200'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.5ms)


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 12:53:30 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (57.9ms)
Completed 500 Internal Server Error in 71ms

ActionView::Template::Error (undefined method `total_price' for #<Cart:0x00000102e93ce0>):
    10:   
    11:   <tr class="total_line"> 
    12:     <td colspan="2">Total</td> 
    13:     <td class="total_cell"><%= number_to_currency(@cart.total_price) %></td>
    14:   </tr> 
    15: </table>
    16: 
  app/views/carts/show.html.erb:13:in `_app_views_carts_show_html_erb__1748874839294326531_2172159200'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 12:53:31 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (56.4ms)
Completed 500 Internal Server Error in 61ms

ActionView::Template::Error (undefined method `total_price' for #<Cart:0x00000102e5ac38>):
    10:   
    11:   <tr class="total_line"> 
    12:     <td colspan="2">Total</td> 
    13:     <td class="total_cell"><%= number_to_currency(@cart.total_price) %></td>
    14:   </tr> 
    15: </table>
    16: 
  app/views/carts/show.html.erb:13:in `_app_views_carts_show_html_erb__1748874839294326531_2172159200'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.4ms)


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 12:53:31 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (57.0ms)
Completed 500 Internal Server Error in 62ms

ActionView::Template::Error (undefined method `total_price' for #<Cart:0x00000102dd70b8>):
    10:   
    11:   <tr class="total_line"> 
    12:     <td colspan="2">Total</td> 
    13:     <td class="total_cell"><%= number_to_currency(@cart.total_price) %></td>
    14:   </tr> 
    15: </table>
    16: 
  app/views/carts/show.html.erb:13:in `_app_views_carts_show_html_erb__1748874839294326531_2172159200'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.5ms)


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 12:53:32 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (56.5ms)
Completed 500 Internal Server Error in 61ms

ActionView::Template::Error (undefined method `total_price' for #<Cart:0x00000102da0e00>):
    10:   
    11:   <tr class="total_line"> 
    12:     <td colspan="2">Total</td> 
    13:     <td class="total_cell"><%= number_to_currency(@cart.total_price) %></td>
    14:   </tr> 
    15: </table>
    16: 
  app/views/carts/show.html.erb:13:in `_app_views_carts_show_html_erb__1748874839294326531_2172159200'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.4ms)


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 12:53:32 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (56.6ms)
Completed 500 Internal Server Error in 61ms

ActionView::Template::Error (undefined method `total_price' for #<Cart:0x00000102d2d900>):
    10:   
    11:   <tr class="total_line"> 
    12:     <td colspan="2">Total</td> 
    13:     <td class="total_cell"><%= number_to_currency(@cart.total_price) %></td>
    14:   </tr> 
    15: </table>
    16: 
  app/views/carts/show.html.erb:13:in `_app_views_carts_show_html_erb__1748874839294326531_2172159200'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.4ms)


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 13:00:03 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (61.0ms)
Completed 500 Internal Server Error in 77ms

ActionView::Template::Error (undefined local variable or method `product' for #<Cart:0x00000102c6fe78>):
    10:   
    11:   <tr class="total_line"> 
    12:     <td colspan="2">Total</td> 
    13:     <td class="total_cell"><%= number_to_currency(@cart.total_price) %></td>
    14:   </tr> 
    15: </table>
    16: 
  app/models/cart.rb:8:in `total_price'
  app/views/carts/show.html.erb:13:in `_app_views_carts_show_html_erb__1748874839294326531_2172159200'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (5.3ms)


Started GET "/" for 127.0.0.1 at 2011-10-12 14:10:41 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (10.1ms)
Completed 200 OK in 79ms (Views: 40.6ms | ActiveRecord: 0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 14:10:41 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.9ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 14:10:41 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 14:10:41 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 14:10:41 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-12 14:26:43 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (38.1ms)
Completed 200 OK in 74ms (Views: 65.2ms | ActiveRecord: 0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 14:26:43 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 14:26:43 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 14:26:44 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 14:26:44 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-12 14:26:46 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 29ms (Views: 18.5ms | ActiveRecord: 0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 14:26:46 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 14:26:46 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 14:26:46 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 14:26:46 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-12 14:26:48 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
Completed 500 Internal Server Error in 25ms

ArgumentError (wrong number of arguments (2 for 1)):
  app/models/cart.rb:8:in `add_product'
  app/controllers/line_items_controller.rb:45:in `create'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-12 14:28:25 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (25.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-12 13:28:26.051383' WHERE "line_items"."id" = 9[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
Redirected to http://localhost:3000/carts/2
Completed 302 Found in 59ms


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 14:28:26 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (58.0ms)
Completed 200 OK in 92ms (Views: 89.5ms | ActiveRecord: 1.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 14:28:26 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 14:28:26 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 14:28:26 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 14:28:26 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-12 14:28:43 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 57ms (Views: 19.5ms | ActiveRecord: 0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 14:28:43 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 14:28:43 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 14:28:43 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 14:28:43 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-12 14:29:24 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-12 13:29:24.293430' WHERE "line_items"."id" = 9[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
Redirected to http://localhost:3000/carts/2
Completed 302 Found in 61ms


Started GET "/carts/2" for 127.0.0.1 at 2011-10-12 14:29:24 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (58.9ms)
Completed 200 OK in 69ms (Views: 66.8ms | ActiveRecord: 1.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 14:29:24 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 14:29:24 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 14:29:24 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 14:29:24 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/2" for 127.0.0.1 at 2011-10-12 14:29:27 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 2
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 2]]
Redirected to http://localhost:3000/
Completed 302 Found in 44ms


Started GET "/" for 127.0.0.1 at 2011-10-12 14:29:27 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 28ms (Views: 18.8ms | ActiveRecord: 0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 14:29:27 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 14:29:27 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 14:29:27 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 14:29:27 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-12 14:29:31 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Oct 2011 13:29:31 UTC +00:00], ["updated_at", Wed, 12 Oct 2011 13:29:31 UTC +00:00]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 3 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 3], ["created_at", Wed, 12 Oct 2011 13:29:31 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Wed, 12 Oct 2011 13:29:31 UTC +00:00]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1[0m
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 44ms


Started GET "/carts/3" for 127.0.0.1 at 2011-10-12 14:29:31 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", "3"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 3[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered carts/show.html.erb within layouts/application (59.8ms)
Completed 200 OK in 70ms (Views: 68.1ms | ActiveRecord: 1.0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 14:29:31 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 14:29:31 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 14:29:31 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 14:29:31 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-12 14:29:36 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 3 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 3], ["created_at", Wed, 12 Oct 2011 13:29:36 UTC +00:00], ["product_id", 7], ["quantity", 1], ["updated_at", Wed, 12 Oct 2011 13:29:36 UTC +00:00]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1[0m
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 64ms


Started GET "/carts/3" for 127.0.0.1 at 2011-10-12 14:29:36 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", "3"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 3[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered carts/show.html.erb within layouts/application (58.4ms)
Completed 200 OK in 69ms (Views: 66.7ms | ActiveRecord: 1.1ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 14:29:36 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 14:29:36 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 14:29:36 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.4ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 14:29:36 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-12 14:29:44 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 58ms (Views: 19.4ms | ActiveRecord: 0.8ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 14:29:44 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 14:29:44 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 14:29:44 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.1ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 14:29:44 +0100
Served asset /logo.png - 304 Not Modified (0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20110831140527)
Migrating to CreateLineItems (20111010143840)
Migrating to CreateCarts (20111010163205)
Migrating to AddQuantityToLineItems (20111011143935)
Migrating to CombineItemsInCart (20111011151739)
Migrating to CopyProductPriceToLineItem (20111012101431)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "line_item" ADD "price" decimal[0m
SQLite3::SQLException: no such table: line_item: ALTER TABLE "line_item" ADD "price" decimal
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (3.8ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (4.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (7.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-12 15:06:30 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 3 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 3], ["created_at", Wed, 12 Oct 2011 14:06:30 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Wed, 12 Oct 2011 14:06:30 UTC +00:00]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1[0m
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 63ms


Started GET "/carts/3" for 127.0.0.1 at 2011-10-12 15:06:30 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", "3"]]
ERROR: compiling _app_views_carts_show_html_erb__1748874839294326531_2171898880 RAISED /Users/mark/work/depot/app/views/carts/show.html.erb:21: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_carts_show_html_erb__1748874839294326531_2171898880(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/show";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
');   render(@cart.line_items) 
@output_buffer.safe_concat('    <tr>
      <td>');@output_buffer.append= ( item.quantity );@output_buffer.safe_concat('&times;</td> 
      <td>');@output_buffer.append= ( item.product.title );@output_buffer.safe_concat('</td> 
      <td class="item_price">');@output_buffer.append= ( number_to_currency(item.total_price) );@output_buffer.safe_concat('</td>
    </tr> 
');   end 
@output_buffer.safe_concat('  
  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(@cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>

<!-- Adds a empty button to the shopping cart -->
');@output_buffer.append= ( button_to 'Empty cart', @cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
');@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/carts_controller.rb:22:in `show'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__1105420342018370425__process_action__3371988766952903664__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/show.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/show.html.erb:21: syntax error, unexpected keyword_ensure, expecting $end):
    18: <!-- Adds a empty button to the shopping cart -->
    19: <%= button_to 'Empty cart', @cart, :method => :delete, :confirm => 'Are you sure?' %>
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (4.0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-12 15:07:09 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 3 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-12 14:07:09.502972' WHERE "line_items"."id" = 13
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1[0m
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 41ms


Started GET "/carts/3" for 127.0.0.1 at 2011-10-12 15:07:09 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", "3"]]
ERROR: compiling _app_views_carts_show_html_erb__1748874839294326531_2169373760 RAISED /Users/mark/work/depot/app/views/carts/show.html.erb:21: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_carts_show_html_erb__1748874839294326531_2169373760(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/show";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->

    <tr>
      <td>');@output_buffer.append= ( item.quantity );@output_buffer.safe_concat('&times;</td> 
      <td>');@output_buffer.append= ( item.product.title );@output_buffer.safe_concat('</td> 
      <td class="item_price">');@output_buffer.append= ( number_to_currency(item.total_price) );@output_buffer.safe_concat('</td>
    </tr> 
');   end 
@output_buffer.safe_concat('  
  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(@cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>

<!-- Adds a empty button to the shopping cart -->
');@output_buffer.append= ( button_to 'Empty cart', @cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
');@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/carts_controller.rb:22:in `show'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__1105420342018370425__process_action__3371988766952903664__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/show.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/show.html.erb:21: syntax error, unexpected keyword_ensure, expecting $end):
    18: <!-- Adds a empty button to the shopping cart -->
    19: <%= button_to 'Empty cart', @cart, :method => :delete, :confirm => 'Are you sure?' %>
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.8ms)


Started GET "/carts/3" for 127.0.0.1 at 2011-10-12 15:13:56 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 3
Rendered carts/show.html.erb within layouts/application (13.8ms)
Completed 500 Internal Server Error in 19ms

ActionView::Template::Error (Missing partial line_items/line_item with {:handlers=>[:erb, :builder, :coffee], :formats=>[:html], :locale=>[:en, :en]}. Searched in:
  * "/Users/mark/work/depot/app/views"
):
    1: <div class="cart_title">Your Cart</div> 
    2: <table>
    3:   <!-- MA - this is a partial to place the cart in the sidebar -->
    4:   <% render(@cart.line_items) %>
    5:     <tr>
    6:       <td><%= item.quantity %>&times;</td> 
    7:       <td><%= item.product.title %></td> 
  app/views/carts/show.html.erb:4:in `_app_views_carts_show_html_erb__1748874839294326531_2177466540'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/carts/3" for 127.0.0.1 at 2011-10-12 15:13:57 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 3
Rendered carts/show.html.erb within layouts/application (9.6ms)
Completed 500 Internal Server Error in 15ms

ActionView::Template::Error (Missing partial line_items/line_item with {:handlers=>[:erb, :builder, :coffee], :formats=>[:html], :locale=>[:en, :en]}. Searched in:
  * "/Users/mark/work/depot/app/views"
):
    1: <div class="cart_title">Your Cart</div> 
    2: <table>
    3:   <!-- MA - this is a partial to place the cart in the sidebar -->
    4:   <% render(@cart.line_items) %>
    5:     <tr>
    6:       <td><%= item.quantity %>&times;</td> 
    7:       <td><%= item.product.title %></td> 
  app/views/carts/show.html.erb:4:in `_app_views_carts_show_html_erb__1748874839294326531_2177466540'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (4.0ms)


Started GET "/carts/3" for 127.0.0.1 at 2011-10-12 17:18:16 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 3
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (21.9ms)
Rendered carts/show.html.erb within layouts/application (32.4ms)
Completed 200 OK in 58ms (Views: 56.0ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 17:18:16 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 17:18:16 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 17:18:16 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 17:18:16 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-12 17:18:45 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered store/index.html.erb within layouts/application (11.6ms)
Completed 200 OK in 33ms (Views: 21.7ms | ActiveRecord: 0.7ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 17:18:45 +0100
Served asset /defaults.js - 404 Not Found (4ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 17:18:45 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 17:18:45 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 17:18:45 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-12 17:18:54 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered store/index.html.erb within layouts/application (10.1ms)
Completed 200 OK in 59ms (Views: 19.5ms | ActiveRecord: 0.7ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 17:18:54 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 17:18:54 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 17:18:54 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 17:18:54 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-12 17:19:37 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 3 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-12 16:19:37.398739' WHERE "line_items"."id" = 13[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 64ms


Started GET "/carts/3" for 127.0.0.1 at 2011-10-12 17:19:37 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 3
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (50.5ms)
Rendered carts/show.html.erb within layouts/application (173.5ms)
Completed 500 Internal Server Error in 178ms

ActionView::Template::Error (undefined local variable or method `item' for #<#<Class:0x00000102f1c8d8>:0x00000102f11b18>):
    3:   <!-- MA - this is a partial to place the cart in the sidebar -->
    4:   <% render(@cart.line_items) %>
    5:     <tr>
    6:       <td><%= item.quantity %>&times;</td> 
    7:       <td><%= item.product.title %></td> 
    8:       <td class="item_price"><%= number_to_currency(item.total_price) %></td>
    9:     </tr> 
  app/views/carts/show.html.erb:6:in `_app_views_carts_show_html_erb__1748874839294326531_2172154780'
  app/controllers/carts_controller.rb:22:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.5ms)


Started GET "/" for 127.0.0.1 at 2011-10-12 18:05:09 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 500 Internal Server Error in 59ms

NameError (undefined local variable or method `current' for #<StoreController:0x00000102ae3fc8>):
  app/controllers/store_controller.rb:9:in `index'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.4ms)


Started DELETE "/carts/2" for 127.0.0.1 at 2011-10-12 18:05:32 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 11]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 12]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 13]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 3]]
Redirected to http://localhost:3000/
Completed 302 Found in 43ms


Started GET "/" for 127.0.0.1 at 2011-10-12 18:05:32 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Completed 500 Internal Server Error in 56ms

NameError (undefined local variable or method `current' for #<StoreController:0x00000103de5f68>):
  app/controllers/store_controller.rb:9:in `index'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.3ms)


Started GET "/" for 127.0.0.1 at 2011-10-12 18:07:10 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 500 Internal Server Error in 56ms

NameError (undefined local variable or method `current_current' for #<StoreController:0x00000103cdba00>):
  app/controllers/store_controller.rb:9:in `index'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.4ms)


Started GET "/" for 127.0.0.1 at 2011-10-12 18:07:58 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 12 Oct 2011 17:07:58 UTC +00:00], ["updated_at", Wed, 12 Oct 2011 17:07:58 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.4ms)
Compiled depot.css  (0ms)  (pid 92114)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (37.6ms)
Completed 200 OK in 82ms (Views: 61.3ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 18:07:58 +0100
Served asset /scaffold.css - 404 Not Found (4ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 18:07:58 +0100
Served asset /depot.css - 200 OK (14ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 18:07:58 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 18:07:58 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-12 18:08:07 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 4], ["created_at", Wed, 12 Oct 2011 17:08:08 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Wed, 12 Oct 2011 17:08:08 UTC +00:00]]
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 63ms


Started GET "/carts/4" for 127.0.0.1 at 2011-10-12 18:08:08 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "4"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (61.5ms)
Rendered carts/_cart.html.erb (71.5ms)
Rendered carts/show.html.erb within layouts/application (75.0ms)
Rendered line_items/_line_item.html.erb (0.3ms)
Rendered carts/_cart.html.erb (1.8ms)
Completed 200 OK in 95ms (Views: 92.1ms | ActiveRecord: 1.2ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 18:08:08 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 18:08:08 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 18:08:08 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 18:08:08 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-12 18:08:20 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 4]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.7ms)
Rendered carts/_cart.html.erb (13.8ms)
Completed 200 OK in 81ms (Views: 65.0ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-12 18:08:20 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-12 18:08:20 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-12 18:08:20 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-12 18:08:20 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 10:33:06 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 4]]
Rendered store/index.html.erb within layouts/application (10.0ms)
Compiled depot.css  (0ms)  (pid 92114)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.9ms)
Rendered carts/_cart.html.erb (14.0ms)
Completed 200 OK in 85ms (Views: 68.4ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 10:33:06 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 10:33:06 +0100
Served asset /depot.css - 200 OK (1ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 10:33:06 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 10:33:06 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-13 10:33:58 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"5"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "5"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4 AND "line_items"."product_id" = 5 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 4], ["created_at", Thu, 13 Oct 2011 09:33:58 UTC +00:00], ["product_id", 5], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 09:33:58 UTC +00:00]]
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 63ms


Started GET "/carts/4" for 127.0.0.1 at 2011-10-13 10:33:58 +0100
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", "4"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (21.7ms)
Rendered carts/_cart.html.erb (62.2ms)
Rendered carts/show.html.erb within layouts/application (64.9ms)
Rendered line_items/_line_item.html.erb (0.5ms)
Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 78ms (Views: 44.7ms | ActiveRecord: 32.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 10:33:58 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 10:33:58 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 10:33:58 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 10:33:58 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 10:34:27 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 4]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.1ms)
Rendered carts/_cart.html.erb (13.8ms)
Completed 200 OK in 82ms (Views: 35.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 10:34:27 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 10:34:27 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 10:34:27 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 10:34:27 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 10:38:41 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 4]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.3ms)
Rendered carts/_cart.html.erb (14.4ms)
Completed 200 OK in 52ms (Views: 35.9ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 10:38:41 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 10:38:41 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 10:38:41 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (30.0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 10:38:41 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-13 10:38:48 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "5"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4 AND "line_items"."product_id" = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 09:38:48.820328' WHERE "line_items"."id" = 15
Redirected to http://localhost:3000/
Completed 302 Found in 31ms


Started GET "/" for 127.0.0.1 at 2011-10-13 10:38:48 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 4]]
Rendered store/index.html.erb within layouts/application (9.8ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.4ms)
Rendered carts/_cart.html.erb (14.3ms)
Completed 200 OK in 82ms (Views: 35.8ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 10:38:48 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 10:38:48 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 10:38:48 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 10:38:48 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 10:56:43 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 4], ["created_at", Thu, 13 Oct 2011 09:56:44 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 09:56:44 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 31ms


Started GET "/" for 127.0.0.1 at 2011-10-13 10:56:44 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 4]]
Rendered store/index.html.erb within layouts/application (10.8ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.0ms)
Rendered carts/_cart.html.erb (14.9ms)
Completed 200 OK in 83ms (Views: 37.3ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 10:56:44 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 10:56:44 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 10:56:44 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 10:56:44 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 10:56:47 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 4]]
Rendered store/index.html.erb within layouts/application (9.8ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.9ms)
Rendered carts/_cart.html.erb (14.6ms)
Completed 200 OK in 52ms (Views: 35.9ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 10:56:47 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 10:56:47 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 10:56:47 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 10:56:47 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 10:56:49 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 09:56:49.269919' WHERE "line_items"."id" = 16[0m
Redirected to http://localhost:3000/
Completed 302 Found in 30ms


Started GET "/" for 127.0.0.1 at 2011-10-13 10:56:49 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 4]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.9ms)
Rendered carts/_cart.html.erb (14.8ms)
Completed 200 OK in 52ms (Views: 36.1ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 10:56:49 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 10:56:49 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 10:56:49 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 10:56:49 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 12:48:32 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 4]]
Rendered store/index.html.erb within layouts/application (11.0ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.8ms)
Rendered carts/_cart.html.erb (44.9ms)
Completed 200 OK in 85ms (Views: 67.2ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:48:32 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:48:32 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:48:32 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:48:32 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-13 12:48:39 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 4], ["created_at", Thu, 13 Oct 2011 11:48:39 UTC +00:00], ["product_id", 7], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 11:48:39 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 61ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:48:39 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 4]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (8.2ms)
Rendered carts/_cart.html.erb (44.5ms)
Completed 200 OK in 82ms (Views: 66.0ms | ActiveRecord: 1.7ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:48:39 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:48:39 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:48:39 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:48:39 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 12:49:00 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 4]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.9ms)
Rendered carts/_cart.html.erb (15.8ms)
Completed 200 OK in 83ms (Views: 66.4ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:49:00 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:49:00 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:49:00 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:49:00 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 12:49:06 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 4]]
Rendered store/index.html.erb within layouts/application (40.5ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (8.0ms)
Rendered carts/_cart.html.erb (15.8ms)
Completed 200 OK in 84ms (Views: 67.5ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:49:06 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:49:06 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:49:06 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:49:06 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 12:49:11 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 4]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.4ms)
Rendered carts/_cart.html.erb (15.3ms)
Completed 200 OK in 84ms (Views: 66.5ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:49:11 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:49:11 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:49:11 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:49:11 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 12:49:15 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 11:49:15.327391' WHERE "line_items"."id" = 16[0m
Redirected to http://localhost:3000/
Completed 302 Found in 70ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:49:15 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 4]]
Rendered store/index.html.erb within layouts/application (38.3ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.6ms)
Rendered carts/_cart.html.erb (15.5ms)
Completed 200 OK in 82ms (Views: 65.4ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:49:15 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:49:15 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:49:15 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:49:15 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-13 12:49:19 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 11:49:19.367457' WHERE "line_items"."id" = 17
Redirected to http://localhost:3000/
Completed 302 Found in 63ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:49:19 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 4]]
Rendered store/index.html.erb within layouts/application (41.9ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.8ms)
Rendered carts/_cart.html.erb (18.3ms)
Completed 200 OK in 92ms (Views: 75.7ms | ActiveRecord: 1.9ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:49:19 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:49:19 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:49:19 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:49:19 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/4" for 127.0.0.1 at 2011-10-13 12:49:22 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"4"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 4[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 14]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 15]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 17]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 4]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:49:22 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 11:49:22 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 11:49:22 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 5[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (7.2ms)
Completed 200 OK in 47ms (Views: 26.7ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:49:22 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:49:22 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:49:22 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (31.1ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:49:22 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 12:49:26 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 5 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 5], ["created_at", Thu, 13 Oct 2011 11:49:26 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 11:49:26 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 32ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:49:26 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 5]]
Rendered store/index.html.erb within layouts/application (9.8ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 5
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.6ms)
Rendered carts/_cart.html.erb (13.4ms)
Completed 200 OK in 80ms (Views: 34.7ms | ActiveRecord: 1.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:49:26 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:49:26 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:49:26 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:49:26 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 12:49:36 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 5 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 5], ["created_at", Thu, 13 Oct 2011 11:49:36 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 11:49:36 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 32ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:49:36 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 5]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 5
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.6ms)
Rendered carts/_cart.html.erb (14.5ms)
Completed 200 OK in 82ms (Views: 35.8ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:49:36 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:49:36 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:49:36 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:49:36 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 12:49:37 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 5 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 11:49:37.325581' WHERE "line_items"."id" = 19
Redirected to http://localhost:3000/
Completed 302 Found in 31ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:49:37 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 5]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 5[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.7ms)
Rendered carts/_cart.html.erb (15.0ms)
Completed 200 OK in 82ms (Views: 36.4ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:49:37 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:49:37 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:49:37 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:49:37 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 12:49:52 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 5 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 11:49:52.656595' WHERE "line_items"."id" = 19[0m
Redirected to http://localhost:3000/
Completed 302 Found in 61ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:49:52 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 5]]
Rendered store/index.html.erb within layouts/application (39.0ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 5
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.8ms)
Rendered carts/_cart.html.erb (14.6ms)
Completed 200 OK in 81ms (Views: 65.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:49:52 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:49:52 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:49:52 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:49:52 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 12:49:54 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 5 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-13 11:49:54.897787' WHERE "line_items"."id" = 19
Redirected to http://localhost:3000/
Completed 302 Found in 62ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:49:54 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 5]]
Rendered store/index.html.erb within layouts/application (39.7ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 5[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.8ms)
Rendered carts/_cart.html.erb (14.7ms)
Completed 200 OK in 82ms (Views: 66.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:49:55 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:49:55 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:49:55 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:49:55 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 12:49:56 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 5 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-13 11:49:56.411522' WHERE "line_items"."id" = 19[0m
Redirected to http://localhost:3000/
Completed 302 Found in 61ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:49:56 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 5]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 5
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.8ms)
Rendered carts/_cart.html.erb (14.8ms)
Completed 200 OK in 82ms (Views: 65.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:49:56 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:49:56 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:49:56 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:49:56 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/5" for 127.0.0.1 at 2011-10-13 12:50:02 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 18]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 19]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 5]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:50:02 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Thu, 13 Oct 2011 11:50:02 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 11:50:02 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 6
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (7.1ms)
Completed 200 OK in 47ms (Views: 26.5ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:50:02 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:50:02 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:50:02 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:50:02 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 12:50:06 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 6 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 6], ["created_at", Thu, 13 Oct 2011 11:50:06 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 11:50:06 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 32ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:50:06 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 6]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 6[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.1ms)
Rendered carts/_cart.html.erb (13.8ms)
Completed 200 OK in 81ms (Views: 35.3ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:50:06 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:50:06 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:50:06 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:50:07 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-13 12:50:13 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "5"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 6 AND "line_items"."product_id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 6], ["created_at", Thu, 13 Oct 2011 11:50:13 UTC +00:00], ["product_id", 5], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 11:50:13 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 32ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:50:13 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 6]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 6[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.8ms)
Rendered carts/_cart.html.erb (14.8ms)
Completed 200 OK in 84ms (Views: 38.0ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:50:13 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:50:13 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:50:13 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:50:13 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 12:50:42 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 6 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 11:50:42.447281' WHERE "line_items"."id" = 20[0m
Redirected to http://localhost:3000/
Completed 302 Found in 61ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:50:42 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 6]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 6
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.6ms)
Rendered carts/_cart.html.erb (14.6ms)
Completed 200 OK in 81ms (Views: 65.3ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:50:42 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:50:42 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:50:42 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.4ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:50:42 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 12:51:51 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 6 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 11:51:51.208602' WHERE "line_items"."id" = 20
Redirected to http://localhost:3000/
Completed 302 Found in 61ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:51:51 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 6]]
Rendered store/index.html.erb within layouts/application (39.1ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 6[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.5ms)
Rendered carts/_cart.html.erb (14.7ms)
Completed 200 OK in 82ms (Views: 65.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:51:51 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:51:51 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:51:51 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:51:51 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 12:51:53 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 6 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-13 11:51:53.901177' WHERE "line_items"."id" = 20[0m
Redirected to http://localhost:3000/
Completed 302 Found in 63ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:51:53 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 6]]
Rendered store/index.html.erb within layouts/application (11.9ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 6
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.9ms)
Rendered carts/_cart.html.erb (20.8ms)
Completed 200 OK in 102ms (Views: 84.3ms | ActiveRecord: 1.6ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:51:54 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:51:54 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:51:54 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:51:54 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 12:53:03 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 6]]
Rendered store/index.html.erb within layouts/application (39.8ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 6[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.4ms)
Rendered carts/_cart.html.erb (14.2ms)
Completed 200 OK in 81ms (Views: 65.5ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:53:03 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:53:03 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:53:03 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:53:03 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/6" for 127.0.0.1 at 2011-10-13 12:53:07 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 6[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 20]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 21]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 6]]
Redirected to http://localhost:3000/
Completed 302 Found in 46ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:53:07 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 11:53:07 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 11:53:07 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (38.7ms)
Completed 200 OK in 79ms (Views: 58.6ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:53:07 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:53:07 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:53:07 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:53:07 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 12:53:10 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 7], ["created_at", Thu, 13 Oct 2011 11:53:10 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 11:53:10 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 33ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:53:10 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 7]]
Rendered store/index.html.erb within layouts/application (9.8ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.7ms)
Rendered carts/_cart.html.erb (13.7ms)
Completed 200 OK in 52ms (Views: 35.7ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:53:10 +0100
Served asset /scaffold.css - 404 Not Found (5ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.9ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:53:10 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:53:10 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:53:10 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 12:53:13 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 7], ["created_at", Thu, 13 Oct 2011 11:53:13 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 11:53:13 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 33ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:53:13 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 7]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.4ms)
Rendered carts/_cart.html.erb (14.3ms)
Completed 200 OK in 82ms (Views: 36.1ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:53:13 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:53:13 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:53:13 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:53:13 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 12:53:14 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 11:53:14.389658' WHERE "line_items"."id" = 23
Redirected to http://localhost:3000/
Completed 302 Found in 32ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:53:14 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 7]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.8ms)
Rendered carts/_cart.html.erb (14.6ms)
Completed 200 OK in 82ms (Views: 36.0ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:53:14 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:53:14 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:53:14 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:53:14 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 12:54:40 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Thu, 13 Oct 2011 11:54:40 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 11:54:40 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 8
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (7.0ms)
Completed 200 OK in 78ms (Views: 26.1ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:54:40 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:54:40 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:54:40 +0100
Served asset /depot.css - 200 OK (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:54:40 +0100
Served asset /logo.png - 200 OK (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 12:54:45 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"76ffrTSf5WG21J8+BCOdZk7WTD1ncsTCYo7OUT4/DN8=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 8 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 8], ["created_at", Thu, 13 Oct 2011 11:54:45 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 11:54:45 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 34ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:54:45 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 8]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 8[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.8ms)
Rendered carts/_cart.html.erb (13.4ms)
Completed 200 OK in 80ms (Views: 34.6ms | ActiveRecord: 1.6ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:54:46 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:54:46 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started POST "/line_items?product_id=8" for 127.0.0.1 at 2011-10-13 12:54:50 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"76ffrTSf5WG21J8+BCOdZk7WTD1ncsTCYo7OUT4/DN8=", "product_id"=>"8"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "8"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 8 AND "line_items"."product_id" = 8 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 8], ["created_at", Thu, 13 Oct 2011 11:54:50 UTC +00:00], ["product_id", 8], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 11:54:50 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 61ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:54:50 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 8]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 8[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.3ms)
Rendered carts/_cart.html.erb (14.8ms)
Completed 200 OK in 83ms (Views: 36.8ms | ActiveRecord: 1.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:54:50 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:54:50 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started DELETE "/carts/8" for 127.0.0.1 at 2011-10-13 12:54:59 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"76ffrTSf5WG21J8+BCOdZk7WTD1ncsTCYo7OUT4/DN8=", "id"=>"8"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 8[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 24]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 25]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 8]]
Redirected to http://localhost:3000/
Completed 302 Found in 45ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:54:59 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 11:54:59 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 11:54:59 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 9[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (35.8ms)
Completed 200 OK in 75ms (Views: 55.4ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:54:59 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:54:59 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 12:55:43 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 7]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.3ms)
Rendered carts/_cart.html.erb (43.9ms)
Completed 200 OK in 83ms (Views: 65.0ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:55:43 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:55:43 +0100
Served asset /depot.css - 200 OK (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:55:43 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:55:43 +0100
Served asset /logo.png - 200 OK (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 12:55:44 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 7]]
Rendered store/index.html.erb within layouts/application (9.8ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.4ms)
Rendered carts/_cart.html.erb (14.3ms)
Completed 200 OK in 87ms (Views: 67.1ms | ActiveRecord: 1.8ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:55:44 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:55:44 +0100
Served asset /depot.css - 200 OK (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:55:44 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:55:44 +0100
Served asset /logo.png - 200 OK (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 12:55:48 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 7]]
Rendered store/index.html.erb within layouts/application (39.3ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.5ms)
Rendered carts/_cart.html.erb (14.1ms)
Completed 200 OK in 82ms (Views: 65.1ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:55:48 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:55:48 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:55:48 +0100
Served asset /depot.css - 200 OK (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:55:48 +0100
Served asset /logo.png - 200 OK (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 12:55:49 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 7]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.1ms)
Rendered carts/_cart.html.erb (13.7ms)
Completed 200 OK in 83ms (Views: 35.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:55:49 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:55:49 +0100
Served asset /depot.css - 200 OK (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:55:49 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:55:49 +0100
Served asset /logo.png - 200 OK (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 12:55:50 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 7]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.4ms)
Rendered carts/_cart.html.erb (14.1ms)
Completed 200 OK in 83ms (Views: 35.3ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:55:50 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:55:50 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:55:50 +0100
Served asset /depot.css - 200 OK (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 12:55:50 +0100
Served asset /logo.png - 200 OK (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 12:56:34 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 11:56:34.848809' WHERE "line_items"."id" = 23
Redirected to http://localhost:3000/
Completed 302 Found in 31ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:56:34 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 7]]
Rendered store/index.html.erb within layouts/application (10.5ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.6ms)
Rendered carts/_cart.html.erb (17.6ms)
Completed 200 OK in 92ms (Views: 40.4ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:56:34 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:56:34 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:56:34 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-13 12:56:40 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 7], ["created_at", Thu, 13 Oct 2011 11:56:40 UTC +00:00], ["product_id", 7], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 11:56:40 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 33ms


Started GET "/" for 127.0.0.1 at 2011-10-13 12:56:40 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 7]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.2ms)
Rendered carts/_cart.html.erb (15.6ms)
Completed 200 OK in 87ms (Views: 36.7ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 12:56:41 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 12:56:41 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 12:56:41 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 13:05:14 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (10.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 7]]
Rendered store/index.html.erb within layouts/application (65.0ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (12.5ms)
Rendered carts/_cart.html.erb (95.7ms)
Completed 200 OK in 325ms (Views: 233.5ms | ActiveRecord: 11.9ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:05:15 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:05:15 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 13:05:15 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:05:15 +0100
Served asset /logo.png - 304 Not Modified (1ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 13:05:20 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-13 12:05:20.135022' WHERE "line_items"."id" = 23
Redirected to http://localhost:3000/
Completed 302 Found in 80ms


Started GET "/" for 127.0.0.1 at 2011-10-13 13:05:20 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 7]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.9ms)
Rendered carts/_cart.html.erb (14.5ms)
Completed 200 OK in 82ms (Views: 36.1ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:05:20 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:05:20 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 13:05:20 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:05:20 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-13 13:05:23 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "5"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7 AND "line_items"."product_id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 7], ["created_at", Thu, 13 Oct 2011 12:05:23 UTC +00:00], ["product_id", 5], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 12:05:23 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 59ms


Started GET "/" for 127.0.0.1 at 2011-10-13 13:05:23 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 7]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.6ms)
Rendered carts/_cart.html.erb (15.4ms)
Completed 200 OK in 85ms (Views: 39.0ms | ActiveRecord: 1.8ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:05:23 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:05:23 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 13:05:23 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:05:23 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/7" for 127.0.0.1 at 2011-10-13 13:05:28 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 7[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 22]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 23]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 26]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 27]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 7]]
Redirected to http://localhost:3000/
Completed 302 Found in 43ms


Started GET "/" for 127.0.0.1 at 2011-10-13 13:05:28 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 12:05:28 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 12:05:28 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (11.5ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (7.9ms)
Completed 200 OK in 90ms (Views: 66.1ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:05:28 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:05:28 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 13:05:28 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:05:28 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-13 13:05:38 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 10], ["created_at", Thu, 13 Oct 2011 12:05:38 UTC +00:00], ["product_id", 7], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 12:05:38 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 59ms


Started GET "/" for 127.0.0.1 at 2011-10-13 13:05:38 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.4ms)
Rendered carts/_cart.html.erb (43.5ms)
Completed 200 OK in 83ms (Views: 65.5ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:05:38 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:05:38 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 13:05:38 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:05:38 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 13:11:17 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (10.7ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.5ms)
Rendered carts/_cart.html.erb (13.2ms)
Completed 200 OK in 80ms (Views: 63.3ms | ActiveRecord: 1.3ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:11:18 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:11:18 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 13:11:18 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:11:18 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 13:11:22 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 10], ["created_at", Thu, 13 Oct 2011 12:11:22 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 12:11:22 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 60ms


Started GET "/" for 127.0.0.1 at 2011-10-13 13:11:22 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (37.6ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.2ms)
Rendered carts/_cart.html.erb (13.9ms)
Completed 200 OK in 79ms (Views: 63.4ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:11:22 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 13:11:22 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:11:22 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:11:22 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-13 13:13:07 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "5"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 10], ["created_at", Thu, 13 Oct 2011 12:13:07 UTC +00:00], ["product_id", 5], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 12:13:07 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 61ms


Started GET "/" for 127.0.0.1 at 2011-10-13 13:13:07 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
Rendered store/index.html.erb within layouts/application (37.7ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.1ms)
Rendered carts/_cart.html.erb (15.0ms)
Completed 200 OK in 80ms (Views: 64.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:13:07 +0100
Served asset /scaffold.css - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:13:07 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 13:13:07 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:13:07 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=8" for 127.0.0.1 at 2011-10-13 13:13:12 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"8"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "8"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 8 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 10], ["created_at", Thu, 13 Oct 2011 12:13:12 UTC +00:00], ["product_id", 8], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 12:13:12 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 59ms


Started GET "/" for 127.0.0.1 at 2011-10-13 13:13:12 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
Rendered store/index.html.erb within layouts/application (10.6ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.4ms)
Rendered carts/_cart.html.erb (16.4ms)
Completed 200 OK in 81ms (Views: 65.6ms | ActiveRecord: 1.7ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 13:13:13 +0100
Served asset /defaults.js - 404 Not Found (1ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:13:13 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:13:13 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:13:13 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 13:18:23 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (10.7ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
Rendered store/index.html.erb within layouts/application (94.1ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (13.0ms)
Rendered carts/_cart.html.erb (107.6ms)
Completed 200 OK in 368ms (Views: 270.4ms | ActiveRecord: 12.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:18:24 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:18:24 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 13:18:24 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:18:24 +0100
Served asset /logo.png - 304 Not Modified (4ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:18:29 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (29.5ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 10], ["created_at", Thu, 13 Oct 2011 12:18:29 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 12:18:29 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 106ms


Started GET "/" for 127.0.0.1 at 2011-10-13 13:18:29 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (12.0ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.7ms)
Rendered carts/_cart.html.erb (46.0ms)
Completed 200 OK in 88ms (Views: 71.3ms | ActiveRecord: 1.8ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:18:29 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:18:29 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 13:18:29 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:18:29 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=8" for 127.0.0.1 at 2011-10-13 13:18:32 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"8"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "8"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 8 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 12:18:32.432105' WHERE "line_items"."id" = 31[0m
Redirected to http://localhost:3000/
Completed 302 Found in 61ms


Started GET "/" for 127.0.0.1 at 2011-10-13 13:18:32 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (10.7ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (9.6ms)
Rendered carts/_cart.html.erb (45.7ms)
Completed 200 OK in 86ms (Views: 69.8ms | ActiveRecord: 2.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:18:32 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:18:32 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2011-10-13 13:18:32 +0100
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:18:32 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 13:30:37 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (46.2ms)
Compiled application.js  (12ms)  (pid 63785)
Compiled jquery.js  (27ms)  (pid 63785)
Compiled jquery_ujs.js  (0ms)  (pid 63785)
Compiled carts.js  (488ms)  (pid 63785)
Compiled line_items.js  (78ms)  (pid 63785)
Compiled products.js  (111ms)  (pid 63785)
Compiled store.js  (77ms)  (pid 63785)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (11.0ms)
Rendered carts/_cart.html.erb (28.1ms)
Completed 200 OK in 1003ms (Views: 984.4ms | ActiveRecord: 2.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:30:38 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 13:30:38 +0100
Served asset /jquery.js - 200 OK (6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 13:30:38 +0100
Served asset /jquery_ujs.js - 200 OK (4ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 13:30:38 +0100
Served asset /application.js - 200 OK (3ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:30:38 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 13:30:38 +0100
Served asset /line_items.js - 200 OK (3ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 13:30:38 +0100
Served asset /products.js - 200 OK (3ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 13:30:38 +0100
Served asset /store.js - 200 OK (4ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 13:30:38 +0100
Served asset /carts.js - 200 OK (2ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:30:38 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=8" for 127.0.0.1 at 2011-10-13 13:30:46 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"8"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "8"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 12:30:46.102247' WHERE "line_items"."id" = 31[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.5ms)
Rendered carts/_cart.html.erb (7.8ms)
Rendered line_items/create.js.rjs (9.3ms)
Completed 200 OK in 127ms (Views: 94.7ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=8" for 127.0.0.1 at 2011-10-13 13:30:49 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"8"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "8"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-13 12:30:49.637055' WHERE "line_items"."id" = 31[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.3ms)
Rendered carts/_cart.html.erb (7.0ms)
Rendered line_items/create.js.rjs (7.9ms)
Completed 200 OK in 43ms (Views: 12.4ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=8" for 127.0.0.1 at 2011-10-13 13:30:55 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"8"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "8"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-13 12:30:55.496523' WHERE "line_items"."id" = 31[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.4ms)
Rendered carts/_cart.html.erb (7.1ms)
Rendered line_items/create.js.rjs (8.0ms)
Completed 200 OK in 43ms (Views: 12.3ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 13:30:59 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 12:30:59.517232' WHERE "line_items"."id" = 29[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.2ms)
Rendered carts/_cart.html.erb (6.9ms)
Rendered line_items/create.js.rjs (7.8ms)
Completed 200 OK in 77ms (Views: 12.4ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 13:31:02 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 12:31:02.200182' WHERE "line_items"."id" = 29[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.9ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.1ms)
Rendered carts/_cart.html.erb (9.2ms)
Rendered line_items/create.js.rjs (10.4ms)
Completed 200 OK in 80ms (Views: 14.5ms | ActiveRecord: 2.9ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:31:04 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 12:31:04.391333' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.4ms)
Rendered carts/_cart.html.erb (7.1ms)
Rendered line_items/create.js.rjs (8.0ms)
Completed 200 OK in 72ms (Views: 12.2ms | ActiveRecord: 2.0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:31:06 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 12:31:06.074649' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.4ms)
Rendered carts/_cart.html.erb (7.3ms)
Rendered line_items/create.js.rjs (8.2ms)
Completed 200 OK in 72ms (Views: 12.6ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:31:06 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-13 12:31:06.500280' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.3ms)
Rendered carts/_cart.html.erb (7.0ms)
Rendered line_items/create.js.rjs (8.0ms)
Completed 200 OK in 73ms (Views: 12.5ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 13:31:55 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (10.6ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.6ms)
Rendered carts/_cart.html.erb (46.4ms)
Completed 200 OK in 86ms (Views: 68.1ms | ActiveRecord: 1.9ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:31:55 +0100
Served asset /scaffold.css - 404 Not Found (13ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:31:55 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 13:31:55 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 13:31:55 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 13:31:55 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 13:31:55 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 13:31:55 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 13:31:55 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 13:31:55 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:31:55 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:32:02 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-13 12:32:02.581728' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.6ms)
Rendered carts/_cart.html.erb (7.3ms)
Rendered line_items/create.js.rjs (8.3ms)
Completed 200 OK in 73ms (Views: 12.7ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 13:32:05 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (9.7ms)
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (9.1ms)
Rendered carts/_cart.html.erb (48.8ms)
Completed 200 OK in 85ms (Views: 68.7ms | ActiveRecord: 1.9ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:32:05 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:05 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:05 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:05 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:32:05 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:05 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:05 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:05 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:05 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:32:05 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:32:17 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 6, "updated_at" = '2011-10-13 12:32:17.642051' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.6ms)
Rendered carts/_cart.html.erb (7.3ms)
Rendered line_items/create.js.rjs (8.2ms)
Completed 200 OK in 73ms (Views: 13.1ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 13:32:22 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.8ms)
Rendered carts/_cart.html.erb (16.9ms)
Completed 200 OK in 83ms (Views: 66.9ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:32:22 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:22 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:22 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:22 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:22 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:32:22 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:22 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:22 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:22 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:32:22 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:32:27 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 7, "updated_at" = '2011-10-13 12:32:27.107427' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.5ms)
Rendered carts/_cart.html.erb (7.3ms)
Rendered line_items/create.js.rjs (8.2ms)
Completed 200 OK in 74ms (Views: 12.8ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 13:32:52 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (41.1ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.5ms)
Rendered carts/_cart.html.erb (18.1ms)
Completed 200 OK in 87ms (Views: 70.4ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:32:53 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:53 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:53 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:53 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:53 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:53 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:32:53 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:53 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 13:32:53 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:32:53 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:32:56 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 8, "updated_at" = '2011-10-13 12:32:56.181170' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.4ms)
Rendered carts/_cart.html.erb (7.7ms)
Rendered line_items/create.js.rjs (8.7ms)
Completed 200 OK in 75ms (Views: 13.1ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 13:36:46 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (39.8ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.6ms)
Rendered carts/_cart.html.erb (16.8ms)
Completed 200 OK in 104ms (Views: 86.9ms | ActiveRecord: 1.8ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:36:46 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:36:46 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 13:36:46 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 13:36:46 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 13:36:46 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 13:36:46 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 13:36:46 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 13:36:46 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 13:36:46 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:36:46 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:36:48 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (10.7ms)[0m  [1mUPDATE "line_items" SET "quantity" = 9, "updated_at" = '2011-10-13 12:36:48.217981' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.2ms)
Rendered carts/_cart.html.erb (7.0ms)
Rendered line_items/create.js.rjs (8.1ms)
Completed 200 OK in 85ms (Views: 12.6ms | ActiveRecord: 12.3ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 13:38:10 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.4ms)
Rendered carts/_cart.html.erb (16.5ms)
Completed 200 OK in 103ms (Views: 57.5ms | ActiveRecord: 1.8ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:38:10 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 13:38:10 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 13:38:10 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 13:38:10 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 13:38:10 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 13:38:10 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:38:10 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 13:38:10 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 13:38:10 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:38:10 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:38:20 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (32.5ms)[0m  [1mUPDATE "line_items" SET "quantity" = 10, "updated_at" = '2011-10-13 12:38:20.490464' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.0ms)
Rendered carts/_cart.html.erb (9.5ms)
Rendered line_items/create.js.rjs (11.3ms)
Completed 200 OK in 111ms (Views: 17.6ms | ActiveRecord: 34.2ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:38:24 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 11, "updated_at" = '2011-10-13 12:38:24.112551' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.4ms)
Rendered carts/_cart.html.erb (7.1ms)
Rendered line_items/create.js.rjs (8.3ms)
Completed 200 OK in 73ms (Views: 12.8ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 13:38:32 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (10.7ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.3ms)
Rendered carts/_cart.html.erb (16.5ms)
Completed 200 OK in 85ms (Views: 68.5ms | ActiveRecord: 1.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:38:32 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 13:38:32 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 13:38:32 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 13:38:32 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 13:38:32 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 13:38:32 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:38:32 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 13:38:32 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 13:38:32 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:38:32 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:38:34 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 12, "updated_at" = '2011-10-13 12:38:34.807746' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.0ms)
Rendered carts/_cart.html.erb (6.8ms)
Rendered line_items/create.js.rjs (8.1ms)
Completed 200 OK in 78ms (Views: 12.6ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 13:39:27 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.5ms)
Rendered carts/_cart.html.erb (16.5ms)
Completed 200 OK in 86ms (Views: 37.7ms | ActiveRecord: 1.8ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:39:27 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 13:39:27 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:39:27 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 13:39:27 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 13:39:27 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 13:39:27 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 13:39:27 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 13:39:27 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 13:39:27 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:39:27 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:39:30 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mUPDATE "line_items" SET "quantity" = 13, "updated_at" = '2011-10-13 12:39:30.672164' WHERE "line_items"."id" = 32[0m
ERROR: compiling _app_views_line_items_create_js_rjs__2119296693678357551_2170424680 RAISED /Users/mark/work/depot/app/views/line_items/create.js.rjs:1: syntax error, unexpected $undefined, expecting keyword_end
...buffer;;update_page do |page|;$('cart').html(escape_javascri...
...                               ^
/Users/mark/work/depot/app/views/line_items/create.js.rjs:1: syntax error, unexpected ')', expecting keyword_end
...update_page do |page|;$('cart').html(escape_javascript(rende...
...                               ^
Function body:           def _app_views_line_items_create_js_rjs__2119296693678357551_2170424680(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "line_items/create";_old_output_buffer = @output_buffer;;update_page do |page|;$('cart').html(escape_javascript(render(@cart)))
end
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/line_items_controller.rb:47:in `create'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3983417412328263317__process_action__3963939968772465405__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:35:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered line_items/create.js.rjs (0.5ms)
Completed 500 Internal Server Error in 37ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/line_items/create.js.rjs:1: syntax error, unexpected $undefined, expecting keyword_end
...buffer;;update_page do |page|;$('cart').html(escape_javascri...
...                               ^
/Users/mark/work/depot/app/views/line_items/create.js.rjs:1: syntax error, unexpected ')', expecting keyword_end
...update_page do |page|;$('cart').html(escape_javascript(rende...
...                               ^):
    1: $('cart').html(escape_javascript(render(@cart)))
  app/controllers/line_items_controller.rb:47:in `create'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 13:40:06 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (9.8ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.3ms)
Rendered carts/_cart.html.erb (16.2ms)
Completed 200 OK in 83ms (Views: 36.3ms | ActiveRecord: 1.8ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:40:07 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:40:07 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 13:40:07 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 13:40:07 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 13:40:07 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 13:40:07 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 13:40:07 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 13:40:07 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 13:40:07 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:40:07 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:40:09 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 14, "updated_at" = '2011-10-13 12:40:09.182264' WHERE "line_items"."id" = 32[0m
ERROR: compiling _app_views_line_items_create_js_rjs__2119296693678357551_2169585200 RAISED /Users/mark/work/depot/app/views/line_items/create.js.rjs:1: syntax error, unexpected $undefined, expecting keyword_end
...buffer;;update_page do |page|;$('#cart').html(escape_javascr...
...                               ^
/Users/mark/work/depot/app/views/line_items/create.js.rjs:1: syntax error, unexpected ')', expecting keyword_end
...pdate_page do |page|;$('#cart').html(escape_javascript(rende...
...                               ^
Function body:           def _app_views_line_items_create_js_rjs__2119296693678357551_2169585200(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "line_items/create";_old_output_buffer = @output_buffer;;update_page do |page|;$('#cart').html(escape_javascript(render(@cart)));
end
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/line_items_controller.rb:47:in `create'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3983417412328263317__process_action__3963939968772465405__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:35:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered line_items/create.js.rjs (0.5ms)
Completed 500 Internal Server Error in 37ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/line_items/create.js.rjs:1: syntax error, unexpected $undefined, expecting keyword_end
...buffer;;update_page do |page|;$('#cart').html(escape_javascr...
...                               ^
/Users/mark/work/depot/app/views/line_items/create.js.rjs:1: syntax error, unexpected ')', expecting keyword_end
...pdate_page do |page|;$('#cart').html(escape_javascript(rende...
...                               ^):
    1: $('#cart').html(escape_javascript(render(@cart)));
  app/controllers/line_items_controller.rb:47:in `create'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (4.0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 13:41:27 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.4ms)
Rendered carts/_cart.html.erb (16.8ms)
Completed 200 OK in 54ms (Views: 37.3ms | ActiveRecord: 1.9ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:41:27 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:41:27 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 13:41:27 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 13:41:27 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 13:41:27 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 13:41:27 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 13:41:27 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 13:41:27 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 13:41:27 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:41:27 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:41:29 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 15, "updated_at" = '2011-10-13 12:41:29.852040' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.7ms)
Rendered carts/_cart.html.erb (8.6ms)
Rendered line_items/create.js.erb (9.6ms)
Completed 200 OK in 46ms (Views: 14.0ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:41:31 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mUPDATE "line_items" SET "quantity" = 16, "updated_at" = '2011-10-13 12:41:31.470760' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.9ms)
Rendered carts/_cart.html.erb (7.6ms)
Rendered line_items/create.js.erb (8.3ms)
Completed 200 OK in 45ms (Views: 12.4ms | ActiveRecord: 2.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 13:41:48 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.4ms)
Rendered carts/_cart.html.erb (16.6ms)
Completed 200 OK in 84ms (Views: 37.3ms | ActiveRecord: 1.8ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 13:41:48 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 13:41:48 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 13:41:48 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 13:41:48 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 13:41:48 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 13:41:48 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 13:41:48 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 13:41:48 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 13:41:48 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 13:41:48 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 13:41:51 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-13 12:41:51.274663' WHERE "line_items"."id" = 29[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.1ms)
Rendered carts/_cart.html.erb (6.8ms)
Rendered line_items/create.js.erb (7.8ms)
Completed 200 OK in 43ms (Views: 12.3ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:41:52 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 17, "updated_at" = '2011-10-13 12:41:52.998217' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.3ms)
Rendered carts/_cart.html.erb (7.0ms)
Rendered line_items/create.js.erb (7.8ms)
Completed 200 OK in 70ms (Views: 12.4ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:41:53 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 18, "updated_at" = '2011-10-13 12:41:53.694059' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.2ms)
Rendered carts/_cart.html.erb (6.8ms)
Rendered line_items/create.js.erb (7.6ms)
Completed 200 OK in 44ms (Views: 12.6ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:41:54 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 19, "updated_at" = '2011-10-13 12:41:54.205329' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.2ms)
Rendered carts/_cart.html.erb (6.9ms)
Rendered line_items/create.js.erb (7.6ms)
Completed 200 OK in 72ms (Views: 12.0ms | ActiveRecord: 1.9ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 13:41:57 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 20, "updated_at" = '2011-10-13 12:41:57.326568' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.2ms)
Rendered carts/_cart.html.erb (8.0ms)
Rendered line_items/create.js.erb (8.7ms)
Completed 200 OK in 74ms (Views: 13.0ms | ActiveRecord: 1.9ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:19:06 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (11.4ms)[0m  [1mUPDATE "line_items" SET "quantity" = 21, "updated_at" = '2011-10-13 14:19:06.572008' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.4ms)
Rendered carts/_cart.html.erb (7.3ms)
Rendered line_items/create.js.erb (9.0ms)
Completed 200 OK in 102ms (Views: 31.2ms | ActiveRecord: 13.0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 15:19:09 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.6ms)
Rendered carts/_cart.html.erb (16.6ms)
Completed 200 OK in 109ms (Views: 64.0ms | ActiveRecord: 1.8ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:19:10 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:19:10 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:19:10 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:19:10 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:19:10 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:19:10 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:19:10 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:19:10 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:19:10 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:19:10 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 15:19:13 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 10]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.4ms)
Rendered carts/_cart.html.erb (16.2ms)
Completed 200 OK in 54ms (Views: 36.6ms | ActiveRecord: 1.8ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:19:13 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:19:13 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:19:13 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:19:13 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:19:13 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:19:13 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:19:13 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:19:13 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:19:13 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:19:13 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 15:19:16 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-13 14:19:16.985541' WHERE "line_items"."id" = 29[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.2ms)
Rendered carts/_cart.html.erb (6.9ms)
Rendered line_items/create.js.erb (7.6ms)
Completed 200 OK in 42ms (Views: 12.1ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 15:19:18 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 6, "updated_at" = '2011-10-13 14:19:18.101179' WHERE "line_items"."id" = 29[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.3ms)
Rendered carts/_cart.html.erb (6.9ms)
Rendered line_items/create.js.erb (7.6ms)
Completed 200 OK in 44ms (Views: 12.0ms | ActiveRecord: 1.9ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 15:19:19 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 7, "updated_at" = '2011-10-13 14:19:19.731579' WHERE "line_items"."id" = 29[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.7ms)
Rendered carts/_cart.html.erb (7.4ms)
Rendered line_items/create.js.erb (8.2ms)
Completed 200 OK in 43ms (Views: 12.8ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 15:19:20 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 8, "updated_at" = '2011-10-13 14:19:20.531474' WHERE "line_items"."id" = 29[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.3ms)
Rendered carts/_cart.html.erb (7.0ms)
Rendered line_items/create.js.erb (7.7ms)
Completed 200 OK in 72ms (Views: 12.2ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:19:25 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 22, "updated_at" = '2011-10-13 14:19:25.852562' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.7ms)
Rendered carts/_cart.html.erb (7.4ms)
Rendered line_items/create.js.erb (8.2ms)
Completed 200 OK in 72ms (Views: 13.6ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:19:26 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 23, "updated_at" = '2011-10-13 14:19:26.794393' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.3ms)
Rendered carts/_cart.html.erb (6.9ms)
Rendered line_items/create.js.erb (7.7ms)
Completed 200 OK in 71ms (Views: 12.2ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:19:27 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 24, "updated_at" = '2011-10-13 14:19:27.178349' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.2ms)
Rendered carts/_cart.html.erb (6.8ms)
Rendered line_items/create.js.erb (7.6ms)
Completed 200 OK in 72ms (Views: 12.2ms | ActiveRecord: 2.1ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:19:27 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 25, "updated_at" = '2011-10-13 14:19:27.392941' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.1ms)
Rendered carts/_cart.html.erb (6.9ms)
Rendered line_items/create.js.erb (7.6ms)
Completed 200 OK in 73ms (Views: 41.7ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:19:27 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 26, "updated_at" = '2011-10-13 14:19:27.746794' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.2ms)
Rendered carts/_cart.html.erb (6.8ms)
Rendered line_items/create.js.erb (7.6ms)
Completed 200 OK in 43ms (Views: 12.1ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:19:27 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 27, "updated_at" = '2011-10-13 14:19:28.019089' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.3ms)
Rendered carts/_cart.html.erb (7.2ms)
Rendered line_items/create.js.erb (8.0ms)
Completed 200 OK in 43ms (Views: 12.5ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:19:28 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 28, "updated_at" = '2011-10-13 14:19:28.267634' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.1ms)
Rendered carts/_cart.html.erb (6.8ms)
Rendered line_items/create.js.erb (7.5ms)
Completed 200 OK in 44ms (Views: 12.0ms | ActiveRecord: 1.9ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:19:28 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 29, "updated_at" = '2011-10-13 14:19:28.489428' WHERE "line_items"."id" = 32[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.3ms)
Rendered carts/_cart.html.erb (7.0ms)
Rendered line_items/create.js.erb (7.7ms)
Completed 200 OK in 71ms (Views: 12.2ms | ActiveRecord: 1.8ms)


Started DELETE "/carts/10" for 127.0.0.1 at 2011-10-13 15:20:00 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"10"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 10[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 28]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 29]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 30]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 31]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 32]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 10]]
Redirected to http://localhost:3000/
Completed 302 Found in 49ms


Started GET "/" for 127.0.0.1 at 2011-10-13 15:20:00 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Thu, 13 Oct 2011 14:20:00 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 14:20:00 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (11.7ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (36.3ms)
Completed 200 OK in 79ms (Views: 57.8ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:20:00 +0100
Served asset /scaffold.css - 404 Not Found (9ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:20:00 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:20:00 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:20:00 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:20:00 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:20:00 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:20:00 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:20:00 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:20:00 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:20:00 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 15:20:07 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 11]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (37.7ms)
Completed 200 OK in 74ms (Views: 58.9ms | ActiveRecord: 1.1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:20:07 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:20:07 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:20:07 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:20:07 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:20:07 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:20:07 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:20:07 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:20:07 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:20:07 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:20:07 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:20:10 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 11], ["created_at", Thu, 13 Oct 2011 14:20:10 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 14:20:10 UTC +00:00]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.5ms)
Rendered line_items/create.js.erb (5.2ms)
Completed 200 OK in 70ms (Views: 10.2ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:20:11 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 14:20:11.418803' WHERE "line_items"."id" = 33[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.2ms)
Rendered line_items/create.js.erb (4.9ms)
Completed 200 OK in 68ms (Views: 38.0ms | ActiveRecord: 1.4ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:20:11 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 14:20:11.914880' WHERE "line_items"."id" = 33[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.0ms)
Rendered line_items/create.js.erb (4.7ms)
Completed 200 OK in 41ms (Views: 9.8ms | ActiveRecord: 1.4ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:20:12 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-13 14:20:12.438858' WHERE "line_items"."id" = 33[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.4ms)
Rendered carts/_cart.html.erb (3.9ms)
Rendered line_items/create.js.erb (4.6ms)
Completed 200 OK in 40ms (Views: 9.4ms | ActiveRecord: 1.4ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:21:38 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-13 14:21:38.520810' WHERE "line_items"."id" = 33[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.9ms)
Rendered carts/_cart.html.erb (4.5ms)
Rendered line_items/create.js.erb (5.3ms)
Completed 200 OK in 41ms (Views: 10.0ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:21:38 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 6, "updated_at" = '2011-10-13 14:21:39.015092' WHERE "line_items"."id" = 33[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.4ms)
Rendered carts/_cart.html.erb (4.0ms)
Rendered line_items/create.js.erb (4.7ms)
Completed 200 OK in 70ms (Views: 9.7ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:21:39 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 7, "updated_at" = '2011-10-13 14:21:39.278112' WHERE "line_items"."id" = 33[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.7ms)
Rendered carts/_cart.html.erb (4.2ms)
Rendered line_items/create.js.erb (4.9ms)
Completed 200 OK in 69ms (Views: 9.7ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 15:21:43 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 11], ["created_at", Thu, 13 Oct 2011 14:21:43 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 14:21:43 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 60ms


Started GET "/" for 127.0.0.1 at 2011-10-13 15:21:43 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 11]]
Rendered store/index.html.erb within layouts/application (10.8ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.2ms)
Rendered carts/_cart.html.erb (44.7ms)
Completed 200 OK in 83ms (Views: 66.7ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:21:43 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:21:43 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:21:43 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:21:43 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:21:43 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:21:43 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:21:43 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:21:43 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:21:43 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:21:43 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 15:21:50 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 14:21:50.145542' WHERE "line_items"."id" = 34
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.6ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.2ms)
Completed 200 OK in 71ms (Views: 11.0ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 15:21:50 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 14:21:50.838621' WHERE "line_items"."id" = 34[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.3ms)
Rendered carts/_cart.html.erb (5.0ms)
Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 69ms (Views: 10.5ms | ActiveRecord: 1.6ms)


Started DELETE "/carts/11" for 127.0.0.1 at 2011-10-13 15:22:07 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"11"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 11
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 33]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 34]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 11]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-13 15:22:07 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Thu, 13 Oct 2011 14:22:07 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 14:22:07 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.6ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (7.0ms)
Completed 200 OK in 81ms (Views: 26.6ms | ActiveRecord: 1.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:07 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:22:07 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:07 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:22:07 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:07 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:07 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:07 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:07 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:07 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:22:07 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:22:09 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 12], ["created_at", Thu, 13 Oct 2011 14:22:09 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 14:22:09 UTC +00:00]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (8.1ms)
Rendered carts/_cart.html.erb (11.4ms)
Rendered line_items/create.js.erb (12.2ms)
Completed 200 OK in 82ms (Views: 17.6ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 15:22:11 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 12]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.5ms)
Rendered carts/_cart.html.erb (13.1ms)
Completed 200 OK in 80ms (Views: 34.1ms | ActiveRecord: 1.4ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:11 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:11 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:22:11 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:11 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:11 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:22:11 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:11 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:11 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:11 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:22:11 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 15:22:16 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 12], ["created_at", Thu, 13 Oct 2011 14:22:16 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 14:22:16 UTC +00:00]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.5ms)
Rendered carts/_cart.html.erb (5.6ms)
Rendered line_items/create.js.erb (6.3ms)
Completed 200 OK in 42ms (Views: 11.0ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 15:22:18 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.1ms)
Rendered carts/_cart.html.erb (14.0ms)
Completed 200 OK in 82ms (Views: 35.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:18 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:18 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:18 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:18 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:22:18 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:22:18 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:18 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:18 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:18 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:22:18 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-13 15:22:24 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 12], ["created_at", Thu, 13 Oct 2011 14:22:25 UTC +00:00], ["product_id", 7], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 14:22:25 UTC +00:00]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.9ms)
Rendered carts/_cart.html.erb (5.8ms)
Rendered line_items/create.js.erb (6.5ms)
Completed 200 OK in 42ms (Views: 11.3ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:22:49 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 14:22:49.758301' WHERE "line_items"."id" = 35
Redirected to http://localhost:3000/
Completed 302 Found in 44ms


Started GET "/" for 127.0.0.1 at 2011-10-13 15:22:49 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 12]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.8ms)
Rendered carts/_cart.html.erb (14.8ms)
Completed 200 OK in 83ms (Views: 36.1ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:22:49 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:22:49 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:49 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:49 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:49 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:49 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:49 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:49 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:49 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:22:49 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:22:53 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 14:22:53.755106' WHERE "line_items"."id" = 35
Redirected to http://localhost:3000/
Completed 302 Found in 39ms


Started GET "/" for 127.0.0.1 at 2011-10-13 15:22:53 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 12]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.0ms)
Rendered carts/_cart.html.erb (14.8ms)
Completed 200 OK in 84ms (Views: 36.7ms | ActiveRecord: 1.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:53 +0100
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:22:53 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:53 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:22:53 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:53 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:53 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:53 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:53 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:22:53 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:22:53 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:22:58 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-13 14:22:58.259341' WHERE "line_items"."id" = 35
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.1ms)
Rendered carts/_cart.html.erb (5.7ms)
Rendered line_items/create.js.erb (6.5ms)
Completed 200 OK in 42ms (Views: 11.2ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:22:58 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-13 14:22:58.715018' WHERE "line_items"."id" = 35
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.6ms)
Rendered carts/_cart.html.erb (6.3ms)
Rendered line_items/create.js.erb (7.0ms)
Completed 200 OK in 74ms (Views: 11.8ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 15:24:32 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 12]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.9ms)
Rendered carts/_cart.html.erb (14.6ms)
Completed 200 OK in 81ms (Views: 35.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:24:32 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:24:32 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:24:32 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:24:32 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:24:32 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:24:32 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:24:32 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:24:32 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:24:32 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:24:32 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:24:36 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (25.3ms)[0m  UPDATE "line_items" SET "quantity" = 6, "updated_at" = '2011-10-13 14:24:36.854562' WHERE "line_items"."id" = 35
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (4.1ms)
Rendered carts/_cart.html.erb (7.7ms)
Rendered line_items/create.js.erb (9.1ms)
Completed 200 OK in 72ms (Views: 15.7ms | ActiveRecord: 26.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:26:43 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (23.9ms)[0m  UPDATE "line_items" SET "quantity" = 7, "updated_at" = '2011-10-13 14:26:43.723121' WHERE "line_items"."id" = 35
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (4.0ms)
Rendered carts/_cart.html.erb (7.4ms)
Rendered line_items/create.js.erb (8.6ms)
Completed 200 OK in 103ms (Views: 15.3ms | ActiveRecord: 25.5ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 15:28:44 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 14:28:44.855917' WHERE "line_items"."id" = 36
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.3ms)
Rendered carts/_cart.html.erb (6.0ms)
Rendered line_items/create.js.erb (6.7ms)
Completed 200 OK in 73ms (Views: 11.4ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 15:35:26 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 12]]
Rendered store/index.html.erb within layouts/application (39.6ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.9ms)
Rendered carts/_cart.html.erb (15.0ms)
Completed 200 OK in 84ms (Views: 67.0ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:35:26 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (2.6ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:35:26 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:35:26 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:35:26 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:35:26 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:35:26 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:35:26 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:35:26 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:35:26 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:35:26 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:35:28 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 8, "updated_at" = '2011-10-13 14:35:29.026725' WHERE "line_items"."id" = 35
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.1ms)
Rendered carts/_cart.html.erb (6.0ms)
Rendered line_items/create.js.erb (7.8ms)
Completed 200 OK in 84ms (Views: 14.8ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:35:30 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 9, "updated_at" = '2011-10-13 14:35:30.468599' WHERE "line_items"."id" = 35
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.1ms)
Rendered carts/_cart.html.erb (6.0ms)
Rendered line_items/create.js.erb (6.7ms)
Completed 200 OK in 72ms (Views: 11.4ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:35:30 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  UPDATE "line_items" SET "quantity" = 10, "updated_at" = '2011-10-13 14:35:31.032726' WHERE "line_items"."id" = 35
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.2ms)
Rendered carts/_cart.html.erb (6.1ms)
Rendered line_items/create.js.erb (6.9ms)
Completed 200 OK in 75ms (Views: 12.1ms | ActiveRecord: 31.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:35:32 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 11, "updated_at" = '2011-10-13 14:35:32.615141' WHERE "line_items"."id" = 35
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.9ms)
Rendered carts/_cart.html.erb (5.8ms)
Rendered line_items/create.js.erb (6.5ms)
Completed 200 OK in 72ms (Views: 11.2ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:35:32 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 12, "updated_at" = '2011-10-13 14:35:32.870573' WHERE "line_items"."id" = 35
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (35.4ms)
Rendered carts/_cart.html.erb (38.2ms)
Rendered line_items/create.js.erb (38.9ms)
Completed 200 OK in 75ms (Views: 44.0ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:35:33 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 13, "updated_at" = '2011-10-13 14:35:33.288947' WHERE "line_items"."id" = 35
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.9ms)
Rendered carts/_cart.html.erb (5.5ms)
Rendered line_items/create.js.erb (6.2ms)
Completed 200 OK in 42ms (Views: 11.3ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:35:33 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 14, "updated_at" = '2011-10-13 14:35:33.567766' WHERE "line_items"."id" = 35
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.9ms)
Rendered carts/_cart.html.erb (5.6ms)
Rendered line_items/create.js.erb (6.4ms)
Completed 200 OK in 48ms (Views: 11.3ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:35:33 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 15, "updated_at" = '2011-10-13 14:35:33.818706' WHERE "line_items"."id" = 35
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.9ms)
Rendered carts/_cart.html.erb (5.7ms)
Rendered line_items/create.js.erb (6.5ms)
Completed 200 OK in 47ms (Views: 11.6ms | ActiveRecord: 1.9ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:35:33 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 16, "updated_at" = '2011-10-13 14:35:34.043472' WHERE "line_items"."id" = 35
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.1ms)
Rendered carts/_cart.html.erb (5.9ms)
Rendered line_items/create.js.erb (6.7ms)
Completed 200 OK in 77ms (Views: 11.6ms | ActiveRecord: 1.9ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:35:34 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 17, "updated_at" = '2011-10-13 14:35:34.262317' WHERE "line_items"."id" = 35
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.9ms)
Rendered carts/_cart.html.erb (5.5ms)
Rendered line_items/create.js.erb (6.3ms)
Completed 200 OK in 73ms (Views: 10.9ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 15:36:21 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 12]]
Rendered store/index.html.erb within layouts/application (40.3ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (8.0ms)
Rendered carts/_cart.html.erb (16.5ms)
Completed 200 OK in 86ms (Views: 69.2ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:36:21 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:36:21 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:21 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:21 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:21 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:21 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:21 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:21 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:21 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:36:21 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 15:36:26 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 12]]
Rendered store/index.html.erb within layouts/application (10.7ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.9ms)
Rendered carts/_cart.html.erb (15.1ms)
Completed 200 OK in 85ms (Views: 36.5ms | ActiveRecord: 1.6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:26 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:26 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:26 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:26 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:26 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:26 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:36:26 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:36:26 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:26 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:36:26 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:36:29 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 18, "updated_at" = '2011-10-13 14:36:29.652203' WHERE "line_items"."id" = 35
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.1ms)
Rendered carts/_cart.html.erb (5.9ms)
Rendered line_items/create.js.erb (6.7ms)
Completed 200 OK in 44ms (Views: 11.4ms | ActiveRecord: 1.7ms)


Started DELETE "/carts/12" for 127.0.0.1 at 2011-10-13 15:36:49 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"12"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 12
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 35]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 36]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 37]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 12]]
Redirected to http://localhost:3000/
Completed 302 Found in 46ms


Started GET "/" for 127.0.0.1 at 2011-10-13 15:36:49 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 14:36:49 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 14:36:49 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (8.7ms)
Completed 200 OK in 81ms (Views: 57.6ms | ActiveRecord: 1.6ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:49 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:49 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:36:49 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:49 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:49 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:49 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:49 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:36:49 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:49 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:36:49 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:36:53 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 13], ["created_at", Thu, 13 Oct 2011 14:36:53 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 14:36:53 UTC +00:00]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.3ms)
Rendered carts/_cart.html.erb (5.9ms)
Rendered line_items/create.js.erb (6.9ms)
Completed 200 OK in 76ms (Views: 12.9ms | ActiveRecord: 2.1ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:36:55 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 14:36:55.051877' WHERE "line_items"."id" = 38[0m
Redirected to http://localhost:3000/
Completed 302 Found in 64ms


Started GET "/" for 127.0.0.1 at 2011-10-13 15:36:55 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 13]]
Rendered store/index.html.erb within layouts/application (11.1ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (39.1ms)
Rendered carts/_cart.html.erb (46.8ms)
Completed 200 OK in 87ms (Views: 69.3ms | ActiveRecord: 1.7ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:55 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:36:55 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:36:55 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:55 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:55 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:55 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:55 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:55 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:36:55 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:36:55 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:37:04 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 14:37:04.642981' WHERE "line_items"."id" = 38[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.3ms)
Rendered line_items/create.js.erb (5.0ms)
Completed 200 OK in 74ms (Views: 43.9ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 15:37:06 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 13]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (35.2ms)
Rendered carts/_cart.html.erb (43.2ms)
Completed 200 OK in 81ms (Views: 63.8ms | ActiveRecord: 1.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:37:06 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:37:06 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:37:06 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:37:06 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:37:06 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:37:06 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:37:06 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:37:06 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:37:06 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:37:06 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:39:08 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mUPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-13 14:39:08.191331' WHERE "line_items"."id" = 38[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.7ms)
Rendered carts/_cart.html.erb (4.7ms)
Rendered line_items/create.js.erb (5.4ms)
Completed 200 OK in 75ms (Views: 10.5ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 15:39:10 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 13]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.0ms)
Rendered carts/_cart.html.erb (46.7ms)
Completed 200 OK in 89ms (Views: 68.3ms | ActiveRecord: 2.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:39:10 +0100
Served asset /scaffold.css - 404 Not Found (6ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:39:10 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:39:10 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:39:10 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:39:10 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:39:10 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:39:10 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:39:10 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:39:10 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:39:10 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 15:39:36 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 13]]
Rendered store/index.html.erb within layouts/application (42.1ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.6ms)
Rendered carts/_cart.html.erb (13.7ms)
Completed 200 OK in 85ms (Views: 66.9ms | ActiveRecord: 1.4ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:39:36 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:39:36 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:39:36 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:39:36 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:39:36 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:39:36 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:39:36 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:39:36 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:39:36 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:39:36 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:39:38 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-13 14:39:38.957523' WHERE "line_items"."id" = 38[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.7ms)
Rendered carts/_cart.html.erb (11.6ms)
Rendered line_items/create.js.erb (12.7ms)
Completed 200 OK in 93ms (Views: 17.9ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 15:49:31 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 13]]
Rendered store/index.html.erb within layouts/application (39.0ms)
Compiled depot.css  (0ms)  (pid 63785)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.1ms)
Rendered carts/_cart.html.erb (16.2ms)
Completed 200 OK in 118ms (Views: 102.0ms | ActiveRecord: 1.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:49:31 +0100
Served asset /depot.css - 200 OK (28ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:49:31 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:49:31 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:49:31 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:49:31 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:49:31 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:49:31 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:49:31 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:49:31 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:49:31 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:49:37 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 6, "updated_at" = '2011-10-13 14:49:37.403338' WHERE "line_items"."id" = 38[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.9ms)
Rendered carts/_cart.html.erb (5.0ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 90ms (Views: 12.9ms | ActiveRecord: 1.5ms)


Started DELETE "/carts/13" for 127.0.0.1 at 2011-10-13 15:49:57 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"13"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 13[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 38]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 13]]
Redirected to http://localhost:3000/
Completed 302 Found in 46ms


Started GET "/" for 127.0.0.1 at 2011-10-13 15:49:57 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Thu, 13 Oct 2011 14:49:57 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 14:49:57 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (38.8ms)
Completed 200 OK in 80ms (Views: 58.1ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:49:57 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:49:57 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:49:57 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:49:57 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:49:57 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:49:57 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:49:57 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:49:57 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:49:57 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:49:57 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:50:11 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 14], ["created_at", Thu, 13 Oct 2011 14:50:11 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 14:50:11 UTC +00:00]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.9ms)
Rendered carts/_cart.html.erb (5.0ms)
Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 73ms (Views: 10.5ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 15:54:00 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 14]]
Rendered store/index.html.erb within layouts/application (10.0ms)
Compiled depot.css  (0ms)  (pid 63785)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.1ms)
Rendered carts/_cart.html.erb (67.5ms)
Completed 200 OK in 147ms (Views: 129.0ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:54:00 +0100
Served asset /depot.css - 200 OK (9ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:54:00 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:54:00 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:54:00 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:54:00 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:54:00 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:54:00 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:54:00 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:54:00 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:54:01 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 15:54:05 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (6.0ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 14:54:05.306551' WHERE "line_items"."id" = 39
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.4ms)
Completed 200 OK in 82ms (Views: 14.3ms | ActiveRecord: 7.4ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 15:58:10 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 14]]
Rendered store/index.html.erb within layouts/application (10.5ms)
Compiled depot.css  (30ms)  (pid 63785)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.9ms)
Rendered carts/_cart.html.erb (13.9ms)
Completed 200 OK in 87ms (Views: 69.6ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 15:58:10 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 15:58:10 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 15:58:10 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 15:58:10 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 15:58:10 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 15:58:10 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 15:58:10 +0100
Served asset /depot.css - 200 OK (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 15:58:10 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 15:58:10 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 15:58:10 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 16:00:58 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 15:00:58.343839' WHERE "line_items"."id" = 39
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.5ms)
Rendered line_items/create.js.erb (11.7ms)
Completed 200 OK in 131ms (Views: 58.7ms | ActiveRecord: 2.1ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 16:01:43 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-13 15:01:43.306456' WHERE "line_items"."id" = 39
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.0ms)
Rendered line_items/create.js.erb (4.8ms)
Completed 200 OK in 89ms (Views: 9.8ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:01:45 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 14]]
Rendered store/index.html.erb within layouts/application (9.9ms)
Compiled depot.css  (0ms)  (pid 63785)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.7ms)
Rendered carts/_cart.html.erb (14.1ms)
Completed 200 OK in 104ms (Views: 85.0ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:01:45 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:01:45 +0100
Served asset /depot.css - 200 OK (10ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:01:45 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:01:45 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:01:45 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:01:45 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:01:45 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:01:45 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:01:45 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:01:45 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:01:51 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 14]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.7ms)
Rendered carts/_cart.html.erb (13.9ms)
Completed 200 OK in 82ms (Views: 35.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:01:52 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:01:52 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:01:52 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:01:52 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:01:52 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:01:52 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:01:52 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:01:52 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:01:52 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:01:52 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:02:14 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 14]]
Rendered store/index.html.erb within layouts/application (10.5ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.1ms)
Rendered carts/_cart.html.erb (14.1ms)
Completed 200 OK in 84ms (Views: 35.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:02:14 +0100
Served asset /scaffold.css - 404 Not Found (22ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:02:14 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:02:14 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:02:14 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:02:14 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:02:14 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:02:14 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:02:14 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:02:14 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:02:15 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:02:19 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 14]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.6ms)
Rendered carts/_cart.html.erb (13.7ms)
Completed 200 OK in 51ms (Views: 34.4ms | ActiveRecord: 1.4ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:02:19 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:02:19 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:02:19 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:02:19 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:02:19 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:02:19 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:02:19 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:02:19 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:02:19 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:02:19 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:03:14 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 14]]
Rendered store/index.html.erb within layouts/application (10.2ms)
Compiled depot.css  (0ms)  (pid 63785)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.7ms)
Rendered carts/_cart.html.erb (45.9ms)
Completed 200 OK in 105ms (Views: 87.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:03:14 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:03:14 +0100
Served asset /depot.css - 200 OK (1ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:03:14 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:03:14 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:03:14 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:03:14 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:03:14 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:03:14 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:03:14 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:03:14 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:03:35 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 14]]
Rendered store/index.html.erb within layouts/application (41.1ms)
Compiled depot.css  (0ms)  (pid 63785)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.7ms)
Rendered carts/_cart.html.erb (15.3ms)
Completed 200 OK in 88ms (Views: 71.0ms | ActiveRecord: 1.4ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:03:35 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:03:35 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:03:35 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:03:35 +0100
Served asset /depot.css - 200 OK (1ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:03:35 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:03:35 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:03:35 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:03:35 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:03:35 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:03:35 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:04:53 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 14]]
Rendered store/index.html.erb within layouts/application (10.2ms)
Compiled depot.css  (0ms)  (pid 63785)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.7ms)
Rendered carts/_cart.html.erb (13.5ms)
Completed 200 OK in 86ms (Views: 37.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:04:53 +0100
Served asset /depot.css - 200 OK (1ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:53 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:04:53 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:53 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:53 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:53 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:53 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:53 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:53 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:04:53 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:04:54 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 14]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.6ms)
Rendered carts/_cart.html.erb (14.6ms)
Completed 200 OK in 88ms (Views: 36.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:04:54 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:54 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:54 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:54 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:54 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:54 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:04:54 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:04:54 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 14]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.6ms)
Rendered carts/_cart.html.erb (43.8ms)
Completed 200 OK in 81ms (Views: 64.5ms | ActiveRecord: 1.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:04:54 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:54 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:54 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:54 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:54 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:54 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:04:54 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:55 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:04:55 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:04:55 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 16:06:30 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (20.2ms)[0m  UPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-13 15:06:30.625923' WHERE "line_items"."id" = 39
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.1ms)
Rendered carts/_cart.html.erb (6.4ms)
Rendered line_items/create.js.erb (7.1ms)
Completed 200 OK in 96ms (Views: 12.7ms | ActiveRecord: 21.5ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 16:06:48 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 14], ["created_at", Thu, 13 Oct 2011 15:06:48 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 15:06:48 UTC +00:00]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.3ms)
Rendered carts/_cart.html.erb (5.3ms)
Rendered line_items/create.js.erb (6.0ms)
Completed 200 OK in 74ms (Views: 10.7ms | ActiveRecord: 2.1ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 16:06:54 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 15:06:54.413318' WHERE "line_items"."id" = 40[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (35.7ms)
Rendered line_items/create.js.erb (36.5ms)
Completed 200 OK in 72ms (Views: 41.3ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-13 16:07:02 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 14], ["created_at", Thu, 13 Oct 2011 15:07:02 UTC +00:00], ["product_id", 7], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 15:07:02 UTC +00:00]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.1ms)
Rendered carts/_cart.html.erb (6.0ms)
Rendered line_items/create.js.erb (6.7ms)
Completed 200 OK in 45ms (Views: 11.5ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:08:16 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 14]]
Rendered store/index.html.erb within layouts/application (9.9ms)
Compiled depot.css  (0ms)  (pid 63785)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (8.1ms)
Rendered carts/_cart.html.erb (16.6ms)
Completed 200 OK in 82ms (Views: 65.9ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:08:17 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:08:17 +0100
Served asset /depot.css - 200 OK (3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:08:17 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:08:17 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:08:17 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:08:17 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:08:17 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:08:17 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:08:17 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:08:17 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:09:11 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 14]]
Rendered store/index.html.erb within layouts/application (10.7ms)
Compiled depot.css  (0ms)  (pid 63785)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.0ms)
Rendered carts/_cart.html.erb (47.5ms)
Completed 200 OK in 91ms (Views: 73.5ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:09:11 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:09:11 +0100
Served asset /depot.css - 200 OK (7ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:09:11 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:09:11 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:09:11 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:09:11 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:09:11 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:09:11 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:09:11 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:09:11 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 16:09:16 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (23.8ms)[0m  UPDATE "line_items" SET "quantity" = 6, "updated_at" = '2011-10-13 15:09:16.621743' WHERE "line_items"."id" = 39
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.1ms)
Rendered carts/_cart.html.erb (5.8ms)
Rendered line_items/create.js.erb (6.6ms)
Completed 200 OK in 98ms (Views: 11.2ms | ActiveRecord: 25.4ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-13 16:13:00 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35m (14.9ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 15:13:00.326826' WHERE "line_items"."id" = 41
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.9ms)
Rendered carts/_cart.html.erb (5.6ms)
Rendered line_items/create.js.erb (13.3ms)
Completed 200 OK in 101ms (Views: 26.1ms | ActiveRecord: 16.4ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-13 16:13:06 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "5"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14 AND "line_items"."product_id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 14], ["created_at", Thu, 13 Oct 2011 15:13:06 UTC +00:00], ["product_id", 5], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 15:13:06 UTC +00:00]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.1ms)
Rendered carts/_cart.html.erb (7.1ms)
Rendered line_items/create.js.erb (7.8ms)
Completed 200 OK in 73ms (Views: 12.6ms | ActiveRecord: 1.9ms)


Started POST "/line_items?product_id=8" for 127.0.0.1 at 2011-10-13 16:13:10 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"8"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "8"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14 AND "line_items"."product_id" = 8 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 14], ["created_at", Thu, 13 Oct 2011 15:13:10 UTC +00:00], ["product_id", 8], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 15:13:10 UTC +00:00]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.5ms)
Rendered carts/_cart.html.erb (7.5ms)
Rendered line_items/create.js.erb (8.3ms)
Completed 200 OK in 45ms (Views: 12.6ms | ActiveRecord: 2.2ms)


Started DELETE "/carts/14" for 127.0.0.1 at 2011-10-13 16:14:40 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"14"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 14[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 39]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 40]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 41]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 42]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 43]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 14]]
Redirected to http://localhost:3000/
Completed 302 Found in 17ms


Started GET "/" for 127.0.0.1 at 2011-10-13 16:14:40 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Thu, 13 Oct 2011 15:14:40 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:14:40 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (14.4ms)
Compiled depot.css  (0ms)  (pid 63785)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 15
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (7.5ms)
Completed 200 OK in 172ms (Views: 116.0ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:14:40 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:14:40 +0100
Served asset /depot.css - 200 OK (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:14:40 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:14:40 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:14:40 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:14:40 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:14:40 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:14:40 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:14:40 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:14:41 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 16:14:45 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 15 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 15], ["created_at", Thu, 13 Oct 2011 15:14:45 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 15:14:45 UTC +00:00]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 15[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.6ms)
Rendered carts/_cart.html.erb (4.6ms)
Rendered line_items/create.js.erb (5.3ms)
Completed 200 OK in 75ms (Views: 11.0ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-13 16:14:48 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 15 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 15], ["created_at", Thu, 13 Oct 2011 15:14:48 UTC +00:00], ["product_id", 7], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 15:14:48 UTC +00:00]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 15[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (5.2ms)
Rendered line_items/create.js.erb (6.0ms)
Completed 200 OK in 73ms (Views: 10.8ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:15:18 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 15]]
Rendered store/index.html.erb within layouts/application (39.6ms)
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 15
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.3ms)
Rendered carts/_cart.html.erb (14.3ms)
Completed 200 OK in 83ms (Views: 65.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:15:18 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:15:18 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:15:18 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:15:18 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:15:18 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:15:18 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:15:18 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:15:18 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:15:18 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:15:18 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 16:15:22 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 15 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 15], ["created_at", Thu, 13 Oct 2011 15:15:22 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 15:15:22 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 65ms


Started GET "/" for 127.0.0.1 at 2011-10-13 16:15:22 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 15]]
Rendered store/index.html.erb within layouts/application (40.1ms)
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 15[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.5ms)
Rendered carts/_cart.html.erb (15.7ms)
Completed 200 OK in 85ms (Views: 67.7ms | ActiveRecord: 1.7ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:15:22 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:15:22 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:15:22 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:15:22 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:15:22 +0100
Served asset /scaffold.css - 404 Not Found (5ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:15:22 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:15:22 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:15:22 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:15:22 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:15:22 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 16:15:25 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 15 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 15:15:25.215000' WHERE "line_items"."id" = 46
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 15[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.2ms)
Rendered carts/_cart.html.erb (7.9ms)
Rendered line_items/create.js.erb (8.6ms)
Completed 200 OK in 74ms (Views: 13.2ms | ActiveRecord: 1.7ms)


Started DELETE "/carts/15" for 127.0.0.1 at 2011-10-13 16:35:39 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"15"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 15
  [1m[36mSQL (10.4ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 44]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 45]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 46]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 15]]
Redirected to http://localhost:3000/
Completed 302 Found in 58ms


Started GET "/" for 127.0.0.1 at 2011-10-13 16:35:39 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 15:35:39 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:35:39 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (12.8ms)
ERROR: compiling _app_views_carts__cart_html_erb__91252998725776319_2168537380 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected $end, expecting keyword_end
Function body:           def _app_views_carts__cart_html_erb__91252998725776319_2168537380(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - have just used code on page 150 so cart just appears instead of nice AJAX effect below -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  
  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>

<!-- Adds a empty button to the shopping cart -->
'); unless cart.line_items.empty? ;@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__1274749081216863931__process_action__961567435864992527__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (1.4ms)
Completed 500 Internal Server Error in 91ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected $end, expecting keyword_end):
    17: <% unless cart.line_items.empty? %><%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    18: 
    19: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (4.2ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:37:26 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 15:37:26 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:37:26 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (11.3ms)
ERROR: compiling _app_views_carts__cart_html_erb__91252998725776319_2169096700 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected $end
Function body:           def _app_views_carts__cart_html_erb__91252998725776319_2169096700(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - have just used code on page 150 so cart just appears instead of nice AJAX effect below -->
'); unless cart.line_items.empty do 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  
  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>

<!-- Adds a empty button to the shopping cart -->
'); unless cart.line_items.empty? ;@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__1274749081216863931__process_action__961567435864992527__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.7ms)
Completed 500 Internal Server Error in 41ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected $end):
    17: <% unless cart.line_items.empty? %><%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    18: 
    19: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:37:45 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 15:37:45 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:37:45 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (11.6ms)
ERROR: compiling _app_views_carts__cart_html_erb__91252998725776319_2169879900 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected $end
Function body:           def _app_views_carts__cart_html_erb__91252998725776319_2169879900(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - have just used code on page 150 so cart just appears instead of nice AJAX effect below -->
'); unless cart.line_items.empty do 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  
  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>

<!-- Adds a empty button to the shopping cart -->
'); unless cart.line_items.empty? ;@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__1274749081216863931__process_action__961567435864992527__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.7ms)
Completed 500 Internal Server Error in 41ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected $end):
    17: <% unless cart.line_items.empty? %><%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    18: 
    19: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:38:03 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 15:38:03 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:38:03 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (11.3ms)
ERROR: compiling _app_views_carts__cart_html_erb__91252998725776319_2169879900 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected $end
Function body:           def _app_views_carts__cart_html_erb__91252998725776319_2169879900(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - have just used code on page 150 so cart just appears instead of nice AJAX effect below -->
'); unless cart.line_items.empty do 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  
  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>

<!-- Adds a empty button to the shopping cart -->
'); unless cart.line_items.empty? ;@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__1274749081216863931__process_action__961567435864992527__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.7ms)
Completed 500 Internal Server Error in 85ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected $end):
    17: <% unless cart.line_items.empty? %><%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    18: 
    19: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:38:33 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 15:38:33 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:38:33 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.8ms)
ERROR: compiling _app_views_carts__cart_html_erb__91252998725776319_2171327220 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected $end, expecting keyword_end
Function body:           def _app_views_carts__cart_html_erb__91252998725776319_2171327220(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - have just used code on page 150 so cart just appears instead of nice AJAX effect below -->
'); unless cart.line_items.empty 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  
  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>

<!-- Adds a empty button to the shopping cart -->
'); unless cart.line_items.empty? ;@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__1274749081216863931__process_action__961567435864992527__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.7ms)
Completed 500 Internal Server Error in 71ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected $end, expecting keyword_end):
    17: <% unless cart.line_items.empty? %><%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    18: 
    19: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:38:49 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 15:38:50 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:38:50 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (11.2ms)
ERROR: compiling _app_views_carts__cart_html_erb__91252998725776319_2171327220 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected $end, expecting keyword_end
Function body:           def _app_views_carts__cart_html_erb__91252998725776319_2171327220(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - have just used code on page 150 so cart just appears instead of nice AJAX effect below -->
'); unless cart.line_items.empty 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  
  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>

<!-- Adds a empty button to the shopping cart -->
'); unless cart.line_items.empty? ;@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__1274749081216863931__process_action__961567435864992527__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.6ms)
Completed 500 Internal Server Error in 71ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected $end, expecting keyword_end):
    17: <% unless cart.line_items.empty? %><%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    18: 
    19: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:39:12 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 15:39:12 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:39:12 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (42.9ms)
ERROR: compiling _app_views_carts__cart_html_erb__91252998725776319_2171327220 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected $end, expecting keyword_end
Function body:           def _app_views_carts__cart_html_erb__91252998725776319_2171327220(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - have just used code on page 150 so cart just appears instead of nice AJAX effect below -->
'); unless cart.line_items.empty 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  
  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>

<!-- Adds a empty button to the shopping cart -->
'); unless cart.line_items.empty? ;@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__1274749081216863931__process_action__961567435864992527__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.7ms)
Completed 500 Internal Server Error in 72ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected $end, expecting keyword_end):
    17: <% unless cart.line_items.empty? %><%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    18: 
    19: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:39:46 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 15:39:46 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:39:46 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (12.3ms)
ERROR: compiling _app_views_carts__cart_html_erb__91252998725776319_2189926180 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected $end, expecting keyword_end
Function body:           def _app_views_carts__cart_html_erb__91252998725776319_2189926180(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - have just used code on page 150 so cart just appears instead of nice AJAX effect below -->
<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  
  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>

<!-- Adds a empty button to the shopping cart -->
'); unless cart.line_items.empty? ;@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__1274749081216863931__process_action__961567435864992527__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.7ms)
Completed 500 Internal Server Error in 75ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected $end, expecting keyword_end):
    14: 
    15: <!-- Adds a empty button to the shopping cart -->
    16: <% unless cart.line_items.empty? %><%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:41:29 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 15:41:29 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:41:29 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.1ms)
ERROR: compiling _app_views_carts__cart_html_erb__91252998725776319_2162427960 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected $end, expecting keyword_end
Function body:           def _app_views_carts__cart_html_erb__91252998725776319_2162427960(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - have just used code on page 150 so cart just appears instead of nice AJAX effect below -->
<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  
  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>

<!-- Adds a empty button to the shopping cart -->
'); unless cart.line_items.empty? ;@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__1274749081216863931__process_action__961567435864992527__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.7ms)
Completed 500 Internal Server Error in 41ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected $end, expecting keyword_end):
    14: 
    15: <!-- Adds a empty button to the shopping cart -->
    16: <% unless cart.line_items.empty? %><%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:41:30 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 15:41:30 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:41:30 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.3ms)
ERROR: compiling _app_views_carts__cart_html_erb__91252998725776319_2162427960 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected $end, expecting keyword_end
Function body:           def _app_views_carts__cart_html_erb__91252998725776319_2162427960(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - have just used code on page 150 so cart just appears instead of nice AJAX effect below -->
<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  
  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>

<!-- Adds a empty button to the shopping cart -->
'); unless cart.line_items.empty? ;@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__1274749081216863931__process_action__961567435864992527__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.6ms)
Completed 500 Internal Server Error in 42ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected $end, expecting keyword_end):
    14: 
    15: <!-- Adds a empty button to the shopping cart -->
    16: <% unless cart.line_items.empty? %><%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:41:31 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 15:41:31 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:41:31 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.6ms)
ERROR: compiling _app_views_carts__cart_html_erb__91252998725776319_2162427960 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected $end, expecting keyword_end
Function body:           def _app_views_carts__cart_html_erb__91252998725776319_2162427960(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - have just used code on page 150 so cart just appears instead of nice AJAX effect below -->
<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  
  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>

<!-- Adds a empty button to the shopping cart -->
'); unless cart.line_items.empty? ;@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__1274749081216863931__process_action__961567435864992527__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.6ms)
Completed 500 Internal Server Error in 39ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected $end, expecting keyword_end):
    14: 
    15: <!-- Adds a empty button to the shopping cart -->
    16: <% unless cart.line_items.empty? %><%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:41:31 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 15:41:31 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:41:31 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.5ms)
ERROR: compiling _app_views_carts__cart_html_erb__91252998725776319_2162427960 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected $end, expecting keyword_end
Function body:           def _app_views_carts__cart_html_erb__91252998725776319_2162427960(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - have just used code on page 150 so cart just appears instead of nice AJAX effect below -->
<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  
  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>

<!-- Adds a empty button to the shopping cart -->
'); unless cart.line_items.empty? ;@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__1274749081216863931__process_action__961567435864992527__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.6ms)
Completed 500 Internal Server Error in 72ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected $end, expecting keyword_end):
    14: 
    15: <!-- Adds a empty button to the shopping cart -->
    16: <% unless cart.line_items.empty? %><%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:42:01 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 15:42:01 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:42:01 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.4ms)
ERROR: compiling _app_views_carts__cart_html_erb__91252998725776319_2162427960 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected $end, expecting keyword_end
Function body:           def _app_views_carts__cart_html_erb__91252998725776319_2162427960(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - have just used code on page 150 so cart just appears instead of nice AJAX effect below -->
<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  
  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>

<!-- Adds a empty button to the shopping cart -->
'); unless cart.line_items.empty? ;@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__1274749081216863931__process_action__961567435864992527__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.6ms)
Completed 500 Internal Server Error in 70ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected $end, expecting keyword_end):
    14: 
    15: <!-- Adds a empty button to the shopping cart -->
    16: <% unless cart.line_items.empty? %><%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2154448980'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:42:35 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 15:42:35 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:42:35 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 29[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (7.7ms)
Completed 200 OK in 78ms (Views: 27.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:42:35 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:42:35 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:42:35 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:42:35 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:42:35 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:42:35 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:42:35 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:42:35 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:42:35 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:42:35 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 16:43:05 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 29]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 29 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 29], ["created_at", Thu, 13 Oct 2011 15:43:05 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 15:43:05 UTC +00:00]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 29
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.9ms)
Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 106ms (Views: 42.1ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 16:43:10 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 29]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 29 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 15:43:10.080012' WHERE "line_items"."id" = 47[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 29
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.4ms)
Rendered carts/_cart.html.erb (4.1ms)
Rendered line_items/create.js.erb (4.9ms)
Completed 200 OK in 72ms (Views: 9.8ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 16:43:12 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 29]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 29 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 29], ["created_at", Thu, 13 Oct 2011 15:43:13 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 15:43:13 UTC +00:00]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 29
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.4ms)
Rendered carts/_cart.html.erb (5.3ms)
Rendered line_items/create.js.erb (6.1ms)
Completed 200 OK in 72ms (Views: 11.1ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 16:57:36 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 29]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 29[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 29
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.6ms)
Rendered carts/_cart.html.erb (16.1ms)
Completed 200 OK in 86ms (Views: 67.7ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:57:36 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:57:36 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:57:36 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:57:36 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:57:36 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:57:36 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:57:36 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:57:36 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:57:36 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:57:36 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/29" for 127.0.0.1 at 2011-10-13 16:57:42 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"29"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 29]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 29
  [1m[36mSQL (20.6ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 47]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 48]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 29]]
Redirected to http://localhost:3000/
Completed 302 Found in 69ms


Started GET "/" for 127.0.0.1 at 2011-10-13 16:57:42 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Thu, 13 Oct 2011 15:57:42 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:57:42 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 30
Rendered carts/_cart.html.erb (5.8ms)
Completed 200 OK in 46ms (Views: 25.1ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:57:42 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:57:42 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:57:42 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:57:42 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:57:42 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:57:42 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:57:42 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:57:42 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:57:42 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:57:42 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 16:58:15 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 30 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 30], ["created_at", Thu, 13 Oct 2011 15:58:16 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 15:58:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 30[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 30
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (34.3ms)
Rendered carts/_cart.html.erb (38.5ms)
Rendered line_items/create.js.erb (39.2ms)
Completed 200 OK in 76ms (Views: 44.7ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 16:58:30 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 30 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 30], ["created_at", Thu, 13 Oct 2011 15:58:30 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 15:58:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 30
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 30[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.3ms)
Rendered carts/_cart.html.erb (5.9ms)
Rendered line_items/create.js.erb (6.6ms)
Completed 200 OK in 43ms (Views: 11.4ms | ActiveRecord: 1.8ms)


Started DELETE "/carts/30" for 127.0.0.1 at 2011-10-13 16:58:43 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"30"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 30[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 49]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 50]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 30]]
Redirected to http://localhost:3000/
Completed 302 Found in 17ms


Started GET "/" for 127.0.0.1 at 2011-10-13 16:58:43 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 15:58:43 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 15:58:43 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (40.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 31[0m
Rendered carts/_cart.html.erb (18.4ms)
Completed 200 OK in 91ms (Views: 70.1ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 16:58:43 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 16:58:43 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 16:58:43 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 16:58:43 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 16:58:43 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 16:58:43 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 16:58:43 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 16:58:43 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 16:58:43 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 16:58:43 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 17:44:15 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 31]]
Rendered store/index.html.erb within layouts/application (11.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 31
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 77ms (Views: 28.6ms | ActiveRecord: 1.2ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:44:15 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:44:15 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:44:15 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:44:15 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:44:15 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:44:15 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:44:15 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:44:15 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:44:15 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:44:15 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:44:17 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 31], ["created_at", Thu, 13 Oct 2011 16:44:17 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:44:17 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 31[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.8ms)
Rendered line_items/create.js.erb (6.8ms)
Completed 200 OK in 43ms (Views: 11.6ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:44:18 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 31]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 16:44:18.714440' WHERE "line_items"."id" = 51[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 31
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.8ms)
Rendered carts/_cart.html.erb (5.2ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 72ms (Views: 10.8ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:44:19 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 16:44:19.276458' WHERE "line_items"."id" = 51
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 31[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.6ms)
Rendered carts/_cart.html.erb (5.1ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 96ms (Views: 21.9ms | ActiveRecord: 2.1ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:44:19 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 31]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-13 16:44:19.684228' WHERE "line_items"."id" = 51[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 31
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.7ms)
Rendered carts/_cart.html.erb (4.9ms)
Rendered line_items/create.js.erb (5.6ms)
Completed 200 OK in 71ms (Views: 10.4ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:44:19 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-13 16:44:19.992719' WHERE "line_items"."id" = 51
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 31[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.6ms)
Rendered carts/_cart.html.erb (4.7ms)
Rendered line_items/create.js.erb (5.4ms)
Completed 200 OK in 71ms (Views: 10.3ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:44:20 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 31]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 6, "updated_at" = '2011-10-13 16:44:20.443146' WHERE "line_items"."id" = 51[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 31
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.8ms)
Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 71ms (Views: 40.0ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 17:44:22 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 31], ["created_at", Thu, 13 Oct 2011 16:44:22 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:44:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 31[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.7ms)
Rendered carts/_cart.html.erb (6.2ms)
Rendered line_items/create.js.erb (7.0ms)
Completed 200 OK in 43ms (Views: 11.7ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 17:44:22 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 16:44:22.945343' WHERE "line_items"."id" = 52
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 31[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (5.3ms)
Rendered line_items/create.js.erb (6.1ms)
Completed 200 OK in 42ms (Views: 10.9ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 17:44:24 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 31]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 31[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 31
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.3ms)
Rendered carts/_cart.html.erb (9.3ms)
Completed 200 OK in 83ms (Views: 37.0ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:44:24 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:44:24 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:44:24 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:44:24 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:44:24 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:44:24 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:44:24 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:44:24 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:44:24 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:44:24 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/31" for 127.0.0.1 at 2011-10-13 17:44:31 +0100

SyntaxError (/Users/mark/work/depot/app/controllers/carts_controller.rb:85: syntax error, unexpected '}', expecting ')'
/Users/mark/work/depot/app/controllers/carts_controller.rb:87: syntax error, unexpected keyword_end, expecting '}'):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (5.1ms)


Started DELETE "/carts/31" for 127.0.0.1 at 2011-10-13 17:44:48 +0100

SyntaxError (/Users/mark/work/depot/app/controllers/carts_controller.rb:85: syntax error, unexpected '}', expecting ')'
/Users/mark/work/depot/app/controllers/carts_controller.rb:87: syntax error, unexpected keyword_end, expecting '}'):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.7ms)


Started DELETE "/carts/31" for 127.0.0.1 at 2011-10-13 17:46:14 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"31"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 31]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 31[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 51]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 52]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 31]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-13 17:46:14 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 16:46:14 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 16:46:14 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 32[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 25.1ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:46:14 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:46:14 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:14 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:14 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:14 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:14 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:14 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:14 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:14 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:46:14 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:46:18 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 32]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 32], ["created_at", Thu, 13 Oct 2011 16:46:18 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:46:18 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 32
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.6ms)
Rendered carts/_cart.html.erb (5.0ms)
Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 42ms (Views: 10.5ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:46:19 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 32]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 16:46:19.507960' WHERE "line_items"."id" = 53
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 32[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.7ms)
Rendered line_items/create.js.erb (6.6ms)
Completed 200 OK in 76ms (Views: 12.3ms | ActiveRecord: 2.1ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:46:19 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 32]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 16:46:19.749155' WHERE "line_items"."id" = 53[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 32
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.5ms)
Rendered line_items/create.js.erb (6.2ms)
Completed 200 OK in 73ms (Views: 11.7ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:46:19 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 32]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-13 16:46:19.947981' WHERE "line_items"."id" = 53
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 32[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.5ms)
Rendered line_items/create.js.erb (5.2ms)
Completed 200 OK in 72ms (Views: 10.1ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 17:46:21 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 32]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 32], ["created_at", Thu, 13 Oct 2011 16:46:21 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:46:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 32
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.4ms)
Rendered carts/_cart.html.erb (5.9ms)
Rendered line_items/create.js.erb (6.6ms)
Completed 200 OK in 72ms (Views: 11.4ms | ActiveRecord: 1.9ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 17:46:21 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 32]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 16:46:21.756930' WHERE "line_items"."id" = 54[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 32
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.6ms)
Rendered carts/_cart.html.erb (6.0ms)
Rendered line_items/create.js.erb (6.7ms)
Completed 200 OK in 72ms (Views: 41.9ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 17:46:21 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 32]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 16:46:21.991859' WHERE "line_items"."id" = 54[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 32
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (5.3ms)
Rendered line_items/create.js.erb (6.0ms)
Completed 200 OK in 41ms (Views: 10.8ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 17:46:32 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 32]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-13 16:46:32.683321' WHERE "line_items"."id" = 54[0m
Redirected to http://localhost:3000/
Completed 302 Found in 31ms


Started GET "/" for 127.0.0.1 at 2011-10-13 17:46:32 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 32]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 32
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 32[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.0ms)
Rendered carts/_cart.html.erb (10.3ms)
Completed 200 OK in 84ms (Views: 36.5ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:46:32 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:32 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:32 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:32 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:32 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:46:32 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:32 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:32 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:32 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:46:32 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/32" for 127.0.0.1 at 2011-10-13 17:46:38 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"32"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 32]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 32
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 53]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 54]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 32]]
Redirected to http://localhost:3000/
Completed 302 Found in 19ms


Started GET "/" for 127.0.0.1 at 2011-10-13 17:46:38 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Thu, 13 Oct 2011 16:46:38 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 16:46:38 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (44.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 33
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 79ms (Views: 58.9ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:46:38 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:46:38 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:38 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:38 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:38 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:38 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:38 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:38 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:46:38 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:46:38 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:46:40 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 33]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 33 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 33], ["created_at", Thu, 13 Oct 2011 16:46:41 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:46:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 33[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 33
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (5.1ms)
Rendered line_items/create.js.erb (5.8ms)
Completed 200 OK in 75ms (Views: 10.8ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:49:59 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 33]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 33 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 16:49:59.118796' WHERE "line_items"."id" = 55[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 33
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 33[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.6ms)
Rendered line_items/create.js.erb (5.3ms)
Completed 200 OK in 71ms (Views: 10.2ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 17:50:04 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 33]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 33[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 33
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 33[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.7ms)
Rendered carts/_cart.html.erb (8.7ms)
Completed 200 OK in 82ms (Views: 65.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:50:04 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:50:04 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:04 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:04 +0100
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:04 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:04 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:04 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:04 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:04 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:50:04 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 17:50:07 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 33]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 33 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 33], ["created_at", Thu, 13 Oct 2011 16:50:07 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:50:07 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 63ms


Started GET "/" for 127.0.0.1 at 2011-10-13 17:50:07 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 33]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 33[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 33
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 33[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.3ms)
Rendered carts/_cart.html.erb (10.8ms)
Completed 200 OK in 84ms (Views: 67.7ms | ActiveRecord: 1.8ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:50:07 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:07 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:07 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:50:07 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:07 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:07 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:07 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:07 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:07 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:50:07 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 17:50:09 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 33]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 33 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 16:50:09.628336' WHERE "line_items"."id" = 56[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 33
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 33[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.5ms)
Rendered carts/_cart.html.erb (5.7ms)
Rendered line_items/create.js.erb (6.4ms)
Completed 200 OK in 73ms (Views: 11.0ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:50:17 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 33]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 33 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 16:50:18.032280' WHERE "line_items"."id" = 55[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 33
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 33[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.4ms)
Rendered carts/_cart.html.erb (5.7ms)
Rendered line_items/create.js.erb (6.4ms)
Completed 200 OK in 72ms (Views: 11.1ms | ActiveRecord: 2.0ms)


Started DELETE "/carts/33" for 127.0.0.1 at 2011-10-13 17:50:23 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"33"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 33]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 33[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 55]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 56]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 33]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-13 17:50:23 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 16:50:23 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 16:50:23 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 34[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 79ms (Views: 26.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:23 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:50:23 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:23 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:23 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:23 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:23 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:23 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:50:23 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:23 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:50:23 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-13 17:50:26 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 34]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 34 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 34], ["created_at", Thu, 13 Oct 2011 16:50:26 UTC +00:00], ["product_id", 7], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:50:26 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 34
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 34[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.7ms)
Rendered carts/_cart.html.erb (5.1ms)
Rendered line_items/create.js.erb (5.8ms)
Completed 200 OK in 43ms (Views: 10.9ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-13 17:50:28 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 34]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 34 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 16:50:28.177063' WHERE "line_items"."id" = 57
Redirected to http://localhost:3000/
Completed 302 Found in 62ms


Started GET "/" for 127.0.0.1 at 2011-10-13 17:50:28 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 34]]
Rendered store/index.html.erb within layouts/application (39.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 34[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 34
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 34[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.1ms)
Rendered carts/_cart.html.erb (10.5ms)
Completed 200 OK in 82ms (Views: 66.3ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:50:28 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:28 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:50:28 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:28 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:28 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:28 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:28 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:28 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:28 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:50:28 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-13 17:50:30 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 34]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 34 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 16:50:30.157073' WHERE "line_items"."id" = 57
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 34[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 34
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.4ms)
Rendered carts/_cart.html.erb (4.6ms)
Rendered line_items/create.js.erb (5.3ms)
Completed 200 OK in 73ms (Views: 10.1ms | ActiveRecord: 1.6ms)


Started DELETE "/carts/34" for 127.0.0.1 at 2011-10-13 17:50:45 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"34"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 34]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 34[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 57]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 34]]
Redirected to http://localhost:3000/
Completed 302 Found in 46ms


Started GET "/" for 127.0.0.1 at 2011-10-13 17:50:45 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Thu, 13 Oct 2011 16:50:45 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 16:50:45 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 35
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 25.8ms | ActiveRecord: 1.4ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:45 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:50:45 +0100
Served asset /scaffold.css - 404 Not Found (36ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:45 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:45 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:45 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:50:45 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:45 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:45 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:45 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:50:45 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:50:46 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 35]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 35], ["created_at", Thu, 13 Oct 2011 16:50:46 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:50:46 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 33ms


Started GET "/" for 127.0.0.1 at 2011-10-13 17:50:46 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 35]]
Rendered store/index.html.erb within layouts/application (11.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 35[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 35
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.7ms)
Rendered carts/_cart.html.erb (8.9ms)
Completed 200 OK in 58ms (Views: 37.3ms | ActiveRecord: 1.9ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:50:46 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:50:46 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:46 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:46 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:46 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:46 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:46 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:46 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:46 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:50:46 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:50:48 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 35]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 16:50:48.276331' WHERE "line_items"."id" = 58
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 35[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.3ms)
Rendered line_items/create.js.erb (6.0ms)
Completed 200 OK in 42ms (Views: 11.0ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 17:50:49 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 35]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 35], ["created_at", Thu, 13 Oct 2011 16:50:50 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:50:50 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 35
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.3ms)
Rendered carts/_cart.html.erb (6.5ms)
Rendered line_items/create.js.erb (7.3ms)
Completed 200 OK in 45ms (Views: 12.0ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-13 17:50:53 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 35]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 35], ["created_at", Thu, 13 Oct 2011 16:50:53 UTC +00:00], ["product_id", 7], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:50:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 35
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.0ms)
Rendered carts/_cart.html.erb (6.5ms)
Rendered line_items/create.js.erb (7.3ms)
Completed 200 OK in 43ms (Views: 11.9ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-13 17:50:54 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 35]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 16:50:54.724268' WHERE "line_items"."id" = 60
Redirected to http://localhost:3000/
Completed 302 Found in 62ms


Started GET "/" for 127.0.0.1 at 2011-10-13 17:50:54 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 35]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 35[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 35
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (8.1ms)
Rendered carts/_cart.html.erb (11.2ms)
Completed 200 OK in 84ms (Views: 37.6ms | ActiveRecord: 1.8ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:50:54 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:54 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:50:54 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:54 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:54 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:54 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:54 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:54 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:50:54 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:50:54 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 17:51:08 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 35]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 16:51:08.539568' WHERE "line_items"."id" = 59
Redirected to http://localhost:3000/
Completed 302 Found in 64ms


Started GET "/" for 127.0.0.1 at 2011-10-13 17:51:08 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 35]]
Rendered store/index.html.erb within layouts/application (11.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 35[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 35
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (8.0ms)
Rendered carts/_cart.html.erb (11.8ms)
Completed 200 OK in 88ms (Views: 69.8ms | ActiveRecord: 2.2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:08 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:08 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:08 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:51:08 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:08 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:51:08 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:08 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:08 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:08 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:51:08 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-13 17:51:12 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 35]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "5"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35 AND "line_items"."product_id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 35], ["created_at", Thu, 13 Oct 2011 16:51:13 UTC +00:00], ["product_id", 5], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:51:13 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 65ms


Started GET "/" for 127.0.0.1 at 2011-10-13 17:51:13 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 35]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 35[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 35
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.7ms)
Rendered carts/_cart.html.erb (11.8ms)
Completed 200 OK in 87ms (Views: 70.3ms | ActiveRecord: 1.9ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:51:13 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:13 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:13 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:13 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:13 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:13 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:13 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:51:13 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:13 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:51:13 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-13 17:51:17 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"5"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 35]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "5"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35 AND "line_items"."product_id" = 5 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 16:51:17.288843' WHERE "line_items"."id" = 61[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 35
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.6ms)
Rendered carts/_cart.html.erb (6.8ms)
Rendered line_items/create.js.erb (7.6ms)
Completed 200 OK in 75ms (Views: 12.1ms | ActiveRecord: 1.9ms)


Started POST "/line_items?product_id=8" for 127.0.0.1 at 2011-10-13 17:51:26 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"8"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 35]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "8"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35 AND "line_items"."product_id" = 8 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 35], ["created_at", Thu, 13 Oct 2011 16:51:26 UTC +00:00], ["product_id", 8], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:51:26 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 35
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.0ms)
Rendered carts/_cart.html.erb (8.6ms)
Rendered line_items/create.js.erb (9.4ms)
Completed 200 OK in 84ms (Views: 13.9ms | ActiveRecord: 2.1ms)


Started DELETE "/carts/35" for 127.0.0.1 at 2011-10-13 17:51:30 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"35"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 35]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 35
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 58]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 59]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 60]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 61]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 62]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 35]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-13 17:51:30 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 16:51:30 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 16:51:30 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 36[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 46ms (Views: 25.8ms | ActiveRecord: 1.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:51:30 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:30 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:30 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:30 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:30 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:51:30 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:30 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:30 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:30 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:51:30 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:51:32 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 36]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 36 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 36], ["created_at", Thu, 13 Oct 2011 16:51:32 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:51:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 36
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 36[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.9ms)
Rendered line_items/create.js.erb (5.6ms)
Completed 200 OK in 42ms (Views: 10.3ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:51:33 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 36]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 36 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 16:51:33.732009' WHERE "line_items"."id" = 63
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 36[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 36
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.6ms)
Rendered line_items/create.js.erb (5.3ms)
Completed 200 OK in 40ms (Views: 10.1ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:51:33 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 36]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 36 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-13 16:51:33.986889' WHERE "line_items"."id" = 63[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 36
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 36[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.6ms)
Rendered line_items/create.js.erb (5.3ms)
Completed 200 OK in 42ms (Views: 10.1ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 17:51:42 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 36]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 36 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 36], ["created_at", Thu, 13 Oct 2011 16:51:42 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:51:42 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 63ms


Started GET "/" for 127.0.0.1 at 2011-10-13 17:51:42 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 36]]
Rendered store/index.html.erb within layouts/application (40.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 36[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 36
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 36[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.7ms)
Rendered carts/_cart.html.erb (10.3ms)
Completed 200 OK in 86ms (Views: 69.5ms | ActiveRecord: 1.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:51:42 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:42 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:42 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:42 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:42 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:51:42 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:42 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:42 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:42 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:51:42 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 17:51:46 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 36]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 36
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 36[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 36
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.2ms)
Rendered carts/_cart.html.erb (9.3ms)
Completed 200 OK in 86ms (Views: 36.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:46 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:51:46 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:51:46 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:46 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:46 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:46 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:46 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:46 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:46 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:51:46 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/36" for 127.0.0.1 at 2011-10-13 17:51:50 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"36"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 36]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 36
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 63]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 64]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 36]]
Redirected to http://localhost:3000/
Completed 302 Found in 18ms


Started GET "/" for 127.0.0.1 at 2011-10-13 17:51:50 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Thu, 13 Oct 2011 16:51:50 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 16:51:50 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (45.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 37
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 81ms (Views: 61.1ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:51:50 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:50 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:50 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:51:50 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:50 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:50 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:50 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:50 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:50 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:51:50 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:51:53 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 37]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 37 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 37], ["created_at", Thu, 13 Oct 2011 16:51:53 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:51:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 37[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 37
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.1ms)
Completed 200 OK in 82ms (Views: 10.7ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 17:51:55 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 37]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 37
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 37[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 37
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.0ms)
Rendered carts/_cart.html.erb (9.2ms)
Completed 200 OK in 86ms (Views: 67.5ms | ActiveRecord: 1.6ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:56 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:56 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:56 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:51:56 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:51:56 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:56 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:56 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:56 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:56 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:51:56 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:51:57 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 37]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 37 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-13 16:51:57.652952' WHERE "line_items"."id" = 65[0m
Redirected to http://localhost:3000/
Completed 302 Found in 63ms


Started GET "/" for 127.0.0.1 at 2011-10-13 17:51:57 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 37]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 37
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 37[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 37
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.9ms)
Rendered carts/_cart.html.erb (8.9ms)
Completed 200 OK in 84ms (Views: 66.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:51:57 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:57 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:57 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:57 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:57 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:51:57 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:57 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:57 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:51:57 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:51:57 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-13 17:52:01 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 37]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 37 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 37], ["created_at", Thu, 13 Oct 2011 16:52:01 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:52:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 37
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 37[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (5.7ms)
Rendered line_items/create.js.erb (6.4ms)
Completed 200 OK in 75ms (Views: 11.3ms | ActiveRecord: 1.9ms)


Started DELETE "/carts/37" for 127.0.0.1 at 2011-10-13 17:56:01 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"37"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 37]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 37[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 65]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 66]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 37]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-13 17:56:01 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 13 Oct 2011 16:56:01 UTC +00:00], ["updated_at", Thu, 13 Oct 2011 16:56:01 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 38[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 49ms (Views: 27.7ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:56:01 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:56:01 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:56:01 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:56:01 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:56:01 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:56:01 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:56:01 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:56:01 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:56:01 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:56:02 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-13 17:56:07 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 38]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 38 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 38], ["created_at", Thu, 13 Oct 2011 16:56:07 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 13 Oct 2011 16:56:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 38
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 38[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.4ms)
Rendered carts/_cart.html.erb (5.0ms)
Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 42ms (Views: 10.5ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-13 17:57:19 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 38]]
Rendered store/index.html.erb within layouts/application (10.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 38[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 38
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 38[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.7ms)
Rendered carts/_cart.html.erb (8.6ms)
Completed 200 OK in 53ms (Views: 36.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-13 17:57:19 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-13 17:57:19 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-13 17:57:19 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-13 17:57:19 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-13 17:57:19 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-13 17:57:19 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-13 17:57:19 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-13 17:57:19 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-13 17:57:20 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-13 17:57:20 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 11:30:06 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 38]]
Rendered store/index.html.erb within layouts/application (43.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 38[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 38
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 38[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.3ms)
Rendered carts/_cart.html.erb (15.7ms)
Completed 200 OK in 123ms (Views: 106.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:30:06 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:30:06 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:30:06 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:30:06 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:30:06 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:30:06 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:30:06 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:30:06 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:30:06 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:30:06 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:30:07 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 38]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 38 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (9.5ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 10:30:08.083571' WHERE "line_items"."id" = 67
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 38[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 38
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.6ms)
Rendered carts/_cart.html.erb (4.7ms)
Rendered line_items/create.js.erb (5.4ms)
Completed 200 OK in 100ms (Views: 10.3ms | ActiveRecord: 10.8ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 11:30:10 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 38]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 38 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 38], ["created_at", Fri, 14 Oct 2011 10:30:10 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 10:30:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 38
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 38[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.3ms)
Rendered carts/_cart.html.erb (6.0ms)
Rendered line_items/create.js.erb (6.7ms)
Completed 200 OK in 77ms (Views: 11.6ms | ActiveRecord: 1.9ms)


Started DELETE "/carts/38" for 127.0.0.1 at 2011-10-14 11:30:17 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"38"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 38]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 38[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 67]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 68]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 38]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-14 11:30:17 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 10:30:17 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 10:30:17 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 39[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 26.5ms | ActiveRecord: 1.4ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:30:17 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:30:17 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:30:17 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:30:17 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:30:17 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:30:17 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:30:17 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:30:17 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:30:17 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:30:17 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:30:19 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 39]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 39 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 39], ["created_at", Fri, 14 Oct 2011 10:30:19 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 10:30:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 39
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 39[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.9ms)
Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 44ms (Views: 10.5ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:30:20 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 39]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 39 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 10:30:20.096917' WHERE "line_items"."id" = 69
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 39[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 39
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.6ms)
Rendered line_items/create.js.erb (5.3ms)
Completed 200 OK in 41ms (Views: 10.1ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 11:42:05 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 39]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 39
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 39[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 39
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.1ms)
Rendered carts/_cart.html.erb (9.3ms)
Completed 200 OK in 116ms (Views: 69.0ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:42:05 +0100
Served asset /scaffold.css - 404 Not Found (4ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:42:05 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:05 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:05 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:05 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:05 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:05 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:05 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:05 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:42:06 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/39" for 127.0.0.1 at 2011-10-14 11:42:10 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"39"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 39]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 39[0m
  [1m[35mSQL (22.5ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 69]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 39]]
Redirected to http://localhost:3000/
Completed 302 Found in 39ms


Started GET "/" for 127.0.0.1 at 2011-10-14 11:42:10 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 14 Oct 2011 10:42:10 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 10:42:10 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (48.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 40
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 88ms (Views: 66.3ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:42:10 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:11 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:42:11 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:11 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:11 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:11 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:11 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:11 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:11 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:42:11 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:42:12 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 40 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 40], ["created_at", Fri, 14 Oct 2011 10:42:12 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 10:42:12 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 40[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 40
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.9ms)
Rendered carts/_cart.html.erb (6.4ms)
Rendered line_items/create.js.erb (7.1ms)
Completed 200 OK in 77ms (Views: 11.9ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:42:23 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 40]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 40 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 10:42:23.510426' WHERE "line_items"."id" = 70[0m
Redirected to http://localhost:3000/
Completed 302 Found in 92ms


Started GET "/" for 127.0.0.1 at 2011-10-14 11:42:23 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 40]]
Rendered store/index.html.erb within layouts/application (15.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 40
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 40[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 40
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (14.5ms)
Rendered carts/_cart.html.erb (18.2ms)
Completed 200 OK in 149ms (Views: 117.9ms | ActiveRecord: 3.3ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:42:23 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:23 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:23 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:23 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:23 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:42:23 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:23 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:23 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:23 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:42:23 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:42:29 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 40]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 40 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-14 10:42:29.783065' WHERE "line_items"."id" = 70[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 40
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 40[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.6ms)
Rendered carts/_cart.html.erb (4.8ms)
Rendered line_items/create.js.erb (5.6ms)
Completed 200 OK in 76ms (Views: 10.6ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:42:38 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 40 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-14 10:42:38.236428' WHERE "line_items"."id" = 70
Redirected to http://localhost:3000/
Completed 302 Found in 65ms


Started GET "/" for 127.0.0.1 at 2011-10-14 11:42:38 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 40]]
Rendered store/index.html.erb within layouts/application (11.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 40[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 40
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 40[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (42.9ms)
Rendered carts/_cart.html.erb (46.9ms)
Completed 200 OK in 98ms (Views: 79.7ms | ActiveRecord: 1.9ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:38 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:38 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:42:38 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:38 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:38 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:38 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:42:38 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:38 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:38 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:42:38 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 11:42:39 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 40 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 40], ["created_at", Fri, 14 Oct 2011 10:42:39 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 10:42:39 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 36ms


Started GET "/" for 127.0.0.1 at 2011-10-14 11:42:39 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 40]]
Rendered store/index.html.erb within layouts/application (11.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 40[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 40
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 40[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.4ms)
Rendered carts/_cart.html.erb (9.4ms)
Completed 200 OK in 56ms (Views: 38.2ms | ActiveRecord: 1.7ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:39 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:39 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:42:39 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:39 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:39 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:39 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:42:39 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:39 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:39 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:42:40 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 11:42:41 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 40]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 40 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 10:42:41.059154' WHERE "line_items"."id" = 71[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 40
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 40[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.4ms)
Rendered carts/_cart.html.erb (37.6ms)
Rendered line_items/create.js.erb (38.4ms)
Completed 200 OK in 76ms (Views: 43.3ms | ActiveRecord: 1.6ms)


Started DELETE "/carts/40" for 127.0.0.1 at 2011-10-14 11:42:44 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"40"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 40]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 40[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 70]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 71]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 40]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-14 11:42:44 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 10:42:44 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 10:42:44 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 41[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 80ms (Views: 25.6ms | ActiveRecord: 1.6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:44 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:44 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:44 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:44 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:42:44 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:42:44 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:44 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:44 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:42:44 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:42:44 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:44:13 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 41 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 41], ["created_at", Fri, 14 Oct 2011 10:44:13 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 10:44:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 41
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 41[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (6.1ms)
Rendered line_items/create.js.erb (6.9ms)
Completed 200 OK in 78ms (Views: 11.6ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 11:44:16 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 41]]
Rendered store/index.html.erb within layouts/application (11.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 41[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 41
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 41[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (12.1ms)
Rendered carts/_cart.html.erb (22.4ms)
Completed 200 OK in 120ms (Views: 99.9ms | ActiveRecord: 2.1ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:44:16 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:16 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:16 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:16 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:16 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:44:16 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.1ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:16 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:16 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:16 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:44:16 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/41" for 127.0.0.1 at 2011-10-14 11:44:18 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"41"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 41]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 41
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 72]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 41]]
Redirected to http://localhost:3000/
Completed 302 Found in 51ms


Started GET "/" for 127.0.0.1 at 2011-10-14 11:44:18 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 10:44:18 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 10:44:18 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (11.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 42[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 97ms (Views: 74.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:44:19 +0100
Served asset /scaffold.css - 404 Not Found (10ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:19 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:19 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:19 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:44:19 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:19 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:19 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:19 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:19 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:44:19 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 11:44:34 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 42]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 42
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 78ms (Views: 60.0ms | ActiveRecord: 1.2ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:35 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:35 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:44:35 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:44:35 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:35 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:35 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:35 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:35 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:44:35 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:44:35 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:44:40 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 42]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 42 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 42], ["created_at", Fri, 14 Oct 2011 10:44:40 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 10:44:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 42[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 42
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (6.6ms)
Rendered line_items/create.js.erb (7.3ms)
Completed 200 OK in 78ms (Views: 12.1ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 11:45:50 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 42]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 42
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 42[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 42
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.6ms)
Rendered carts/_cart.html.erb (10.5ms)
Completed 200 OK in 104ms (Views: 88.4ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:45:50 +0100
Served asset /scaffold.css - 404 Not Found (5ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:45:50 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:45:51 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:45:51 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:45:51 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:45:51 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:45:51 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:45:51 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:45:51 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:45:51 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:45:54 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 42]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 42 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (21.1ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 10:45:54.505262' WHERE "line_items"."id" = 73[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 42
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 42[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (6.9ms)
Rendered line_items/create.js.erb (7.8ms)
Completed 200 OK in 100ms (Views: 14.3ms | ActiveRecord: 23.1ms)


Started DELETE "/carts/42" for 127.0.0.1 at 2011-10-14 11:45:58 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"42"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 42]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 42
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 73]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 42]]
Redirected to http://localhost:3000/
Completed 302 Found in 17ms


Started GET "/" for 127.0.0.1 at 2011-10-14 11:45:58 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 10:45:58 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 10:45:58 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (12.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 43[0m
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 68ms (Views: 38.7ms | ActiveRecord: 1.7ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:45:58 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:45:58 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:45:58 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:45:58 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:45:58 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:45:58 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:45:58 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:45:58 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:45:58 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:45:58 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 11:46:26 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 43]]
Rendered store/index.html.erb within layouts/application (10.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 43
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 45ms (Views: 28.7ms | ActiveRecord: 1.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:46:26 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:46:26 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:26 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:26 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:26 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:26 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:26 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:26 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:27 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:46:27 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:46:28 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 43]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 43 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 43], ["created_at", Fri, 14 Oct 2011 10:46:28 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 10:46:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 43[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 43
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.6ms)
Rendered line_items/create.js.erb (6.6ms)
Completed 200 OK in 44ms (Views: 11.8ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 11:46:45 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 43]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 43
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 43[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 43
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.7ms)
Rendered carts/_cart.html.erb (8.7ms)
Completed 200 OK in 53ms (Views: 35.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:46:45 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:45 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:46:45 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:45 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:45 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:45 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:45 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:45 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:45 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:46:45 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/43" for 127.0.0.1 at 2011-10-14 11:46:48 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"43"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 43]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 43[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 74]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 43]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-14 11:46:48 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 14 Oct 2011 10:46:48 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 10:46:48 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 44
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 99ms (Views: 28.9ms | ActiveRecord: 1.8ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:48 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:48 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:46:48 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:46:48 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:48 +0100
Served asset /products.js - 304 Not Modified (4ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:48 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:48 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:48 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:48 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:46:48 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 11:46:50 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 44]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 44[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 79ms (Views: 28.6ms | ActiveRecord: 1.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:46:50 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:50 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:50 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:50 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:46:50 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:50 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:50 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:50 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:46:50 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:46:50 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 11:55:23 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 44]]
Rendered store/index.html.erb within layouts/application (13.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 44
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 146ms (Views: 79.6ms | ActiveRecord: 1.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:55:24 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:55:24 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:24 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:24 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:24 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:24 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:24 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:24 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:24 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:55:24 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 11:55:25 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 44]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 44[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 43ms (Views: 26.8ms | ActiveRecord: 1.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:55:25 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:55:25 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:25 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:25 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:25 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:25 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:25 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:25 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:25 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:55:25 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 11:55:27 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 44]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 44
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 44ms (Views: 27.5ms | ActiveRecord: 1.2ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:55:27 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:27 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:27 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:27 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:55:27 +0100
Served asset /scaffold.css - 404 Not Found (34ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:27 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:27 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:27 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:27 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:55:27 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:55:30 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 44]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Completed 500 Internal Server Error in 30ms

NoMethodError (undefined method `price=' for #<LineItem:0x00000102849628>):
  app/models/cart.rb:14:in `add_product'
  app/controllers/line_items_controller.rb:45:in `create'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:55:38 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 44]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Completed 500 Internal Server Error in 30ms

NoMethodError (undefined method `price=' for #<LineItem:0x00000102b27fc0>):
  app/models/cart.rb:14:in `add_product'
  app/controllers/line_items_controller.rb:45:in `create'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:55:45 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 44]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Completed 500 Internal Server Error in 30ms

NoMethodError (undefined method `price=' for #<LineItem:0x00000102c58700>):
  app/models/cart.rb:14:in `add_product'
  app/controllers/line_items_controller.rb:45:in `create'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.5ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 11:55:46 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 44]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 44[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 75ms (Views: 27.1ms | ActiveRecord: 1.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:55:46 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:47 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:47 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:55:47 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:47 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:47 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:47 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:47 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:47 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:55:47 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 11:55:48 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 44]]
Rendered store/index.html.erb within layouts/application (10.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 44
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 77ms (Views: 27.9ms | ActiveRecord: 1.1ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:55:48 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:55:48 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:48 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:48 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:48 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:48 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:48 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:48 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:55:48 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:55:48 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:55:50 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 44]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Completed 500 Internal Server Error in 31ms

NoMethodError (undefined method `price=' for #<LineItem:0x00000102b78448>):
  app/models/cart.rb:14:in `add_product'
  app/controllers/line_items_controller.rb:45:in `create'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.4ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:56:02 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 44]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Completed 500 Internal Server Error in 32ms

NoMethodError (undefined method `price=' for #<LineItem:0x00000102cfa258>):
  app/models/cart.rb:14:in `add_product'
  app/controllers/line_items_controller.rb:45:in `create'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:56:04 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 44]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Completed 500 Internal Server Error in 61ms

NoMethodError (undefined method `price=' for #<LineItem:0x00000102e29ae8>):
  app/models/cart.rb:14:in `add_product'
  app/controllers/line_items_controller.rb:45:in `create'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:56:44 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 44]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (17.6ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 44], ["created_at", Fri, 14 Oct 2011 10:56:44 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 10:56:44 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 83ms


Started GET "/" for 127.0.0.1 at 2011-10-14 11:56:44 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 44]]
Rendered store/index.html.erb within layouts/application (43.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 44[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 44
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.1ms)
Rendered carts/_cart.html.erb (27.2ms)
Completed 200 OK in 104ms (Views: 88.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:56:44 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:56:44 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:56:44 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:56:44 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:56:44 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:56:44 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:56:44 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:56:44 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:56:44 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:56:44 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:56:47 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 44]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 10:56:47.927680' WHERE "line_items"."id" = 75
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 44[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.6ms)
Rendered carts/_cart.html.erb (5.3ms)
Rendered line_items/create.js.erb (7.0ms)
Completed 200 OK in 81ms (Views: 11.9ms | ActiveRecord: 2.2ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-14 11:57:02 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"5"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 44]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "5"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44 AND "line_items"."product_id" = 5 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 44], ["created_at", Fri, 14 Oct 2011 10:57:02 UTC +00:00], ["product_id", 5], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 10:57:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 44
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.8ms)
Rendered carts/_cart.html.erb (6.3ms)
Rendered line_items/create.js.erb (7.1ms)
Completed 200 OK in 75ms (Views: 11.7ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 11:58:31 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 44]]
Rendered store/index.html.erb within layouts/application (40.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 44
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 44[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.7ms)
Rendered carts/_cart.html.erb (9.7ms)
Completed 200 OK in 85ms (Views: 67.3ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:58:31 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:58:31 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:31 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:31 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:31 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:31 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:31 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:31 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:31 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:58:31 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:58:35 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 44]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-14 10:58:35.607252' WHERE "line_items"."id" = 75
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 44[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.4ms)
Rendered carts/_cart.html.erb (5.7ms)
Rendered line_items/create.js.erb (6.4ms)
Completed 200 OK in 74ms (Views: 11.1ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 11:58:37 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 44]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 44[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 44
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.4ms)
Rendered carts/_cart.html.erb (9.4ms)
Completed 200 OK in 84ms (Views: 67.1ms | ActiveRecord: 1.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:37 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:58:37 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:37 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:37 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:58:37 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:37 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:37 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:37 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:37 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:58:37 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/44" for 127.0.0.1 at 2011-10-14 11:58:41 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"44"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 44]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 44[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 75]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 76]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 44]]
Redirected to http://localhost:3000/
Completed 302 Found in 50ms


Started GET "/" for 127.0.0.1 at 2011-10-14 11:58:41 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 10:58:41 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 10:58:41 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 45[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 76ms (Views: 56.4ms | ActiveRecord: 1.4ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:41 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:41 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:41 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:41 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:58:41 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:58:41 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:41 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:41 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:41 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:58:41 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:58:43 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 45]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 45 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 45], ["created_at", Fri, 14 Oct 2011 10:58:43 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 10:58:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 45
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 45[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.6ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.1ms)
Completed 200 OK in 75ms (Views: 10.9ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:58:46 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 45]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 45 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 10:58:46.830602' WHERE "line_items"."id" = 77
Redirected to http://localhost:3000/
Completed 302 Found in 31ms


Started GET "/" for 127.0.0.1 at 2011-10-14 11:58:46 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 45]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 45[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 45
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 45[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.6ms)
Rendered carts/_cart.html.erb (8.6ms)
Completed 200 OK in 51ms (Views: 34.8ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:58:46 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:46 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:46 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:46 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:47 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:58:47 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:47 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:47 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:47 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:58:47 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:58:49 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 45]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 45 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-14 10:58:49.124730' WHERE "line_items"."id" = 77
Redirected to http://localhost:3000/
Completed 302 Found in 31ms


Started GET "/" for 127.0.0.1 at 2011-10-14 11:58:49 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 45]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 45[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 45
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 45[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.9ms)
Rendered carts/_cart.html.erb (8.9ms)
Completed 200 OK in 53ms (Views: 35.8ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 11:58:49 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:49 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:49 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 11:58:49 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:49 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:49 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:49 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:49 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 11:58:49 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 11:58:49 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 11:58:51 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 45]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 45 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-14 10:58:51.050662' WHERE "line_items"."id" = 77
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 45[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 45
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.9ms)
Rendered line_items/create.js.erb (5.6ms)
Completed 200 OK in 41ms (Views: 10.3ms | ActiveRecord: 1.5ms)


Started DELETE "/carts/45" for 127.0.0.1 at 2011-10-14 12:08:11 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"45"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 45]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 45[0m
  [1m[35mSQL (13.7ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 77]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 45]]
Redirected to http://localhost:3000/
Completed 302 Found in 31ms


Started GET "/" for 127.0.0.1 at 2011-10-14 12:08:11 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (16.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 14 Oct 2011 11:08:11 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 11:08:11 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (11.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 46
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 175ms (Views: 104.3ms | ActiveRecord: 17.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:08:11 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:08:11 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:11 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:11 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:11 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:11 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:11 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:11 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:11 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:08:11 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 12:08:16 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 46]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 46[0m
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 76ms (Views: 27.5ms | ActiveRecord: 1.2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:16 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:16 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:16 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:08:16 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:08:16 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:16 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:16 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:16 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:16 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:08:16 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 12:08:18 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 46]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 46 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 46], ["created_at", Fri, 14 Oct 2011 11:08:18 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 11:08:18 UTC +00:00]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 46
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 46[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.8ms)
Rendered carts/_cart.html.erb (6.2ms)
Rendered line_items/create.js.erb (7.2ms)
Completed 200 OK in 131ms (Views: 66.4ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 12:08:42 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 46]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 46[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 46
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 46[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.0ms)
Rendered carts/_cart.html.erb (9.0ms)
Completed 200 OK in 85ms (Views: 35.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:42 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:42 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:08:42 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:42 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:42 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:42 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:42 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:42 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:08:42 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:08:42 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/46" for 127.0.0.1 at 2011-10-14 12:08:47 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"46"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 46]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 46
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 78]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 46]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-14 12:08:47 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 11:08:47 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 11:08:47 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (43.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 47[0m
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 82ms (Views: 59.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:47 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:47 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:47 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:08:47 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:47 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:08:47 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:47 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:47 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:47 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:08:47 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 12:08:48 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 47]]
Rendered store/index.html.erb within layouts/application (58.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 47
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 106ms (Views: 80.3ms | ActiveRecord: 1.7ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:48 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:08:48 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (4.1ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:48 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:48 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:48 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:08:48 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:48 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:48 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:48 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:08:48 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 12:08:49 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 47]]
Rendered store/index.html.erb within layouts/application (46.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 47[0m
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 84ms (Views: 65.8ms | ActiveRecord: 1.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:08:49 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:49 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:49 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:08:49 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:49 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:49 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:49 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:49 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:49 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:08:49 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 12:08:52 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 47]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 47 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 47], ["created_at", Fri, 14 Oct 2011 11:08:52 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 11:08:52 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 47
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 47[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.9ms)
Rendered carts/_cart.html.erb (6.3ms)
Rendered line_items/create.js.erb (7.0ms)
Completed 200 OK in 76ms (Views: 11.7ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-14 12:08:54 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 47]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 47 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 47], ["created_at", Fri, 14 Oct 2011 11:08:54 UTC +00:00], ["product_id", 7], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 11:08:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 47[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 47
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.4ms)
Rendered carts/_cart.html.erb (6.4ms)
Rendered line_items/create.js.erb (7.1ms)
Completed 200 OK in 75ms (Views: 11.9ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-14 12:08:55 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 47]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "5"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 47 AND "line_items"."product_id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 47], ["created_at", Fri, 14 Oct 2011 11:08:55 UTC +00:00], ["product_id", 5], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 11:08:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 47[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 47
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.8ms)
Rendered carts/_cart.html.erb (7.5ms)
Rendered line_items/create.js.erb (8.3ms)
Completed 200 OK in 76ms (Views: 12.8ms | ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 12:08:56 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 47]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 47
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 47[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 47
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.4ms)
Rendered carts/_cart.html.erb (10.6ms)
Completed 200 OK in 88ms (Views: 69.6ms | ActiveRecord: 1.8ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:08:57 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:57 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:57 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:57 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:57 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:08:57 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:57 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:57 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:08:57 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:08:57 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-14 12:09:04 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 47]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 47 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 11:09:04.453386' WHERE "line_items"."id" = 80[0m
Redirected to http://localhost:3000/
Completed 302 Found in 67ms


Started GET "/" for 127.0.0.1 at 2011-10-14 12:09:04 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 47]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 47
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 47[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 47
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.1ms)
Rendered carts/_cart.html.erb (10.5ms)
Completed 200 OK in 85ms (Views: 68.2ms | ActiveRecord: 1.9ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:09:04 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:09:04 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:04 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:04 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:04 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:04 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:04 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:04 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:04 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:09:04 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-14 12:09:07 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 47]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 47 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-14 11:09:07.348685' WHERE "line_items"."id" = 80[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 47
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 47[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.1ms)
Rendered carts/_cart.html.erb (6.3ms)
Rendered line_items/create.js.erb (7.1ms)
Completed 200 OK in 75ms (Views: 11.7ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 12:09:13 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 47]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 47[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 47
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 47[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.2ms)
Rendered carts/_cart.html.erb (10.3ms)
Completed 200 OK in 85ms (Views: 67.7ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:09:13 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:09:13 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:13 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:13 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:13 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:13 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:13 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:13 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:13 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:09:13 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/47" for 127.0.0.1 at 2011-10-14 12:09:16 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"47"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 47]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 47
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 79]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 80]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 81]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 47]]
Redirected to http://localhost:3000/
Completed 302 Found in 18ms


Started GET "/" for 127.0.0.1 at 2011-10-14 12:09:16 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 11:09:16 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 11:09:16 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (13.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 48[0m
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 60ms (Views: 30.2ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:09:16 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:09:16 +0100
Served asset /scaffold.css - 404 Not Found (5ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:16 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:16 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:16 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:16 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:16 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:16 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:16 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:09:16 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 12:09:28 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 48]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 48 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 48], ["created_at", Fri, 14 Oct 2011 11:09:28 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 11:09:28 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 32ms


Started GET "/" for 127.0.0.1 at 2011-10-14 12:09:28 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 48]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 48
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 48[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 48
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.8ms)
Rendered carts/_cart.html.erb (9.2ms)
Completed 200 OK in 84ms (Views: 36.1ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:09:28 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:28 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:28 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:28 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:09:28 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:28 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:28 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:28 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:28 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:09:28 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/48" for 127.0.0.1 at 2011-10-14 12:09:33 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"48"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 48]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 48[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 82]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 48]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-14 12:09:33 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 14 Oct 2011 11:09:33 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 11:09:33 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 49
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 76ms (Views: 25.4ms | ActiveRecord: 1.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:33 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:33 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:09:33 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:33 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:09:33 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:33 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:33 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:33 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:33 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:09:33 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 12:09:38 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 49]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 49 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 49], ["created_at", Fri, 14 Oct 2011 11:09:38 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 11:09:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 49[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 49
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (5.2ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 74ms (Views: 10.6ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 12:09:44 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 49]]
Rendered store/index.html.erb within layouts/application (41.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 49
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 49[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 49
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.6ms)
Rendered carts/_cart.html.erb (8.6ms)
Completed 200 OK in 85ms (Views: 67.5ms | ActiveRecord: 1.4ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:44 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:44 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:09:44 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:09:44 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:44 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:44 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:44 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:44 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:44 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:09:44 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 12:09:46 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 49]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 49
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 49[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 49
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.6ms)
Rendered carts/_cart.html.erb (8.6ms)
Completed 200 OK in 86ms (Views: 35.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:09:47 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:47 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:47 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:47 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:47 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:47 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:47 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:09:47 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:47 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:09:47 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/49" for 127.0.0.1 at 2011-10-14 12:09:50 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"49"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 49]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 49[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 83]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 49]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-14 12:09:50 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 14 Oct 2011 11:09:50 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 11:09:50 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (42.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 50
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 77ms (Views: 57.2ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:09:50 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:50 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:50 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:50 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:09:50 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:50 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:50 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:50 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:09:50 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:09:50 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 12:10:10 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 50]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 50 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 50], ["created_at", Fri, 14 Oct 2011 11:10:10 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 11:10:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 50[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 50
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.6ms)
Rendered carts/_cart.html.erb (5.0ms)
Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 76ms (Views: 10.3ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 12:12:17 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 50]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 50
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 50[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 50
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.9ms)
Rendered carts/_cart.html.erb (8.9ms)
Completed 200 OK in 87ms (Views: 68.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:12:17 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:12:17 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:12:17 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:12:17 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:12:17 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:12:17 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:12:17 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:12:17 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:12:18 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:12:18 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-14 12:13:06 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 50]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 50 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 50], ["created_at", Fri, 14 Oct 2011 11:13:06 UTC +00:00], ["product_id", 7], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 11:13:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 50
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 50[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.3ms)
Rendered carts/_cart.html.erb (5.8ms)
Rendered line_items/create.js.erb (6.5ms)
Completed 200 OK in 77ms (Views: 11.1ms | ActiveRecord: 1.9ms)


Started POST "/line_items?product_id=8" for 127.0.0.1 at 2011-10-14 12:13:36 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"8"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 50]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "8"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 50 AND "line_items"."product_id" = 8 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 50], ["created_at", Fri, 14 Oct 2011 11:13:36 UTC +00:00], ["product_id", 8], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 11:13:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 50
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 50[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.0ms)
Rendered carts/_cart.html.erb (6.5ms)
Rendered line_items/create.js.erb (7.3ms)
Completed 200 OK in 75ms (Views: 11.8ms | ActiveRecord: 2.0ms)


Started DELETE "/carts/50" for 127.0.0.1 at 2011-10-14 12:14:16 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"50"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 50]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 50
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 84]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 85]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 86]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 50]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-14 12:14:16 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 11:14:16 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 11:14:16 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 51[0m
Rendered carts/_cart.html.erb (0.2ms)
Completed 200 OK in 79ms (Views: 26.1ms | ActiveRecord: 1.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:14:17 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:14:17 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:14:17 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:14:17 +0100
Served asset /scaffold.css - 404 Not Found (21ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:14:17 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:14:17 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:14:17 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:14:17 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:14:17 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:14:17 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 12:21:23 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 51]]
Rendered store/index.html.erb within layouts/application (10.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 51
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 44ms (Views: 27.5ms | ActiveRecord: 1.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:21:23 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:21:23 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:23 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:23 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:23 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:23 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:23 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:23 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:23 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:21:23 +0100
Served asset /logo.png - 304 Not Modified (32ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 12:21:24 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 51]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 51[0m
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 46ms (Views: 27.3ms | ActiveRecord: 1.2ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:21:24 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:24 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:24 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:21:24 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:24 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:24 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:24 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:24 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:24 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:21:24 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 12:21:25 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 51]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 51 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 51], ["created_at", Fri, 14 Oct 2011 11:21:25 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 11:21:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 51
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 51[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.4ms)
Rendered carts/_cart.html.erb (4.9ms)
Rendered line_items/create.js.erb (5.6ms)
Completed 200 OK in 51ms (Views: 11.2ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 12:21:26 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 51]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 51 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 11:21:26.321438' WHERE "line_items"."id" = 87
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 51[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 51
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.8ms)
Rendered line_items/create.js.erb (5.6ms)
Completed 200 OK in 42ms (Views: 10.7ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 12:21:26 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 51]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 51 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-14 11:21:26.583764' WHERE "line_items"."id" = 87[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 51
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 51[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.6ms)
Rendered line_items/create.js.erb (5.4ms)
Completed 200 OK in 44ms (Views: 10.7ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 12:21:26 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 51]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 51 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-14 11:21:26.709988' WHERE "line_items"."id" = 87
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 51[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 51
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.6ms)
Rendered carts/_cart.html.erb (4.7ms)
Rendered line_items/create.js.erb (5.4ms)
Completed 200 OK in 75ms (Views: 11.0ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 12:21:26 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 51]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 51 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-14 11:21:26.929558' WHERE "line_items"."id" = 87[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 51
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 51[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.6ms)
Rendered line_items/create.js.erb (5.3ms)
Completed 200 OK in 74ms (Views: 10.9ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 12:21:27 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 51]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 51 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 6, "updated_at" = '2011-10-14 11:21:27.153618' WHERE "line_items"."id" = 87
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 51[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 51
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.6ms)
Rendered carts/_cart.html.erb (4.8ms)
Rendered line_items/create.js.erb (5.5ms)
Completed 200 OK in 74ms (Views: 11.1ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 12:21:30 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 51]]
Rendered store/index.html.erb within layouts/application (10.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 51
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 51[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 51
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.4ms)
Rendered carts/_cart.html.erb (9.4ms)
Completed 200 OK in 88ms (Views: 70.4ms | ActiveRecord: 1.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:30 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:30 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:21:30 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:30 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:30 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:30 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:30 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:21:30 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:30 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:21:30 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/51" for 127.0.0.1 at 2011-10-14 12:21:33 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"51"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 51]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 51[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 87]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 51]]
Redirected to http://localhost:3000/
Completed 302 Found in 50ms


Started GET "/" for 127.0.0.1 at 2011-10-14 12:21:33 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 14 Oct 2011 11:21:33 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 11:21:33 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (11.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 52
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 26.0ms | ActiveRecord: 1.4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:33 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:33 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:33 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:21:33 +0100
Served asset /scaffold.css - 404 Not Found (35ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:33 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:33 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:21:33 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:33 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:21:33 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:21:33 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 12:22:03 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 52]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 52[0m
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 44ms (Views: 27.3ms | ActiveRecord: 1.1ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:22:03 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:22:03 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:22:03 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:22:03 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:22:03 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:22:03 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:22:03 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:22:03 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:22:03 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:22:03 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 12:22:04 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 52]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 52 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 52], ["created_at", Fri, 14 Oct 2011 11:22:04 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 11:22:04 UTC +00:00]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 52
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 52[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (5.0ms)
Rendered line_items/create.js.erb (5.8ms)
Completed 200 OK in 77ms (Views: 45.0ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 12:22:09 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 52]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 52[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 52
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 52[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (36.3ms)
Rendered carts/_cart.html.erb (39.2ms)
Completed 200 OK in 83ms (Views: 66.3ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:22:09 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:22:09 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:22:09 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:22:09 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:22:09 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:22:09 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:22:09 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:22:09 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:22:09 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:22:09 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/52" for 127.0.0.1 at 2011-10-14 12:22:13 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"52"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 52]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 52
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 88]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 52]]
Completed 500 Internal Server Error in 19ms

ActionView::MissingTemplate (Missing template carts/destroy, application/destroy with {:handlers=>[:erb, :builder, :coffee, :rjs], :formats=>[:html], :locale=>[:en, :en]}. Searched in:
  * "/Users/mark/work/depot/app/views"
):
  app/controllers/carts_controller.rb:84:in `destroy'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 12:22:29 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 52]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 11:22:29 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 11:22:29 UTC +00:00]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 53 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 53], ["created_at", Fri, 14 Oct 2011 11:22:29 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 11:22:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 53
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 53[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (5.2ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 88ms (Views: 10.7ms | ActiveRecord: 2.2ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 12:22:30 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 53]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 53 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 11:22:30.427322' WHERE "line_items"."id" = 89
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 53[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 53
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.1ms)
Completed 200 OK in 74ms (Views: 10.8ms | ActiveRecord: 1.7ms)


Started DELETE "/carts/53" for 127.0.0.1 at 2011-10-14 12:22:33 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"53"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 53]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 53[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 89]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 53]]
Completed 500 Internal Server Error in 50ms

ActionView::MissingTemplate (Missing template carts/destroy, application/destroy with {:handlers=>[:erb, :builder, :coffee, :rjs], :formats=>[:html], :locale=>[:en, :en]}. Searched in:
  * "/Users/mark/work/depot/app/views"
):
  app/controllers/carts_controller.rb:84:in `destroy'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.4ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 12:23:02 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 53]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 11:23:02 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 11:23:02 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 54[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 84ms (Views: 60.0ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:23:02 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:23:02 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:23:02 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:23:02 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:23:02 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:23:02 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:23:02 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:23:02 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:23:02 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:23:02 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 12:23:05 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 54]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 54 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 54], ["created_at", Fri, 14 Oct 2011 11:23:05 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 11:23:05 UTC +00:00]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 54
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 54[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.9ms)
Rendered carts/_cart.html.erb (6.5ms)
Rendered line_items/create.js.erb (7.5ms)
Completed 200 OK in 117ms (Views: 51.1ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 12:23:12 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 54]]
Rendered store/index.html.erb within layouts/application (11.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 54[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 54
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 54[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (38.8ms)
Rendered carts/_cart.html.erb (41.9ms)
Completed 200 OK in 94ms (Views: 70.2ms | ActiveRecord: 1.7ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:23:12 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:23:12 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:23:12 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:23:12 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:23:12 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:23:12 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:23:12 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:23:12 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:23:12 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:23:12 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 12:23:24 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 54]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 54 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 54], ["created_at", Fri, 14 Oct 2011 11:23:24 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 11:23:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 54[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 54
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.3ms)
Rendered carts/_cart.html.erb (6.1ms)
Rendered line_items/create.js.erb (6.8ms)
Completed 200 OK in 77ms (Views: 11.4ms | ActiveRecord: 2.0ms)


Started DELETE "/carts/54" for 127.0.0.1 at 2011-10-14 12:24:06 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"54"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 54]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 54
  [1m[36mSQL (8.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 90]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 91]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 54]]
Redirected to http://localhost:3000/
Completed 302 Found in 25ms


Started GET "/" for 127.0.0.1 at 2011-10-14 12:24:06 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 14 Oct 2011 11:24:06 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 11:24:06 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 55
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 181ms (Views: 127.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 12:24:07 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 12:24:07 +0100
Served asset /scaffold.css - 404 Not Found (5ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.1ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 12:24:07 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 12:24:07 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 12:24:07 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 12:24:07 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 12:24:07 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 12:24:07 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 12:24:07 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 12:24:07 +0100
Served asset /logo.png - 304 Not Modified (0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (2.2ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (6.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')


Started GET "/products" for 127.0.0.1 at 2011-10-14 12:27:41 +0100
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered products/index.html.erb within layouts/application (21.7ms)
Completed 500 Internal Server Error in 52ms

ActionView::Template::Error (undefined method `line_items' for nil:NilClass):
    20:     <div id="side"> 
    21:       <!-- this displays the partial so the cart is displayed in the sidebar -->
    22:       <div id="cart"
    23:         <% if @cart.line_items.empty? %>
    24:           style="display: none" 
    25:         <% end %>
    26:       > 
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2189906060'
  app/controllers/products_controller.rb:7:in `index'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (4.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (6.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (17.2ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (5.3ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (6.2ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (4.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')


Started GET "/products" for 127.0.0.1 at 2011-10-14 13:01:17 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (12.6ms)
Completed 200 OK in 56ms (Views: 54.2ms | ActiveRecord: 0.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 13:01:17 +0100
Served asset /depot.css - 304 Not Modified (5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 13:01:17 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 13:01:17 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 13:01:17 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 13:01:17 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 13:01:17 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 13:01:17 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 13:01:17 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 13:01:17 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 13:01:17 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 13:01:37 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 55]]
Rendered store/index.html.erb within layouts/application (10.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 55[0m
Completed 500 Internal Server Error in 209ms

ActionView::Template::Error (undefined method `hidden_div_if' for #<#<Class:0x00000105144eb0>:0x00000105132e90>):
    29: <!-- START_HIGHLIGHT -->
    30:           <% if @cart %>
    31:         <!-- END_HIGHLIGHT -->
    32:             <%= hidden_div_if(@cart.line_items.empty?, :id => "cart") do %>
    33:               <%= render @cart %>
    34:             <% end %>
    35:         <!-- START_HIGHLIGHT -->
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__1662796363947667388_2179301800'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (42.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (46.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 13:01:43 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 55]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 55
Completed 500 Internal Server Error in 169ms

ActionView::Template::Error (undefined method `hidden_div_if' for #<#<Class:0x00000102c59c68>:0x00000102c3bf88>):
    29: <!-- START_HIGHLIGHT -->
    30:           <% if @cart %>
    31:         <!-- END_HIGHLIGHT -->
    32:             <%= hidden_div_if(@cart.line_items.empty?, :id => "cart") do %>
    33:               <%= render @cart %>
    34:             <% end %>
    35:         <!-- START_HIGHLIGHT -->
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__1662796363947667388_2179301800'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 13:01:52 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 55]]
Rendered store/index.html.erb within layouts/application (44.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 55[0m
Completed 500 Internal Server Error in 174ms

ActionView::Template::Error (undefined method `hidden_div_if' for #<#<Class:0x000001028bd0a0>:0x000001028b7e70>):
    29: <!-- START_HIGHLIGHT -->
    30:           <% if @cart %>
    31:         <!-- END_HIGHLIGHT -->
    32:             <%= hidden_div_if(@cart.line_items.empty?, :id => "cart") do %>
    33:               <%= render @cart %>
    34:             <% end %>
    35:         <!-- START_HIGHLIGHT -->
  app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb__1662796363947667388_2179301800'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 14:40:48 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 55]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 55
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 76ms (Views: 60.1ms | ActiveRecord: 1.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:40:48 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:40:48 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:48 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:48 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:48 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:48 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:48 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:48 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:48 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:40:48 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 14:40:51 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 55]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 55 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 55], ["created_at", Fri, 14 Oct 2011 13:40:51 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 13:40:51 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 55[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 55
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.9ms)
Rendered carts/_cart.html.erb (5.7ms)
Rendered line_items/create.js.erb (6.5ms)
Completed 200 OK in 76ms (Views: 12.1ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 14:40:52 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 55]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 55 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 13:40:53.020393' WHERE "line_items"."id" = 92[0m
Redirected to http://localhost:3000/
Completed 302 Found in 31ms


Started GET "/" for 127.0.0.1 at 2011-10-14 14:40:53 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 55]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 55
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 55[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 55
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.6ms)
Rendered carts/_cart.html.erb (8.4ms)
Completed 200 OK in 52ms (Views: 34.7ms | ActiveRecord: 1.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:53 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:53 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:40:53 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:40:53 +0100
Served asset /scaffold.css - 404 Not Found (36ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:53 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:53 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:53 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:53 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:53 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:40:53 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/55" for 127.0.0.1 at 2011-10-14 14:40:57 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"55"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 55]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 55[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 92]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 55]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-14 14:40:57 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 14 Oct 2011 13:40:57 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 13:40:57 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 56
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 81ms (Views: 26.5ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:40:57 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:57 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:57 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:57 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:40:57 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:57 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:57 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:57 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:40:57 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:40:57 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 14:41:00 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 56]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 56 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 56], ["created_at", Fri, 14 Oct 2011 13:41:00 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 13:41:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 56[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 56
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (5.1ms)
Rendered line_items/create.js.erb (5.8ms)
Completed 200 OK in 74ms (Views: 10.5ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 14:41:01 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 56]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 56 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 13:41:01.106369' WHERE "line_items"."id" = 93[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 56
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 56[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.7ms)
Rendered line_items/create.js.erb (5.4ms)
Completed 200 OK in 72ms (Views: 10.2ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 14:41:01 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 56]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 56 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-14 13:41:01.357394' WHERE "line_items"."id" = 93
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 56[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 56
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (5.6ms)
Rendered line_items/create.js.erb (6.4ms)
Completed 200 OK in 71ms (Views: 11.2ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 14:41:01 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 56]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 56 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-14 13:41:01.561647' WHERE "line_items"."id" = 93[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 56
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 56[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.6ms)
Rendered line_items/create.js.erb (5.3ms)
Completed 200 OK in 42ms (Views: 10.1ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 14:41:02 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 56]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 56 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-14 13:41:02.232283' WHERE "line_items"."id" = 93
Redirected to http://localhost:3000/
Completed 302 Found in 31ms


Started GET "/" for 127.0.0.1 at 2011-10-14 14:41:02 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 56]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 56[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 56
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 56[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.6ms)
Rendered carts/_cart.html.erb (9.5ms)
Completed 200 OK in 85ms (Views: 36.8ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:41:02 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:41:02 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:41:02 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:41:02 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:41:02 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:41:02 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:41:02 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:41:02 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:41:02 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:41:02 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/56" for 127.0.0.1 at 2011-10-14 14:41:06 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"56"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 56]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 56
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 93]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 56]]
Redirected to http://localhost:3000/
Completed 302 Found in 17ms


Started GET "/" for 127.0.0.1 at 2011-10-14 14:41:06 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 13:41:06 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 13:41:06 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (43.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 57[0m
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 78ms (Views: 58.1ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:41:06 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:41:06 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:41:06 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:41:06 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:41:06 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:41:06 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:41:06 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:41:06 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:41:06 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:41:06 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/" for 127.0.0.1 at 2011-10-14 14:41:39 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (45.8ms)
Completed 500 Internal Server Error in 55ms

ActionView::Template::Error (undefined method `line_items' for nil:NilClass):
    20:     <div id="side"> 
    21:       <!-- this displays the partial so the cart is displayed in the sidebar -->
    22:       <div id="cart"
    23:         <% if @cart.line_items.empty? %>
    24:           style="display: none" 
    25:         <% end %>
    26:       > 
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2170212200'
  app/controllers/products_controller.rb:7:in `index'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (18.9ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.6ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (4.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (7.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')


Started GET "/products/" for 127.0.0.1 at 2011-10-14 14:47:29 +0100
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered products/index.html.erb within layouts/application (12.9ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (undefined method `line_items' for nil:NilClass):
    20:     <div id="side"> 
    21:       <!-- this displays the partial so the cart is displayed in the sidebar -->
    22:       <div id="cart"
    23:         <% if @cart.line_items.empty? %>
    24:           style="display: none" 
    25:         <% end %>
    26:       > 
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2170212200'
  app/controllers/products_controller.rb:7:in `index'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/products/" for 127.0.0.1 at 2011-10-14 14:51:04 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (12.7ms)
Completed 200 OK in 23ms (Views: 21.8ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:51:04 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:51:04 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:51:04 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:51:04 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:51:04 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:51:04 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:51:04 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:51:04 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:51:04 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:51:04 +0100
Served asset /logo.png - 304 Not Modified (0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (5.9ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')


Started GET "/" for 127.0.0.1 at 2011-10-14 14:53:31 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 57]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 57[0m
Completed 500 Internal Server Error in 199ms

ActionView::Template::Error (undefined method `hidden_div_if' for #<#<Class:0x00000103ca3b00>:0x00000103c7fd40>):
    19:   <div id="columns"> 
    20:     <div id="side"> 
    21:       <% if @cart %> 
    22:         <%= hidden_div_if(@cart.line_items.empty?, :id => "cart") do %>
    23:           <%= render @cart %> 
    24:         <% end %>
    25:       <% end %>
  app/views/layouts/application.html.erb:22:in `_app_views_layouts_application_html_erb__1662796363947667388_2172552580'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (4.0ms)


Started GET "/products" for 127.0.0.1 at 2011-10-14 14:54:53 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (12.8ms)
Completed 200 OK in 23ms (Views: 21.7ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:54:53 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:54:53 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:54:53 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:54:53 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:54:53 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:54:53 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:54:53 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:54:53 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:54:53 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:54:53 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 14:54:57 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 57]]
Rendered store/index.html.erb within layouts/application (10.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 57[0m
Completed 500 Internal Server Error in 188ms

ActionView::Template::Error (undefined method `hidden_div_if' for #<#<Class:0x00000102dfe8e8>:0x00000102de0190>):
    19:   <div id="columns"> 
    20:     <div id="side"> 
    21:       <% if @cart %> 
    22:         <%= hidden_div_if(@cart.line_items.empty?, :id => "cart") do %>
    23:           <%= render @cart %> 
    24:         <% end %>
    25:       <% end %>
  app/views/layouts/application.html.erb:22:in `_app_views_layouts_application_html_erb__1662796363947667388_2172552580'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 14:56:54 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 57]]
Rendered store/index.html.erb within layouts/application (40.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 57
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 75ms (Views: 58.1ms | ActiveRecord: 1.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:56:54 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:56:54 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:56:54 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:56:54 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:56:54 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:56:54 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:56:54 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:56:54 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:56:54 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:56:54 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 14:56:58 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 57]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 57 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 57], ["created_at", Fri, 14 Oct 2011 13:56:58 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 13:56:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 57[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 57
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (5.2ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 74ms (Views: 11.5ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 14:57:00 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 57]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 57 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 13:57:00.687956' WHERE "line_items"."id" = 94[0m
Redirected to http://localhost:3000/
Completed 302 Found in 63ms


Started GET "/" for 127.0.0.1 at 2011-10-14 14:57:00 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 57]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 57
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 57[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 57
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.6ms)
Rendered carts/_cart.html.erb (9.0ms)
Completed 200 OK in 52ms (Views: 35.5ms | ActiveRecord: 1.7ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:00 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:00 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:57:00 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:00 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:57:00 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:00 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:00 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:00 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:00 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:57:00 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 14:57:02 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 57]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 57 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-14 13:57:02.513217' WHERE "line_items"."id" = 94[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 57
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 57[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.4ms)
Rendered carts/_cart.html.erb (4.8ms)
Rendered line_items/create.js.erb (5.5ms)
Completed 200 OK in 41ms (Views: 10.1ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 14:57:03 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 57]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 57 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 57], ["created_at", Fri, 14 Oct 2011 13:57:03 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 13:57:03 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 57[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 57
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.5ms)
Rendered carts/_cart.html.erb (6.3ms)
Rendered line_items/create.js.erb (7.0ms)
Completed 200 OK in 45ms (Views: 11.6ms | ActiveRecord: 1.9ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-14 14:57:05 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 57]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 57 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 57], ["created_at", Fri, 14 Oct 2011 13:57:05 UTC +00:00], ["product_id", 7], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 13:57:05 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 57[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 57
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.4ms)
Rendered carts/_cart.html.erb (7.9ms)
Rendered line_items/create.js.erb (8.6ms)
Completed 200 OK in 47ms (Views: 13.1ms | ActiveRecord: 2.0ms)


Started DELETE "/carts/57" for 127.0.0.1 at 2011-10-14 14:57:09 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"57"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 57]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 57[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 94]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 95]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 96]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 57]]
Redirected to http://localhost:3000/
Completed 302 Found in 63ms


Started GET "/" for 127.0.0.1 at 2011-10-14 14:57:09 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 14 Oct 2011 13:57:09 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 13:57:09 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (11.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 58
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 48ms (Views: 26.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:57:09 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:09 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:09 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:57:09 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:09 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:09 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:09 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:09 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:09 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:57:09 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 14:57:10 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 58]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 58 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 58], ["created_at", Fri, 14 Oct 2011 13:57:10 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 13:57:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 58[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 58
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (5.0ms)
Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 42ms (Views: 10.4ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 14:57:11 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 58]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 58 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 13:57:11.266883' WHERE "line_items"."id" = 97[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 58
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 58[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.8ms)
Rendered line_items/create.js.erb (5.5ms)
Completed 200 OK in 42ms (Views: 10.1ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 14:57:11 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 58]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 58 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-14 13:57:11.522623' WHERE "line_items"."id" = 97
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 58[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 58
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.4ms)
Rendered carts/_cart.html.erb (4.4ms)
Rendered line_items/create.js.erb (5.1ms)
Completed 200 OK in 41ms (Views: 9.9ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 14:57:35 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 58]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 58 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-14 13:57:35.266961' WHERE "line_items"."id" = 97[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 58
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 58[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.9ms)
Rendered line_items/create.js.erb (5.6ms)
Completed 200 OK in 74ms (Views: 10.3ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 14:57:41 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 58]]
Rendered store/index.html.erb within layouts/application (41.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 58[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 58
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 58[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.7ms)
Rendered carts/_cart.html.erb (9.1ms)
Completed 200 OK in 83ms (Views: 66.9ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:57:41 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:41 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:41 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:57:41 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:41 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:41 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:41 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:41 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:57:41 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:57:41 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/58" for 127.0.0.1 at 2011-10-14 14:58:18 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"58"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 58]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 58
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 97]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 58]]
Redirected to http://localhost:3000/
Completed 302 Found in 53ms


Started GET "/" for 127.0.0.1 at 2011-10-14 14:58:18 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 13:58:18 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 13:58:18 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 59[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 48ms (Views: 26.2ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:58:18 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:58:18 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:58:18 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:58:18 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:58:18 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:58:18 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:58:18 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:58:18 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:58:18 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:58:18 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 14:58:20 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 59]]
Rendered store/index.html.erb within layouts/application (9.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 59
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 43ms (Views: 27.2ms | ActiveRecord: 1.1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:58:20 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:58:20 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:58:20 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:58:20 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:58:20 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:58:20 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:58:20 +0100
Served asset /scaffold.css - 404 Not Found (36ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:58:20 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:58:20 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:58:20 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 14:58:31 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 59]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 59 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 59], ["created_at", Fri, 14 Oct 2011 13:58:31 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 13:58:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 59[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 59
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.7ms)
Rendered carts/_cart.html.erb (5.2ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 43ms (Views: 10.3ms | ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 14:59:06 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 59]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 59
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 59[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 59
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.9ms)
Rendered carts/_cart.html.erb (8.9ms)
Completed 200 OK in 54ms (Views: 36.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:59:06 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:59:06 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:06 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:06 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:06 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:06 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:06 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:06 +0100
Served asset /store.js - 304 Not Modified (37ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:06 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:59:06 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 14:59:09 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 59]]
Rendered store/index.html.erb within layouts/application (11.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 59
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 59[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 59
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.0ms)
Rendered carts/_cart.html.erb (9.7ms)
Completed 200 OK in 58ms (Views: 37.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:59:09 +0100
Served asset /scaffold.css - 404 Not Found (39ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:59:09 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:09 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:09 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:09 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:09 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:09 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:09 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:09 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:59:09 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/59" for 127.0.0.1 at 2011-10-14 14:59:12 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"59"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 59]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 59[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 98]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 59]]
Redirected to http://localhost:3000/
Completed 302 Found in 21ms


Started GET "/" for 127.0.0.1 at 2011-10-14 14:59:12 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 14 Oct 2011 13:59:12 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 13:59:12 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (12.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 60
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 101ms (Views: 32.3ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:59:12 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:12 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:12 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:12 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:12 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:12 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:12 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:12 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:59:12 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:59:12 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 14:59:14 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 60]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 60[0m
Rendered carts/_cart.html.erb (0.1ms)
Completed 200 OK in 78ms (Views: 27.2ms | ActiveRecord: 1.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 14:59:14 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:14 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:14 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:14 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 14:59:14 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:14 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:14 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:14 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 14:59:14 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 14:59:14 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 14:59:24 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 60]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 60 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 60], ["created_at", Fri, 14 Oct 2011 13:59:24 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 13:59:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 60
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 60[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (5.0ms)
Rendered line_items/create.js.erb (5.8ms)
Completed 200 OK in 76ms (Views: 10.5ms | ActiveRecord: 1.7ms)


Started GET "/product" for 127.0.0.1 at 2011-10-14 14:59:39 +0100

ActionController::RoutingError (No route matches [GET] "/product"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/products" for 127.0.0.1 at 2011-10-14 14:59:46 +0100
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered products/index.html.erb within layouts/application (45.3ms)
Completed 500 Internal Server Error in 55ms

ActionView::Template::Error (undefined method `line_items' for nil:NilClass):
    20:     <div id="side"> 
    21:       <!-- this displays the partial so the cart is displayed in the sidebar -->
    22:       <div id="cart"
    23:         <% if @cart.line_items.empty? %>
    24:          
    25:         <% end %>
    26:       > 
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2172362740'
  app/controllers/products_controller.rb:7:in `index'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/products" for 127.0.0.1 at 2011-10-14 15:00:20 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (12.8ms)
Completed 500 Internal Server Error in 23ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    20:     <div id="side"> 
    21:       <!-- this displays the partial so the cart is displayed in the sidebar -->
    22:       <div id="cart"> 
    23:         <%= render @cart %>
    24:       </div>
    25:       <a href="http://localhost:3000">Home</a><br /> 
    26:       <a href="http://www..../faq">Questions</a><br /> 
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1662796363947667388_2169836320'
  app/controllers/products_controller.rb:7:in `index'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/products" for 127.0.0.1 at 2011-10-14 15:00:39 +0100
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered products/index.html.erb within layouts/application (13.1ms)
Completed 200 OK in 24ms (Views: 22.9ms | ActiveRecord: 0.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 15:00:39 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 15:00:39 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 15:00:39 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 15:00:39 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 15:00:39 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 15:00:39 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 15:00:39 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 15:00:39 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 15:00:39 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 15:00:39 +0100
Served asset /logo.png - 304 Not Modified (0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (10.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')


Started GET "/products" for 127.0.0.1 at 2011-10-14 15:07:49 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (12.9ms)
Completed 200 OK in 26ms (Views: 23.7ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 15:07:49 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 15:07:49 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:49 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:49 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:49 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:49 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:49 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:49 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:49 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 15:07:49 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 15:07:51 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 60]]
Rendered store/index.html.erb within layouts/application (43.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 60[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 60
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.6ms)
Rendered carts/_cart.html.erb (14.7ms)
Completed 200 OK in 86ms (Views: 68.9ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 15:07:51 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:51 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:51 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:51 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 15:07:51 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:51 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:51 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:51 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:51 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 15:07:51 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/60" for 127.0.0.1 at 2011-10-14 15:07:57 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"60"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 60]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 60[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 99]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 60]]
Redirected to http://localhost:3000/
Completed 302 Found in 49ms


Started GET "/" for 127.0.0.1 at 2011-10-14 15:07:57 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 14 Oct 2011 14:07:57 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 14:07:57 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 61
Rendered carts/_cart.html.erb (6.3ms)
Completed 200 OK in 46ms (Views: 26.1ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 15:07:57 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:57 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:57 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:57 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 15:07:57 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:57 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:57 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:57 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 15:07:57 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 15:07:57 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 15:07:58 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 61]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 61 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 61], ["created_at", Fri, 14 Oct 2011 14:07:58 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 14:07:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 61[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 61
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.6ms)
Rendered carts/_cart.html.erb (5.1ms)
Rendered line_items/create.js.erb (5.8ms)
Completed 200 OK in 44ms (Views: 11.8ms | ActiveRecord: 1.8ms)


Started DELETE "/carts/61" for 127.0.0.1 at 2011-10-14 15:08:04 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"61"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 61]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 61[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 100]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 61]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-14 15:08:04 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 14 Oct 2011 14:08:04 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 14:08:04 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (41.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 62
Rendered carts/_cart.html.erb (6.3ms)
Completed 200 OK in 77ms (Views: 56.4ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 15:08:04 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 15:08:04 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 15:08:04 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 15:08:04 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 15:08:04 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 15:08:04 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 15:08:04 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 15:08:04 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 15:08:04 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 15:08:04 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 15:23:49 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 62]]
Rendered store/index.html.erb within layouts/application (43.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 62[0m
Rendered carts/_cart.html.erb (6.0ms)
Completed 200 OK in 77ms (Views: 61.0ms | ActiveRecord: 1.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 15:23:49 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 15:23:49 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 15:23:49 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 15:23:49 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 15:23:49 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 15:23:49 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 15:23:49 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 15:23:49 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 15:23:49 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 15:23:49 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 15:23:51 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 62]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 62 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 62], ["created_at", Fri, 14 Oct 2011 14:23:51 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 14:23:51 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 62
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 62[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.6ms)
Rendered carts/_cart.html.erb (5.2ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 75ms (Views: 10.6ms | ActiveRecord: 1.7ms)


Started DELETE "/carts/62" for 127.0.0.1 at 2011-10-14 15:24:03 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"62"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 62]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 62
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 101]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 62]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-14 15:24:03 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 14:24:03 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 14:24:03 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 63[0m
Rendered carts/_cart.html.erb (6.0ms)
Completed 200 OK in 46ms (Views: 25.7ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 15:24:03 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 15:24:03 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 15:24:03 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 15:24:03 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 15:24:03 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 15:24:03 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 15:24:03 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 15:24:03 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 15:24:03 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 15:24:03 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 15:24:05 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 63]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 63 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 63], ["created_at", Fri, 14 Oct 2011 14:24:05 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 14:24:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 63
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 63[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (5.1ms)
Rendered line_items/create.js.erb (5.8ms)
Completed 200 OK in 43ms (Views: 10.5ms | ActiveRecord: 1.8ms)


Started DELETE "/carts/63" for 127.0.0.1 at 2011-10-14 15:24:08 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"63"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 63]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 63
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 102]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 63]]
Redirected to http://localhost:3000/
Completed 302 Found in 50ms


Started GET "/" for 127.0.0.1 at 2011-10-14 15:24:08 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 14:24:08 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 14:24:08 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 64[0m
Rendered carts/_cart.html.erb (40.8ms)
Completed 200 OK in 85ms (Views: 61.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 15:24:08 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 15:24:08 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 15:24:08 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 15:24:08 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 15:24:08 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 15:24:08 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 15:24:08 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 15:24:08 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 15:24:08 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 15:24:08 +0100
Served asset /logo.png - 304 Not Modified (0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.9ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (8.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (6.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (3.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (7.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (5.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 15:39:23 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 64]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 64 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 64], ["created_at", Fri, 14 Oct 2011 14:39:23 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 14:39:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 64
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 64[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.1ms)
Completed 200 OK in 75ms (Views: 11.1ms | ActiveRecord: 1.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (20.8ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (2.8ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (4.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.7ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (4.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (7.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (5.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 15:49:10 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 64]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 64 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 14:49:11.020201' WHERE "line_items"."id" = 103
Redirected to http://localhost:3000/
Completed 302 Found in 34ms


Started GET "/" for 127.0.0.1 at 2011-10-14 15:49:11 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 64]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 64[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 64
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.9ms)
Rendered carts/_cart.html.erb (14.2ms)
Completed 200 OK in 52ms (Views: 35.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 15:49:11 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 15:49:11 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:11 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:11 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:11 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:11 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:11 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:11 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:11 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 15:49:11 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 15:49:15 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 64]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 64 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-14 14:49:15.600056' WHERE "line_items"."id" = 103[0m
Redirected to http://localhost:3000/
Completed 302 Found in 33ms


Started GET "/" for 127.0.0.1 at 2011-10-14 15:49:15 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 64]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 64
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 64[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.7ms)
Rendered carts/_cart.html.erb (13.9ms)
Completed 200 OK in 84ms (Views: 34.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 15:49:15 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:15 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:15 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:15 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 15:49:15 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:15 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:15 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:15 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:15 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 15:49:15 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/64" for 127.0.0.1 at 2011-10-14 15:49:20 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"64"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 64]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 64
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 103]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 64]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-14 15:49:20 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 14:49:20 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 14:49:20 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (41.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 65[0m
Rendered carts/_cart.html.erb (6.3ms)
Completed 200 OK in 78ms (Views: 56.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:20 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 15:49:20 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:20 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:20 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:20 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 15:49:20 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:20 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:20 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:20 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 15:49:20 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 15:49:22 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 65]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 65 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 65], ["created_at", Fri, 14 Oct 2011 14:49:22 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 14:49:22 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 70ms


Started GET "/" for 127.0.0.1 at 2011-10-14 15:49:22 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 65]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 65
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 65[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.7ms)
Rendered carts/_cart.html.erb (47.3ms)
Completed 200 OK in 85ms (Views: 68.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:22 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:22 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 15:49:22 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:22 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:22 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:22 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:22 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 15:49:22 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:22 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 15:49:22 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/65" for 127.0.0.1 at 2011-10-14 15:49:28 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"65"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 65]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 65
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 104]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 65]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-14 15:49:28 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 14:49:28 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 14:49:28 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 66[0m
Rendered carts/_cart.html.erb (5.9ms)
Completed 200 OK in 79ms (Views: 26.2ms | ActiveRecord: 1.4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:28 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 15:49:28 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:28 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:28 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 15:49:28 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:28 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:28 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:28 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 15:49:28 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 15:49:28 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:13:12 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 66]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 66 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 66], ["created_at", Fri, 14 Oct 2011 15:13:12 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 15:13:12 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 32ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:13:12 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 66]]
Rendered store/index.html.erb within layouts/application (10.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 66
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 66[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.5ms)
Rendered carts/_cart.html.erb (13.9ms)
Completed 200 OK in 84ms (Views: 35.8ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:13:12 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:13:12 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:12 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:12 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:12 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:12 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:12 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:12 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:12 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:13:12 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:13:14 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 66]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 66 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 15:13:14.370667' WHERE "line_items"."id" = 105
Redirected to http://localhost:3000/
Completed 302 Found in 32ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:13:14 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 66]]
Rendered store/index.html.erb within layouts/application (12.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 66[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 66
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.6ms)
Rendered carts/_cart.html.erb (14.1ms)
Completed 200 OK in 87ms (Views: 37.7ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:13:14 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:14 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:14 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:13:14 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:14 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:14 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:14 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:14 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:14 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:13:14 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/66" for 127.0.0.1 at 2011-10-14 16:13:17 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"66"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 66]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 66[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 105]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 66]]
Redirected to http://localhost:3000/
Completed 302 Found in 59ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:13:17 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 14 Oct 2011 15:13:17 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 15:13:17 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67
Rendered carts/_cart.html.erb (40.6ms)
Completed 200 OK in 81ms (Views: 60.0ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:13:17 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:17 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:13:17 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:17 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:17 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:17 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:17 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:17 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:13:17 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:13:17 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:13:20 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 67]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 67], ["created_at", Fri, 14 Oct 2011 15:13:20 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 15:13:20 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.9ms)
Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 76ms (Views: 42.5ms | ActiveRecord: 2.0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:13:22 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 67]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 67], ["created_at", Fri, 14 Oct 2011 15:13:22 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 15:13:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.9ms)
Rendered carts/_cart.html.erb (6.3ms)
Rendered line_items/create.js.erb (7.1ms)
Completed 200 OK in 43ms (Views: 11.6ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 16:17:08 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 67]]
Rendered store/index.html.erb within layouts/application (10.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.3ms)
Rendered carts/_cart.html.erb (14.6ms)
Completed 200 OK in 53ms (Views: 36.8ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:17:08 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:08 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:08 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:08 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:17:08 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:08 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:08 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:08 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:08 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:17:08 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:17:10 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 67]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 15:17:11.032525' WHERE "line_items"."id" = 106[0m
Redirected to http://localhost:3000/
Completed 302 Found in 33ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:17:11 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 67]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.3ms)
Rendered carts/_cart.html.erb (14.7ms)
Completed 200 OK in 86ms (Views: 35.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:17:11 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:11 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:11 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:11 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:11 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:11 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:17:11 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:11 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:11 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:17:11 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-14 16:17:14 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 67]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 67], ["created_at", Fri, 14 Oct 2011 15:17:14 UTC +00:00], ["product_id", 7], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 15:17:14 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 32ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:17:14 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 67]]
Rendered store/index.html.erb within layouts/application (10.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.9ms)
Rendered carts/_cart.html.erb (16.1ms)
Completed 200 OK in 86ms (Views: 38.1ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:17:14 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:14 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:17:14 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:14 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:14 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:14 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:15 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:15 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:17:15 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:17:15 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:17:27 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 67]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-14 15:17:27.603502' WHERE "line_items"."id" = 106
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.9ms)
Rendered carts/_cart.html.erb (6.2ms)
Rendered line_items/create.js.erb (6.9ms)
Completed 200 OK in 42ms (Views: 11.4ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 16:18:11 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 67]]
Rendered store/index.html.erb within layouts/application (11.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.1ms)
Rendered carts/_cart.html.erb (15.9ms)
Completed 200 OK in 87ms (Views: 38.2ms | ActiveRecord: 1.8ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:18:12 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:18:12 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:18:12 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:18:12 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:18:12 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:18:12 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:18:12 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:18:12 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:18:12 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:18:12 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items?product_id=5" for 127.0.0.1 at 2011-10-14 16:18:14 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"5"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" [0m
Rendered line_items/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.3ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:18:40 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 67]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-14 15:18:40.843438' WHERE "line_items"."id" = 106[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.1ms)
Rendered carts/_cart.html.erb (6.4ms)
Rendered line_items/create.js.erb (7.1ms)
Completed 200 OK in 76ms (Views: 11.7ms | ActiveRecord: 1.9ms)


Started GET "/line_items?product_id=5" for 127.0.0.1 at 2011-10-14 16:18:53 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"5"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" [0m
Rendered line_items/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.3ms)


Started GET "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:18:57 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"6"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" 
Rendered line_items/index.html.erb within layouts/application (41.2ms)
Completed 200 OK in 51ms (Views: 49.6ms | ActiveRecord: 0.3ms)


Started GET "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:19:00 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"6"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" [0m
Rendered line_items/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.3ms)


Started GET "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:19:00 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"6"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" 
Rendered line_items/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 51ms (Views: 49.4ms | ActiveRecord: 0.3ms)


Started GET "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:19:00 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"6"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" [0m
Rendered line_items/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 18ms (Views: 16.9ms | ActiveRecord: 0.3ms)


Started GET "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:19:01 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"6"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" 
Rendered line_items/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 18ms (Views: 17.2ms | ActiveRecord: 0.3ms)


Started GET "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:19:01 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"6"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" [0m
Rendered line_items/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 18ms (Views: 17.2ms | ActiveRecord: 0.3ms)


Started GET "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:19:02 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"6"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" 
Rendered line_items/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.3ms)


Started GET "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:19:03 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"6"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" [0m
Rendered line_items/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 18ms (Views: 17.1ms | ActiveRecord: 0.3ms)


Started GET "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:19:03 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"6"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" 
Rendered line_items/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.3ms)


Started GET "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:19:03 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"6"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" [0m
Rendered line_items/index.html.erb within layouts/application (8.4ms)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 16:19:05 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 67]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.0ms)
Rendered carts/_cart.html.erb (48.2ms)
Completed 200 OK in 87ms (Views: 68.7ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:19:05 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:19:05 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:19:05 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:19:05 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:19:05 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:19:05 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:19:05 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:19:05 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:19:05 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:19:05 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:19:07 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"6"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" [0m
Rendered line_items/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 18ms (Views: 17.1ms | ActiveRecord: 0.3ms)


Started GET "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:19:08 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"6"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" 
Rendered line_items/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 20ms (Views: 18.7ms | ActiveRecord: 0.3ms)


Started GET "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:19:09 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"6"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" [0m
Rendered line_items/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 18ms (Views: 17.2ms | ActiveRecord: 0.3ms)


Started GET "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:19:09 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"6"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" 
Rendered line_items/index.html.erb within layouts/application (8.4ms)
Completed 200 OK in 51ms (Views: 17.1ms | ActiveRecord: 0.4ms)


Started GET "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:19:09 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"6"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" [0m
Rendered line_items/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 16:20:17 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 67]]
Rendered store/index.html.erb within layouts/application (6.5ms)
Completed 500 Internal Server Error in 60ms

ActionView::Template::Error (undefined method `stringify_keys' for "/line_items?product_id=9":String):
    8: <% @products.each do |product| %>
    9:   <div class="entry"> 
    10:     <!-- MA the line below adds a link to the book image i.e. link_to method outputs href tag,  CSS class and title, link to cart add adds book with method post -->
    11:     <%= link_to 'add to cart', image_tag(product.image_url, {:class => "image_link", :title => "add to cart"}), line_items_path(:product_id => product), :remote => true %>
    12:     <h3><%= product.title %></h3> 
    13:     <%= sanitize(product.description) %>
    14:     <div class="price_line"> 
  app/views/store/index.html.erb:11:in `block in _app_views_store_index_html_erb__2086772321370754866_2189863900'
  app/views/store/index.html.erb:8:in `each'
  app/views/store/index.html.erb:8:in `_app_views_store_index_html_erb__2086772321370754866_2189863900'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 16:22:53 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 67]]
Rendered store/index.html.erb within layouts/application (42.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.3ms)
Rendered carts/_cart.html.erb (16.2ms)
Completed 200 OK in 85ms (Views: 69.4ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:22:53 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:22:53 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:53 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:53 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:53 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:53 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:53 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:53 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:53 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:22:53 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:22:55 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 67]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-14 15:22:55.657688' WHERE "line_items"."id" = 106
Redirected to http://localhost:3000/
Completed 302 Found in 67ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:22:55 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 67]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.1ms)
Rendered carts/_cart.html.erb (16.2ms)
Completed 200 OK in 86ms (Views: 68.8ms | ActiveRecord: 1.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:22:55 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:55 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:22:55 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:55 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:55 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:55 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:55 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:55 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:55 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:22:55 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:22:56 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 67]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 6, "updated_at" = '2011-10-14 15:22:56.864333' WHERE "line_items"."id" = 106[0m
Redirected to http://localhost:3000/
Completed 302 Found in 66ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:22:56 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 67]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.1ms)
Rendered carts/_cart.html.erb (49.5ms)
Completed 200 OK in 87ms (Views: 70.2ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:22:56 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:57 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:57 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:22:57 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:57 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:57 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:57 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:57 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:22:57 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:22:57 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-14 16:23:04 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 67]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "5"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67 AND "line_items"."product_id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 67], ["created_at", Fri, 14 Oct 2011 15:23:04 UTC +00:00], ["product_id", 5], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 15:23:04 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 67ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:23:04 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 67]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (41.3ms)
Rendered carts/_cart.html.erb (49.7ms)
Completed 200 OK in 88ms (Views: 70.3ms | ActiveRecord: 1.8ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:04 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:04 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:23:04 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:04 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:23:04 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:04 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:04 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:04 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:04 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:23:04 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 16:23:56 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 67]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.8ms)
Rendered carts/_cart.html.erb (51.2ms)
Completed 200 OK in 90ms (Views: 72.0ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:23:56 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:23:56 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:56 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:56 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:56 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:56 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:56 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:56 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:56 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:23:56 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:23:59 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 67]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 7, "updated_at" = '2011-10-14 15:23:59.228059' WHERE "line_items"."id" = 106
Redirected to http://localhost:3000/
Completed 302 Found in 68ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:23:59 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 67]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.7ms)
Rendered carts/_cart.html.erb (49.0ms)
Completed 200 OK in 87ms (Views: 69.3ms | ActiveRecord: 1.9ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:23:59 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:59 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:59 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:59 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:23:59 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:59 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:59 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:59 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:23:59 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:23:59 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:24:00 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 67]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 8, "updated_at" = '2011-10-14 15:24:00.892138' WHERE "line_items"."id" = 106
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 67[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.9ms)
Rendered carts/_cart.html.erb (7.2ms)
Rendered line_items/create.js.erb (7.9ms)
Completed 200 OK in 77ms (Views: 12.4ms | ActiveRecord: 1.9ms)


Started DELETE "/carts/67" for 127.0.0.1 at 2011-10-14 16:24:27 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"67"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 67]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 67
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 106]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 107]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 108]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 109]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 67]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:24:27 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 14 Oct 2011 15:24:27 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 15:24:27 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 68
Rendered carts/_cart.html.erb (6.7ms)
Completed 200 OK in 80ms (Views: 26.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:24:27 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:24:27 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:24:27 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:24:27 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:24:27 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:24:27 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:24:27 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:24:27 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:24:27 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:24:28 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:24:32 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 68]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 68 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 68], ["created_at", Fri, 14 Oct 2011 15:24:32 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 15:24:32 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 68ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:24:32 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 68]]
Rendered store/index.html.erb within layouts/application (42.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 68[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 68
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.0ms)
Rendered carts/_cart.html.erb (15.5ms)
Completed 200 OK in 86ms (Views: 69.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:24:32 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:24:32 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:24:32 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:24:32 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:24:32 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:24:32 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:24:32 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:24:32 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:24:32 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:24:32 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:24:44 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 68]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 68 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 15:24:44.104768' WHERE "line_items"."id" = 110[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 68
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 68[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.7ms)
Rendered carts/_cart.html.erb (4.8ms)
Rendered line_items/create.js.erb (5.5ms)
Completed 200 OK in 75ms (Views: 10.3ms | ActiveRecord: 1.6ms)


Started DELETE "/carts/68" for 127.0.0.1 at 2011-10-14 16:25:00 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"68"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 68]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 68
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 110]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 68]]
Redirected to http://localhost:3000/
Completed 302 Found in 17ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:25:00 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 15:25:00 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 15:25:00 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (11.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 69[0m
Rendered carts/_cart.html.erb (6.0ms)
Completed 200 OK in 81ms (Views: 26.1ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:25:00 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:25:00 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:25:00 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:25:00 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:25:00 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:25:00 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:25:00 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:25:00 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:25:00 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:25:00 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:25:04 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 69]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 69], ["created_at", Fri, 14 Oct 2011 15:25:04 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 15:25:04 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 32ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:25:04 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 69]]
Rendered store/index.html.erb within layouts/application (11.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 69
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.9ms)
Rendered carts/_cart.html.erb (14.3ms)
Completed 200 OK in 85ms (Views: 37.0ms | ActiveRecord: 1.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:25:04 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:25:04 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:25:04 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:25:04 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:25:04 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:25:04 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:25:04 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:25:04 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:25:04 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:25:04 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:29:41 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 69]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 15:29:41.653168' WHERE "line_items"."id" = 111
Redirected to http://localhost:3000/
Completed 302 Found in 32ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:29:41 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 69]]
Rendered store/index.html.erb within layouts/application (10.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 69[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.7ms)
Rendered carts/_cart.html.erb (15.0ms)
Completed 200 OK in 85ms (Views: 36.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:29:41 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:29:41 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:29:41 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:29:41 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:29:41 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:29:41 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:29:41 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:29:41 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:29:41 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:29:41 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:30:36 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 69]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-14 15:30:36.181816' WHERE "line_items"."id" = 111[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 69
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.9ms)
Rendered line_items/create.js.erb (5.6ms)
Completed 200 OK in 74ms (Views: 10.4ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:31:07 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 69]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-14 15:31:07.928988' WHERE "line_items"."id" = 111
Redirected to http://localhost:3000/
Completed 302 Found in 65ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:31:07 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 69]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 69[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.8ms)
Rendered carts/_cart.html.erb (15.4ms)
Completed 200 OK in 84ms (Views: 67.0ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:31:08 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:31:08 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:31:08 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:31:08 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:31:08 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:31:08 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:31:08 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:31:08 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:31:08 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:31:08 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:33:43 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 69]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 69], ["created_at", Fri, 14 Oct 2011 15:33:43 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 15:33:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 69
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.4ms)
Rendered carts/_cart.html.erb (6.1ms)
Rendered line_items/create.js.erb (6.9ms)
Completed 200 OK in 77ms (Views: 11.5ms | ActiveRecord: 1.9ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-14 16:33:46 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 69]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 69], ["created_at", Fri, 14 Oct 2011 15:33:46 UTC +00:00], ["product_id", 7], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 15:33:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 69
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.4ms)
Rendered carts/_cart.html.erb (6.9ms)
Rendered line_items/create.js.erb (7.6ms)
Completed 200 OK in 75ms (Views: 12.0ms | ActiveRecord: 2.0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:41:34 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 69]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 15:41:34.114597' WHERE "line_items"."id" = 112
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 69[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.7ms)
Rendered carts/_cart.html.erb (6.9ms)
Rendered line_items/create.js.erb (7.7ms)
Completed 200 OK in 44ms (Views: 12.1ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:41:37 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 69]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-14 15:41:37.083956' WHERE "line_items"."id" = 112[0m
Redirected to http://localhost:3000/
Completed 302 Found in 31ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:41:37 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 69]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 69
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.1ms)
Rendered carts/_cart.html.erb (16.1ms)
Completed 200 OK in 87ms (Views: 38.2ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:41:37 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:41:37 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:41:37 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:41:37 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:41:37 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:41:37 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:41:37 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:41:37 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:41:37 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:41:37 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=8" for 127.0.0.1 at 2011-10-14 16:41:44 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "product_id"=>"8"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 69]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "8"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69 AND "line_items"."product_id" = 8 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 69], ["created_at", Fri, 14 Oct 2011 15:41:44 UTC +00:00], ["product_id", 8], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 15:41:44 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 32ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:41:44 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 69]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 69[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.6ms)
Rendered carts/_cart.html.erb (16.3ms)
Completed 200 OK in 87ms (Views: 37.8ms | ActiveRecord: 1.9ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:41:44 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:41:44 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:41:44 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:41:44 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:41:44 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:41:44 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:41:44 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:41:44 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:41:44 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:41:44 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 16:43:36 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 69]]
Rendered store/index.html.erb within layouts/application (11.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 69[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.9ms)
Rendered carts/_cart.html.erb (17.1ms)
Completed 200 OK in 91ms (Views: 38.9ms | ActiveRecord: 1.8ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:43:36 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:43:36 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:43:36 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:43:36 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:43:36 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:43:36 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:43:36 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:43:36 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:43:36 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:43:36 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:43:38 +0100
  Processing by LineItemsController#index as JS
  Parameters: {"product_id"=>"6"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" [0m
Rendered line_items/index.html.erb within layouts/application (9.8ms)
Completed 200 OK in 20ms (Views: 18.4ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2011-10-14 16:44:18 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 69]]
Rendered store/index.html.erb within layouts/application (45.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 69
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.8ms)
Rendered carts/_cart.html.erb (17.5ms)
Completed 200 OK in 92ms (Views: 73.3ms | ActiveRecord: 1.8ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:44:18 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:44:18 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:44:18 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:44:18 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:44:18 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:44:18 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:44:18 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:44:18 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:44:18 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:44:18 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-14 16:44:19 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 69]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-14 15:44:20.009274' WHERE "line_items"."id" = 111[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 69
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.8ms)
Rendered carts/_cart.html.erb (7.1ms)
Rendered line_items/create.js.erb (7.8ms)
Completed 200 OK in 81ms (Views: 12.8ms | ActiveRecord: 2.4ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-14 16:44:22 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 69]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-14 15:44:22.849686' WHERE "line_items"."id" = 113[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 69
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (4.7ms)
Rendered carts/_cart.html.erb (8.0ms)
Rendered line_items/create.js.erb (8.8ms)
Completed 200 OK in 79ms (Views: 13.3ms | ActiveRecord: 2.0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-14 16:46:10 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 69]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-14 15:46:11.056350' WHERE "line_items"."id" = 112[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 69
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 8 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.6ms)
Rendered carts/_cart.html.erb (7.1ms)
Rendered line_items/create.js.erb (7.9ms)
Completed 200 OK in 75ms (Views: 12.5ms | ActiveRecord: 1.8ms)


Started DELETE "/carts/69" for 127.0.0.1 at 2011-10-14 16:46:53 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZwK0/eaA3feVwb+UQ6CT4WZUhkU+Ht50CBhS+fJZ/IE=", "id"=>"69"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 69]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 69[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 111]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 112]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 113]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 114]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 69]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-14 16:46:53 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 14 Oct 2011 15:46:53 UTC +00:00], ["updated_at", Fri, 14 Oct 2011 15:46:53 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (11.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 70[0m
Rendered carts/_cart.html.erb (6.2ms)
Completed 200 OK in 82ms (Views: 26.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-14 16:46:53 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-14 16:46:53 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-14 16:46:53 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-14 16:46:53 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-14 16:46:53 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-14 16:46:53 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-14 16:46:53 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-14 16:46:53 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-14 16:46:53 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-14 16:46:53 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-14 16:46:57 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"5"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 70]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "5"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 70 AND "line_items"."product_id" = 5 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 70], ["created_at", Fri, 14 Oct 2011 15:46:57 UTC +00:00], ["product_id", 5], ["quantity", 1], ["updated_at", Fri, 14 Oct 2011 15:46:57 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 70
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 70[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.8ms)
Rendered carts/_cart.html.erb (6.4ms)
Rendered line_items/create.js.erb (7.1ms)
Completed 200 OK in 77ms (Views: 11.6ms | ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 10:29:56 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (55.3ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Mon, 17 Oct 2011 09:29:57 UTC +00:00], ["updated_at", Mon, 17 Oct 2011 09:29:57 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (96.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 71[0m
Rendered carts/_cart.html.erb (79.9ms)
Completed 200 OK in 492ms (Views: 346.9ms | ActiveRecord: 56.8ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 10:29:57 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 10:29:57 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 10:29:57 +0100
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 10:29:57 +0100
Served asset /jquery_ujs.js - 304 Not Modified (3ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 10:29:57 +0100
Served asset /carts.js - 304 Not Modified (1ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 10:29:57 +0100
Served asset /line_items.js - 304 Not Modified (1ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 10:29:57 +0100
Served asset /products.js - 304 Not Modified (1ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 10:29:57 +0100
Served asset /store.js - 304 Not Modified (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 10:29:57 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 10:29:57 +0100
Served asset /logo.png - 304 Not Modified (13ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-17 10:32:52 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 71]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 71 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 71], ["created_at", Mon, 17 Oct 2011 09:32:52 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Mon, 17 Oct 2011 09:32:52 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 71
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 71[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (14.2ms)
Rendered carts/_cart.html.erb (18.5ms)
Rendered line_items/create.js.erb (19.7ms)
Completed 200 OK in 177ms (Views: 103.4ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-17 10:33:06 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 71]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "5"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 71 AND "line_items"."product_id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 71], ["created_at", Mon, 17 Oct 2011 09:33:06 UTC +00:00], ["product_id", 5], ["quantity", 1], ["updated_at", Mon, 17 Oct 2011 09:33:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 71[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 71
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.5ms)
Rendered carts/_cart.html.erb (5.9ms)
Rendered line_items/create.js.erb (6.6ms)
Completed 200 OK in 43ms (Views: 11.2ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 10:36:10 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 71]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 71[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 71
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (11.6ms)
Rendered carts/_cart.html.erb (26.9ms)
Completed 200 OK in 96ms (Views: 51.3ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 10:36:10 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 10:36:10 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:10 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:10 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:10 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:10 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:10 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:10 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:11 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 10:36:11 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-17 10:36:14 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 71]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 71 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-17 09:36:14.769492' WHERE "line_items"."id" = 119
Redirected to http://localhost:3000/
Completed 302 Found in 31ms


Started GET "/" for 127.0.0.1 at 2011-10-17 10:36:14 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 71]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 71[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 71
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.3ms)
Rendered carts/_cart.html.erb (14.6ms)
Completed 200 OK in 52ms (Views: 35.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 10:36:14 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:14 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:14 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:14 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 10:36:14 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:14 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:14 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:14 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:14 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 10:36:14 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-17 10:36:34 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 71]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "5"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 71 AND "line_items"."product_id" = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-17 09:36:34.781493' WHERE "line_items"."id" = 120
Redirected to http://localhost:3000/
Completed 302 Found in 30ms


Started GET "/" for 127.0.0.1 at 2011-10-17 10:36:34 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 71]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 71[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 71
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.3ms)
Rendered carts/_cart.html.erb (14.8ms)
Completed 200 OK in 52ms (Views: 35.8ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 10:36:34 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:34 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:34 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:34 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 10:36:34 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:34 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:34 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:34 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:34 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 10:36:34 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-17 10:36:37 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 71]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 71 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 71], ["created_at", Mon, 17 Oct 2011 09:36:37 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Mon, 17 Oct 2011 09:36:37 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 32ms


Started GET "/" for 127.0.0.1 at 2011-10-17 10:36:37 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 71]]
Rendered store/index.html.erb within layouts/application (9.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 71[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 71
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.9ms)
Rendered carts/_cart.html.erb (15.4ms)
Completed 200 OK in 52ms (Views: 35.6ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 10:36:37 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:37 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:37 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:37 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 10:36:37 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:37 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:37 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:37 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:37 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 10:36:37 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-17 10:36:38 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 71]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 71 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-17 09:36:38.445193' WHERE "line_items"."id" = 121[0m
Redirected to http://localhost:3000/
Completed 302 Found in 31ms


Started GET "/" for 127.0.0.1 at 2011-10-17 10:36:38 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 71]]
Rendered store/index.html.erb within layouts/application (9.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 71
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 71[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.7ms)
Rendered carts/_cart.html.erb (15.2ms)
Completed 200 OK in 81ms (Views: 35.3ms | ActiveRecord: 1.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:38 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 10:36:38 +0100
Served asset /scaffold.css - 404 Not Found (4ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:38 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 10:36:38 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 10:36:38 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:38 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:38 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:38 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:38 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:38 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started DELETE "/carts/71" for 127.0.0.1 at 2011-10-17 10:36:40 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "id"=>"71"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 71]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 71
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 119]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 120]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 121]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 71]]
Redirected to http://localhost:3000/
Completed 302 Found in 15ms


Started GET "/" for 127.0.0.1 at 2011-10-17 10:36:40 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Mon, 17 Oct 2011 09:36:40 UTC +00:00], ["updated_at", Mon, 17 Oct 2011 09:36:40 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 72[0m
Rendered carts/_cart.html.erb (5.7ms)
Completed 200 OK in 73ms (Views: 24.7ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 10:36:40 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:40 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:40 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:40 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:40 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 10:36:40 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:40 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:40 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 10:36:40 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 10:36:40 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-17 10:37:08 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 72]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 72 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 72], ["created_at", Mon, 17 Oct 2011 09:37:08 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Mon, 17 Oct 2011 09:37:08 UTC +00:00]]
Redirected to http://localhost:3000/
Completed 302 Found in 60ms


Started GET "/" for 127.0.0.1 at 2011-10-17 10:37:08 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 72]]
Rendered store/index.html.erb within layouts/application (38.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 72
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 72[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.4ms)
Rendered carts/_cart.html.erb (13.4ms)
Completed 200 OK in 78ms (Views: 62.7ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 10:37:08 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:08 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:08 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 10:37:08 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:08 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:08 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:08 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:08 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:08 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 10:37:08 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-17 10:37:10 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 72]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 72 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-17 09:37:10.913789' WHERE "line_items"."id" = 122
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 72[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 72
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.4ms)
Rendered carts/_cart.html.erb (4.5ms)
Rendered line_items/create.js.erb (5.2ms)
Completed 200 OK in 68ms (Views: 9.8ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 10:37:18 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 72]]
Rendered store/index.html.erb within layouts/application (10.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 72
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 72[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.6ms)
Rendered carts/_cart.html.erb (17.6ms)
Completed 200 OK in 95ms (Views: 74.0ms | ActiveRecord: 1.8ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:18 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:18 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:18 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:18 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:18 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 10:37:18 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 10:37:18 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:18 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:18 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 10:37:18 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 10:37:19 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 72]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 72[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 72
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.3ms)
Rendered carts/_cart.html.erb (13.4ms)
Completed 200 OK in 80ms (Views: 34.0ms | ActiveRecord: 1.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:19 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:19 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:19 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:19 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 10:37:19 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:19 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:19 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 10:37:19 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:19 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 10:37:19 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-17 10:37:21 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 72]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 72 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-17 09:37:21.291272' WHERE "line_items"."id" = 122[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 72
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 72[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (4.9ms)
Rendered line_items/create.js.erb (5.6ms)
Completed 200 OK in 40ms (Views: 10.3ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-17 10:37:22 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 72]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 72 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 72], ["created_at", Mon, 17 Oct 2011 09:37:22 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Mon, 17 Oct 2011 09:37:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 72[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 72
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.3ms)
Rendered carts/_cart.html.erb (5.7ms)
Rendered line_items/create.js.erb (6.4ms)
Completed 200 OK in 44ms (Views: 10.9ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 10:37:24 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 72]]
Rendered store/index.html.erb within layouts/application (9.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 72[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 72
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.2ms)
Rendered carts/_cart.html.erb (14.3ms)
Completed 200 OK in 78ms (Views: 34.7ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 10:37:24 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:24 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 10:37:24 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:24 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:24 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:24 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:24 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:24 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:24 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 10:37:24 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/72" for 127.0.0.1 at 2011-10-17 10:37:34 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "id"=>"72"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 72]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 72
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 122]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 123]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 72]]
Redirected to http://localhost:3000/
Completed 302 Found in 15ms


Started GET "/" for 127.0.0.1 at 2011-10-17 10:37:34 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Mon, 17 Oct 2011 09:37:34 UTC +00:00], ["updated_at", Mon, 17 Oct 2011 09:37:34 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (38.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 73
Rendered carts/_cart.html.erb (6.1ms)
Completed 200 OK in 73ms (Views: 53.3ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 10:37:34 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:34 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:34 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:34 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 10:37:34 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:34 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:34 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:34 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 10:37:34 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 10:37:34 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 10:59:10 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 73]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 73[0m
Rendered carts/_cart.html.erb (6.2ms)
Completed 200 OK in 76ms (Views: 27.5ms | ActiveRecord: 1.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 10:59:10 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 10:59:10 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 10:59:10 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 10:59:10 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 10:59:10 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 10:59:10 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 10:59:10 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 10:59:10 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 10:59:10 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 10:59:10 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-17 10:59:13 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 73]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 73], ["created_at", Mon, 17 Oct 2011 09:59:13 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Mon, 17 Oct 2011 09:59:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 73
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (67.9ms)
Rendered line_items/create.js.erb (68.6ms)
Completed 500 Internal Server Error in 136ms

ActionView::Template::Error (undefined local variable or method `product' for #<#<Class:0x00000103cb9e28>:0x00000103ca8ec0>):
    11:     <td colspan="2">Total</td> 
    12:     <td class="total_cell"><%= number_to_currency(cart.total_price) %></td>
    13:     <!-- MA added a remove button to remove item from cart -->
    14:     <td class="remove"><%= button_to 'remove', line_items_path(:product_id => product), :method => :delete %></td>
    15:   </tr> 
    16: </table>
    17: 
  app/views/carts/_cart.html.erb:14:in `_app_views_carts__cart_html_erb__1409247226816187907_2179186660'
  app/views/line_items/create.js.erb:2:in `_app_views_line_items_create_js_erb___2153431860541652558_2167877920'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-17 10:59:14 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 73]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-17 09:59:15.007462' WHERE "line_items"."id" = 124
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 73[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.8ms)
Rendered carts/_cart.html.erb (63.6ms)
Rendered line_items/create.js.erb (64.3ms)
Completed 500 Internal Server Error in 127ms

ActionView::Template::Error (undefined local variable or method `product' for #<#<Class:0x00000103e6b960>:0x00000103e67900>):
    11:     <td colspan="2">Total</td> 
    12:     <td class="total_cell"><%= number_to_currency(cart.total_price) %></td>
    13:     <!-- MA added a remove button to remove item from cart -->
    14:     <td class="remove"><%= button_to 'remove', line_items_path(:product_id => product), :method => :delete %></td>
    15:   </tr> 
    16: </table>
    17: 
  app/views/carts/_cart.html.erb:14:in `_app_views_carts__cart_html_erb__1409247226816187907_2179186660'
  app/views/line_items/create.js.erb:2:in `_app_views_line_items_create_js_erb___2153431860541652558_2167877920'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-17 10:59:17 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 73]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-17 09:59:17.092783' WHERE "line_items"."id" = 124[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 73
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.4ms)
Rendered carts/_cart.html.erb (36.3ms)
Rendered line_items/create.js.erb (37.0ms)
Completed 500 Internal Server Error in 101ms

ActionView::Template::Error (undefined local variable or method `product' for #<#<Class:0x000001012c43c0>:0x00000102375db8>):
    11:     <td colspan="2">Total</td> 
    12:     <td class="total_cell"><%= number_to_currency(cart.total_price) %></td>
    13:     <!-- MA added a remove button to remove item from cart -->
    14:     <td class="remove"><%= button_to 'remove', line_items_path(:product_id => product), :method => :delete %></td>
    15:   </tr> 
    16: </table>
    17: 
  app/views/carts/_cart.html.erb:14:in `_app_views_carts__cart_html_erb__1409247226816187907_2179186660'
  app/views/line_items/create.js.erb:2:in `_app_views_line_items_create_js_erb___2153431860541652558_2167877920'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-17 10:59:18 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 73]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-17 09:59:18.382882' WHERE "line_items"."id" = 124
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 73[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.5ms)
Rendered carts/_cart.html.erb (68.0ms)
Rendered line_items/create.js.erb (68.7ms)
Completed 500 Internal Server Error in 103ms

ActionView::Template::Error (undefined local variable or method `product' for #<#<Class:0x000001038a5a08>:0x00000103871f00>):
    11:     <td colspan="2">Total</td> 
    12:     <td class="total_cell"><%= number_to_currency(cart.total_price) %></td>
    13:     <!-- MA added a remove button to remove item from cart -->
    14:     <td class="remove"><%= button_to 'remove', line_items_path(:product_id => product), :method => :delete %></td>
    15:   </tr> 
    16: </table>
    17: 
  app/views/carts/_cart.html.erb:14:in `_app_views_carts__cart_html_erb__1409247226816187907_2179186660'
  app/views/line_items/create.js.erb:2:in `_app_views_line_items_create_js_erb___2153431860541652558_2167877920'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 10:59:20 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 73]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 73
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.8ms)
Rendered carts/_cart.html.erb (139.1ms)
Completed 500 Internal Server Error in 203ms

ActionView::Template::Error (undefined local variable or method `product' for #<#<Class:0x00000103f43130>:0x00000103f3f670>):
    11:     <td colspan="2">Total</td> 
    12:     <td class="total_cell"><%= number_to_currency(cart.total_price) %></td>
    13:     <!-- MA added a remove button to remove item from cart -->
    14:     <td class="remove"><%= button_to 'remove', line_items_path(:product_id => product), :method => :delete %></td>
    15:   </tr> 
    16: </table>
    17: 
  app/views/carts/_cart.html.erb:14:in `_app_views_carts__cart_html_erb__1409247226816187907_2180052040'
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb___780634785566178677_2167794600'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.5ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 11:02:58 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 73]]
Rendered store/index.html.erb within layouts/application (9.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 73[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.6ms)
Rendered carts/_cart.html.erb (108.0ms)
Completed 500 Internal Server Error in 173ms

ActionView::Template::Error (undefined local variable or method `line_item' for #<#<Class:0x000001026c8510>:0x000001026c4000>):
    11:     <td colspan="3">Total</td> 
    12:     <td class="total_cell"><%= number_to_currency(cart.total_price) %></td>
    13:     <!-- MA added a remove button to remove item from cart -->
    14:     <td><%= button_to 'remove 1', decrement_line_items_path(line_item), remote: true %></td>
    15:   </tr> 
    16: </table>
    17: 
  app/views/carts/_cart.html.erb:14:in `_app_views_carts__cart_html_erb__1409247226816187907_2180982580'
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb___780634785566178677_2167794600'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 11:02:59 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 73]]
Rendered store/index.html.erb within layouts/application (10.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 73
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.6ms)
Rendered carts/_cart.html.erb (155.6ms)
Completed 500 Internal Server Error in 196ms

ActionView::Template::Error (undefined local variable or method `line_item' for #<#<Class:0x00000103e08d88>:0x00000103e04120>):
    11:     <td colspan="3">Total</td> 
    12:     <td class="total_cell"><%= number_to_currency(cart.total_price) %></td>
    13:     <!-- MA added a remove button to remove item from cart -->
    14:     <td><%= button_to 'remove 1', decrement_line_items_path(line_item), remote: true %></td>
    15:   </tr> 
    16: </table>
    17: 
  app/views/carts/_cart.html.erb:14:in `_app_views_carts__cart_html_erb__1409247226816187907_2180982580'
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb___780634785566178677_2167794600'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 11:26:52 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 73]]
Rendered store/index.html.erb within layouts/application (36.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 73[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.7ms)
Rendered carts/_cart.html.erb (109.3ms)
Completed 500 Internal Server Error in 174ms

ActionView::Template::Error (undefined local variable or method `line_item' for #<#<Class:0x00000102532098>:0x000001024f9068>):
    11:     <td colspan="3">Total</td> 
    12:     <td class="total_cell"><%= number_to_currency(cart.total_price) %></td>
    13:     <!-- MA added a remove button to remove item from cart -->
    14:     <td><%= button_to 'remove 1', decrement_line_items_path(line_item), remote: true %></td>
    15:   </tr> 
    16: </table>
    17: 
  app/views/carts/_cart.html.erb:14:in `_app_views_carts__cart_html_erb__1409247226816187907_2180982580'
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb___780634785566178677_2167020300'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 11:27:58 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 73]]
Rendered store/index.html.erb within layouts/application (9.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 73
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.4ms)
Rendered carts/_cart.html.erb (14.3ms)
Completed 200 OK in 51ms (Views: 34.7ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 11:27:58 +0100
Served asset /scaffold.css - 404 Not Found (37ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 11:27:58 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 11:27:58 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 11:27:58 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 11:27:58 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 11:27:58 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 11:27:58 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 11:27:58 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 11:27:58 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 11:27:58 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started POST "/store/index?remote=true" for 127.0.0.1 at 2011-10-17 11:28:37 +0100

ActionController::RoutingError (No route matches [POST] "/store/index"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started POST "/store/index?remote=true" for 127.0.0.1 at 2011-10-17 11:28:44 +0100

ActionController::RoutingError (No route matches [POST] "/store/index"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 11:31:02 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 73]]
Rendered store/index.html.erb within layouts/application (9.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 73[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.5ms)
Rendered carts/_cart.html.erb (45.4ms)
Completed 200 OK in 83ms (Views: 65.9ms | ActiveRecord: 1.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 11:31:02 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 11:31:02 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 11:31:02 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 11:31:02 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 11:31:03 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 11:31:03 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 11:31:03 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 11:31:03 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 11:31:03 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 11:31:03 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-17 11:31:17 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 73]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 73], ["created_at", Mon, 17 Oct 2011 10:31:17 UTC +00:00], ["product_id", 7], ["quantity", 1], ["updated_at", Mon, 17 Oct 2011 10:31:17 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 73
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.6ms)
Rendered carts/_cart.html.erb (6.8ms)
Rendered line_items/create.js.erb (7.6ms)
Completed 200 OK in 73ms (Views: 12.3ms | ActiveRecord: 1.8ms)


Started DELETE "/carts/73" for 127.0.0.1 at 2011-10-17 11:31:41 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "id"=>"73"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 73]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 73[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 124]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 125]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 73]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-17 11:31:41 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Mon, 17 Oct 2011 10:31:41 UTC +00:00], ["updated_at", Mon, 17 Oct 2011 10:31:41 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
Rendered carts/_cart.html.erb (6.0ms)
Completed 200 OK in 79ms (Views: 24.7ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 11:31:41 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 11:31:41 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 11:31:41 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 11:31:41 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 11:31:41 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 11:31:41 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 11:31:41 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 11:31:41 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 11:31:41 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 11:31:41 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-17 11:31:45 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 74], ["created_at", Mon, 17 Oct 2011 10:31:45 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Mon, 17 Oct 2011 10:31:45 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.6ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.1ms)
Completed 200 OK in 43ms (Views: 10.9ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-17 11:31:47 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 74], ["created_at", Mon, 17 Oct 2011 10:31:47 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Mon, 17 Oct 2011 10:31:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.5ms)
Rendered carts/_cart.html.erb (6.2ms)
Rendered line_items/create.js.erb (7.0ms)
Completed 200 OK in 72ms (Views: 11.5ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-17 11:31:49 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-17 10:31:49.466533' WHERE "line_items"."id" = 127
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (5.6ms)
Rendered line_items/create.js.erb (6.3ms)
Completed 200 OK in 69ms (Views: 10.9ms | ActiveRecord: 1.6ms)


Started POST "/line_items?remote=true" for 127.0.0.1 at 2011-10-17 11:31:57 +0100
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "remote"=>"true"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Completed 404 Not Found in 13ms

ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  app/controllers/line_items_controller.rb:44:in `create'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (5.0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 11:34:14 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.2ms)
Rendered carts/_cart.html.erb (14.9ms)
Completed 200 OK in 51ms (Views: 35.8ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 11:34:14 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 11:34:14 +0100
Served asset /scaffold.css - 404 Not Found (4ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 11:34:14 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 11:34:14 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 11:34:14 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 11:34:14 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 11:34:14 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 11:34:14 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 11:34:14 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 11:34:14 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 11:35:51 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (37.0ms)
Rendered carts/_cart.html.erb (45.6ms)
Completed 200 OK in 84ms (Views: 66.5ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 11:35:51 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 11:35:51 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:51 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:51 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:51 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:51 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:51 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:51 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:51 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 11:35:51 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 11:35:53 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (9.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.1ms)
Rendered carts/_cart.html.erb (47.6ms)
Completed 200 OK in 85ms (Views: 67.9ms | ActiveRecord: 1.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:53 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 11:35:53 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:53 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:53 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 11:35:53 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:53 +0100
Served asset /jquery_ujs.js - 304 Not Modified (6ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:53 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:53 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:53 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 11:35:53 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 11:35:54 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (40.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.1ms)
Rendered carts/_cart.html.erb (14.4ms)
Completed 200 OK in 82ms (Views: 65.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 11:35:54 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:54 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:54 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:54 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 11:35:54 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:54 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:54 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:54 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:54 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 11:35:54 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 11:35:55 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (11.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.9ms)
Rendered carts/_cart.html.erb (14.1ms)
Completed 200 OK in 96ms (Views: 42.3ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 11:35:55 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 11:35:55 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:55 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:55 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:55 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:55 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:55 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:55 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 11:35:55 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 11:35:55 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 11:37:01 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.2ms)
Rendered carts/_cart.html.erb (14.7ms)
Completed 200 OK in 84ms (Views: 35.4ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 11:37:01 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 11:37:01 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 11:37:01 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 11:37:01 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 11:37:01 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 11:37:01 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 11:37:01 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 11:37:01 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 11:37:01 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 11:37:01 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 11:37:03 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (9.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.1ms)
Rendered carts/_cart.html.erb (14.4ms)
Completed 200 OK in 51ms (Views: 34.8ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 11:37:03 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 11:37:03 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 11:37:03 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 11:37:03 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 11:37:03 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 11:37:03 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 11:37:03 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 11:37:03 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 11:37:03 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 11:37:03 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items" for 127.0.0.1 at 2011-10-17 11:39:39 +0100
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" 
Rendered line_items/index.html.erb within layouts/application (15.9ms)
Completed 200 OK in 47ms (Views: 45.8ms | ActiveRecord: 0.3ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 11:39:39 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 11:39:39 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 11:39:39 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 11:39:39 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 11:39:39 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 11:39:39 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 11:39:39 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 11:39:39 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 11:39:39 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 11:39:39 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_item" for 127.0.0.1 at 2011-10-17 11:40:15 +0100

ActionController::RoutingError (No route matches [GET] "/line_item"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/line_items" for 127.0.0.1 at 2011-10-17 11:40:21 +0100
  Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" [0m
Rendered line_items/index.html.erb within layouts/application (12.0ms)
Completed 200 OK in 23ms (Views: 21.0ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 11:40:21 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 11:40:21 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:21 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:21 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:21 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:21 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:21 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:21 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:21 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 11:40:21 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products" for 127.0.0.1 at 2011-10-17 11:40:43 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (73.3ms)
Completed 200 OK in 84ms (Views: 82.4ms | ActiveRecord: 0.4ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:43 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 11:40:43 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:43 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:43 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 11:40:43 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:43 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:43 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:43 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:43 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 11:40:43 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/carts" for 127.0.0.1 at 2011-10-17 11:40:59 +0100
  Processing by CartsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" [0m
Rendered carts/index.html.erb within layouts/application (54.9ms)
Completed 200 OK in 65ms (Views: 63.8ms | ActiveRecord: 0.3ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 11:40:59 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:59 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:59 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:59 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:59 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 11:40:59 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:59 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:59 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 11:40:59 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 11:40:59 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/layouts" for 127.0.0.1 at 2011-10-17 11:41:22 +0100

ActionController::RoutingError (No route matches [GET] "/layouts"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-17 11:42:31 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-17 10:42:31.801207' WHERE "line_items"."id" = 126[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.3ms)
Rendered carts/_cart.html.erb (5.8ms)
Rendered line_items/create.js.erb (6.5ms)
Completed 200 OK in 72ms (Views: 11.2ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-17 11:42:48 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"5"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "5"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 5 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 74], ["created_at", Mon, 17 Oct 2011 10:42:48 UTC +00:00], ["product_id", 5], ["quantity", 1], ["updated_at", Mon, 17 Oct 2011 10:42:48 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.9ms)
Rendered carts/_cart.html.erb (6.3ms)
Rendered line_items/create.js.erb (7.0ms)
Completed 200 OK in 42ms (Views: 11.6ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 12:13:07 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
Rendered store/index.html.erb within layouts/application (9.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (35.9ms)
Rendered carts/_cart.html.erb (44.2ms)
Completed 200 OK in 81ms (Views: 64.6ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 12:13:07 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 12:13:07 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 12:13:07 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 12:13:07 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 12:13:07 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 12:13:07 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 12:13:07 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 12:13:07 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 12:13:07 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 12:13:08 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 12:13:45 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (9.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.0ms)
Rendered carts/_cart.html.erb (47.1ms)
Completed 200 OK in 84ms (Views: 67.0ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 12:13:46 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 12:13:46 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 12:13:46 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 12:13:46 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 12:13:46 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 12:13:46 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 12:13:46 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 12:13:46 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 12:13:46 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 12:13:46 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 12:14:30 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
Rendered store/index.html.erb within layouts/application (39.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.9ms)
Rendered carts/_cart.html.erb (15.9ms)
Completed 200 OK in 84ms (Views: 66.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 12:14:30 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 12:14:30 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 12:14:30 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 12:14:30 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 12:14:30 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 12:14:30 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 12:14:30 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 12:14:30 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 12:14:30 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 12:14:30 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 12:15:12 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.8ms)
Rendered carts/_cart.html.erb (15.5ms)
Completed 200 OK in 85ms (Views: 36.4ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 12:15:12 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 12:15:12 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:12 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:12 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:12 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:12 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:12 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:12 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:12 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 12:15:12 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 12:15:56 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.8ms)
Rendered carts/_cart.html.erb (15.2ms)
Completed 200 OK in 85ms (Views: 35.6ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 12:15:57 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 12:15:57 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:57 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:57 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:57 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:57 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:57 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:57 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:57 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 12:15:57 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 12:15:58 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.1ms)
Rendered carts/_cart.html.erb (15.3ms)
Completed 200 OK in 52ms (Views: 36.1ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 12:15:58 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:58 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:58 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:58 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:58 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 12:15:58 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:58 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:58 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 12:15:58 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 12:15:58 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 12:16:08 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (37.7ms)
Rendered carts/_cart.html.erb (46.8ms)
Completed 200 OK in 85ms (Views: 67.4ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 12:16:09 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 12:16:09 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 12:16:09 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 12:16:09 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 12:16:09 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 12:16:09 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 12:16:09 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 12:16:09 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 12:16:09 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 12:16:09 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 12:16:56 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (9.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.9ms)
Rendered carts/_cart.html.erb (15.7ms)
Completed 200 OK in 85ms (Views: 67.7ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 12:16:56 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 12:16:57 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 12:16:57 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 12:16:57 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 12:16:57 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 12:16:57 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 12:16:57 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 12:16:57 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 12:16:57 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 12:16:57 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 12:17:17 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
Rendered store/index.html.erb within layouts/application (41.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.1ms)
Rendered carts/_cart.html.erb (15.8ms)
Completed 200 OK in 84ms (Views: 67.6ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 12:17:18 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 12:17:18 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 12:17:18 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 12:17:18 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 12:17:18 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 12:17:18 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 12:17:18 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 12:17:18 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 12:17:18 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 12:17:18 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 12:17:38 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.8ms)
Rendered carts/_cart.html.erb (15.4ms)
Completed 200 OK in 85ms (Views: 35.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 12:17:38 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 12:17:38 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 12:17:38 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 12:17:38 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.9ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 12:17:38 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 12:17:38 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 12:17:38 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 12:17:38 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 12:17:38 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 12:17:38 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items" for 127.0.0.1 at 2011-10-17 17:57:36 +0100
  Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" [0m
Rendered line_items/index.html.erb within layouts/application (48.9ms)
Completed 200 OK in 96ms (Views: 94.8ms | ActiveRecord: 0.3ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 17:57:37 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 17:57:37 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 17:57:37 +0100
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 17:57:37 +0100
Served asset /jquery_ujs.js - 304 Not Modified (5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 17:57:37 +0100
Served asset /carts.js - 304 Not Modified (1ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 17:57:37 +0100
Served asset /line_items.js - 304 Not Modified (1ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 17:57:37 +0100
Served asset /store.js - 304 Not Modified (1ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 17:57:37 +0100
Served asset /products.js - 304 Not Modified (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 17:57:37 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 17:57:37 +0100
Served asset /logo.png - 304 Not Modified (1ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 17:58:02 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (10.9ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (85.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (12.7ms)
Rendered carts/_cart.html.erb (104.1ms)
Completed 200 OK in 239ms (Views: 207.9ms | ActiveRecord: 12.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 17:58:02 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 17:58:02 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 17:58:02 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 17:58:02 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 17:58:02 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 17:58:02 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 17:58:02 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 17:58:02 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 17:58:02 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 17:58:02 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 18:04:58 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (9.8ms)
Rendered carts/_cart.html.erb (18.9ms)
Completed 200 OK in 60ms (Views: 40.9ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:04:58 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:04:58 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:04:58 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:04:58 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:04:58 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:04:58 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:04:58 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:04:58 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:04:58 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:04:58 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items/126" for 127.0.0.1 at 2011-10-17 18:05:01 +0100

ActionController::RoutingError (No route matches [POST] "/line_items/126"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/line_items/" for 127.0.0.1 at 2011-10-17 18:05:57 +0100
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" 
Rendered line_items/index.html.erb within layouts/application (13.2ms)
Completed 200 OK in 24ms (Views: 22.2ms | ActiveRecord: 0.3ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:05:57 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:05:57 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:05:57 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:05:57 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:05:57 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:05:57 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:05:57 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:05:57 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:05:57 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:05:57 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items/117" for 127.0.0.1 at 2011-10-17 18:06:13 +0100
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"117"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "117"]]
Rendered line_items/show.html.erb within layouts/application (5.2ms)
Completed 200 OK in 23ms (Views: 21.8ms | ActiveRecord: 0.3ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:06:13 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:13 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:13 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:13 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:06:13 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:13 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:13 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:13 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:13 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:06:13 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 18:06:22 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (8.5ms)
Rendered carts/_cart.html.erb (18.0ms)
Completed 200 OK in 90ms (Views: 40.2ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:06:22 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:22 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:22 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:06:22 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:22 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:22 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:22 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:22 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:22 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:06:22 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items.126" for 127.0.0.1 at 2011-10-17 18:06:29 +0100
  Processing by LineItemsController#create as 
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k="}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Completed 404 Not Found in 13ms

ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  app/controllers/line_items_controller.rb:44:in `create'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (4.0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 18:06:52 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (40.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (8.5ms)
Rendered carts/_cart.html.erb (17.6ms)
Completed 200 OK in 85ms (Views: 69.1ms | ActiveRecord: 1.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:52 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:06:52 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:52 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:52 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:52 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:06:52 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:52 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:52 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:52 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:06:52 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items/126" for 127.0.0.1 at 2011-10-17 18:06:54 +0100

ActionController::RoutingError (No route matches [POST] "/line_items/126"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/line_items/126" for 127.0.0.1 at 2011-10-17 18:06:58 +0100
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"126"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "126"]]
Rendered line_items/show.html.erb within layouts/application (5.3ms)
Completed 200 OK in 46ms (Views: 44.9ms | ActiveRecord: 0.3ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:06:58 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:58 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:58 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:06:58 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:58 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:58 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:58 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:58 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:06:58 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:06:58 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 18:07:11 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (8.7ms)
Rendered carts/_cart.html.erb (50.2ms)
Completed 200 OK in 88ms (Views: 71.2ms | ActiveRecord: 1.7ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:11 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:07:11 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:11 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:11 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:11 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:07:11 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:11 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:11 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:11 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:07:11 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items/126?method=destroy" for 127.0.0.1 at 2011-10-17 18:07:14 +0100
  Processing by LineItemsController#show as HTML
  Parameters: {"method"=>"destroy", "id"=>"126"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "126"]]
Rendered line_items/show.html.erb within layouts/application (5.0ms)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:07:14 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:14 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:14 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:14 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:14 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:14 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:14 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:14 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:07:14 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:07:14 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 18:07:22 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (8.9ms)
Rendered carts/_cart.html.erb (17.4ms)
Completed 200 OK in 57ms (Views: 38.9ms | ActiveRecord: 1.8ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:07:22 +0100
Served asset /scaffold.css - 404 Not Found (36ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:07:22 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:22 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:22 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:22 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:22 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:22 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:22 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:22 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:07:22 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items/126?method=destroy" for 127.0.0.1 at 2011-10-17 18:07:25 +0100
  Processing by LineItemsController#show as HTML
  Parameters: {"method"=>"destroy", "id"=>"126"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "126"]]
Rendered line_items/show.html.erb within layouts/application (4.9ms)
Completed 200 OK in 19ms (Views: 17.3ms | ActiveRecord: 0.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:07:25 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:25 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:25 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:25 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:25 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:25 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:07:25 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:25 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:25 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:07:25 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 18:07:27 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (8.1ms)
Rendered carts/_cart.html.erb (16.4ms)
Completed 200 OK in 87ms (Views: 37.4ms | ActiveRecord: 1.8ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:27 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:27 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:27 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:07:27 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:27 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:27 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:07:27 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:27 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:27 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:07:27 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 18:07:29 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (9.2ms)
Rendered carts/_cart.html.erb (17.4ms)
Completed 200 OK in 57ms (Views: 39.0ms | ActiveRecord: 1.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:07:29 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:29 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:29 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:29 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:29 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:29 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:07:29 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:29 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:07:29 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:07:29 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 18:08:21 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (9.0ms)
Rendered carts/_cart.html.erb (49.2ms)
Completed 200 OK in 88ms (Views: 70.7ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:08:21 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:08:21 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:21 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:21 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:21 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:21 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:21 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:21 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:21 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:08:21 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items/126?method=delete" for 127.0.0.1 at 2011-10-17 18:08:25 +0100
  Processing by LineItemsController#show as HTML
  Parameters: {"method"=>"delete", "id"=>"126"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "126"]]
Rendered line_items/show.html.erb within layouts/application (5.3ms)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:08:26 +0100
Served asset /scaffold.css - 404 Not Found (4ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:26 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:26 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:26 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:08:26 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:26 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:26 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:26 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:26 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:08:26 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 18:08:27 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (13.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.3ms)
Rendered carts/_cart.html.erb (27.8ms)
Completed 200 OK in 90ms (Views: 57.3ms | ActiveRecord: 2.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:27 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:08:27 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:27 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:27 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:27 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:27 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:27 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:08:27 +0100
Served asset /scaffold.css - 404 Not Found (4ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:27 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:08:28 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 18:08:41 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
Rendered store/index.html.erb within layouts/application (9.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.9ms)
Rendered carts/_cart.html.erb (48.4ms)
Completed 200 OK in 87ms (Views: 69.9ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:08:41 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:41 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:41 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:41 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:41 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:41 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:41 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:41 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:08:41 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:08:41 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/line_items/126" for 127.0.0.1 at 2011-10-17 18:08:44 +0100
  Processing by LineItemsController#destroy as HTML
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "id"=>"126"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "126"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 126]]
Redirected to http://localhost:3000/line_items
Completed 302 Found in 29ms


Started GET "/line_items" for 127.0.0.1 at 2011-10-17 18:08:44 +0100
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" 
Rendered line_items/index.html.erb within layouts/application (45.4ms)
Completed 200 OK in 55ms (Views: 53.9ms | ActiveRecord: 0.3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:44 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:44 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:08:44 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:44 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:44 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:44 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:08:44 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:44 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:44 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:08:44 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 18:08:47 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
Rendered store/index.html.erb within layouts/application (41.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.5ms)
Rendered carts/_cart.html.erb (16.9ms)
Completed 200 OK in 87ms (Views: 70.0ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:08:47 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:08:47 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:47 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:47 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:47 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:47 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:47 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:47 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:47 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:08:47 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/line_items/127" for 127.0.0.1 at 2011-10-17 18:08:51 +0100
  Processing by LineItemsController#destroy as HTML
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "id"=>"127"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "127"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 127]]
Redirected to http://localhost:3000/line_items
Completed 302 Found in 9ms


Started GET "/line_items" for 127.0.0.1 at 2011-10-17 18:08:51 +0100
  Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" [0m
Rendered line_items/index.html.erb within layouts/application (10.7ms)
Completed 200 OK in 20ms (Views: 19.1ms | ActiveRecord: 0.3ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:08:51 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:51 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:51 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:51 +0100
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:51 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:08:51 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:51 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:51 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:51 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:08:51 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 18:08:52 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.9ms)
Rendered carts/_cart.html.erb (14.4ms)
Completed 200 OK in 84ms (Views: 35.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:08:53 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:53 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:53 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:53 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:53 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:08:53 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:53 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:53 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:08:53 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:08:53 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 18:10:38 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
Rendered store/index.html.erb within layouts/application (9.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.9ms)
Rendered carts/_cart.html.erb (14.9ms)
Completed 200 OK in 85ms (Views: 35.4ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:10:38 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:10:38 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:10:39 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:10:39 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:10:39 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:10:39 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:10:39 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:10:39 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:10:39 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:10:39 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 18:11:27 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.3ms)
Rendered carts/_cart.html.erb (14.7ms)
Completed 200 OK in 54ms (Views: 36.4ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:11:27 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:11:27 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:11:27 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:11:27 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:11:27 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:11:27 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:11:27 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:11:27 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:11:27 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:11:27 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/line_items/128" for 127.0.0.1 at 2011-10-17 18:11:30 +0100
  Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"128"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "128"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 128]]
Completed 500 Internal Server Error in 28ms

ActionView::MissingTemplate (Missing template line_items/destroy, application/destroy with {:handlers=>[:erb, :builder, :coffee, :rjs], :formats=>[:js, :html], :locale=>[:en, :en]}. Searched in:
  * "/Users/mark/work/depot/app/views"
):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 18:11:58 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
Rendered carts/_cart.html.erb (6.1ms)
Completed 200 OK in 77ms (Views: 27.9ms | ActiveRecord: 1.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:11:59 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:11:59 +0100
Served asset /products.js - 304 Not Modified (1ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:11:59 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:11:59 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:11:59 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:11:59 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:11:59 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:11:59 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:11:59 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:11:59 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-17 18:12:00 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 74], ["created_at", Mon, 17 Oct 2011 17:12:00 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Mon, 17 Oct 2011 17:12:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.0ms)
Rendered carts/_cart.html.erb (7.5ms)
Rendered line_items/create.js.erb (8.8ms)
Completed 200 OK in 55ms (Views: 14.0ms | ActiveRecord: 4.6ms)


Started DELETE "/line_items/129" for 127.0.0.1 at 2011-10-17 18:12:03 +0100
  Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"129"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "129"]]
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 129]]
Rendered line_items/destroy.js.erb (0.9ms)
Completed 500 Internal Server Error in 43ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: // Chris did this the old way using jquery (as he would in rails 3 - works in any version) instead of create.js.rjs like in the book for 3.0.5 but this does not work in 3.1
    2: $('#cart').html("<%= escape_javascript(render(@cart)) %>");
  app/views/line_items/destroy.js.erb:2:in `_app_views_line_items_destroy_js_erb__785472816360217453_2187037580'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-17 18:12:39 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
Rendered carts/_cart.html.erb (36.9ms)
Completed 200 OK in 76ms (Views: 58.2ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-17 18:12:39 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-17 18:12:39 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-17 18:12:39 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-17 18:12:40 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-17 18:12:40 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-17 18:12:40 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-17 18:12:40 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-17 18:12:40 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-17 18:12:40 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-17 18:12:40 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-17 18:12:41 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 74], ["created_at", Mon, 17 Oct 2011 17:12:41 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Mon, 17 Oct 2011 17:12:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.2ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 73ms (Views: 10.7ms | ActiveRecord: 1.8ms)


Started DELETE "/line_items/130" for 127.0.0.1 at 2011-10-17 18:12:43 +0100
  Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"130"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "130"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 130]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
Rendered carts/_cart.html.erb (3.2ms)
Rendered line_items/destroy.js.erb (6.7ms)
Completed 200 OK in 30ms (Views: 12.2ms | ActiveRecord: 1.2ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-18 14:17:45 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mProduct Load (13.4ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35mSQL (13.1ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 74], ["created_at", Tue, 18 Oct 2011 13:17:45 UTC +00:00], ["product_id", 7], ["quantity", 1], ["updated_at", Tue, 18 Oct 2011 13:17:45 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.1ms)
Rendered carts/_cart.html.erb (8.9ms)
Rendered line_items/create.js.erb (9.7ms)
Completed 200 OK in 112ms (Views: 20.8ms | ActiveRecord: 28.0ms)


Started DELETE "/line_items/131" for 127.0.0.1 at 2011-10-18 14:17:55 +0100
  Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"131"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "131"]]
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 131]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
Rendered carts/_cart.html.erb (1.8ms)
Rendered line_items/destroy.js.erb (5.0ms)
Completed 200 OK in 57ms (Views: 43.5ms | ActiveRecord: 1.3ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 14:18:05 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 74], ["created_at", Tue, 18 Oct 2011 13:18:05 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Tue, 18 Oct 2011 13:18:05 UTC +00:00]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.2ms)
Rendered carts/_cart.html.erb (10.3ms)
Rendered line_items/create.js.erb (11.1ms)
Completed 200 OK in 49ms (Views: 16.6ms | ActiveRecord: 1.9ms)


Started DELETE "/line_items/132" for 127.0.0.1 at 2011-10-18 14:18:11 +0100
  Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"132"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "132"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 132]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
Rendered carts/_cart.html.erb (1.7ms)
Rendered line_items/destroy.js.erb (5.3ms)
Completed 200 OK in 27ms (Views: 10.6ms | ActiveRecord: 1.0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 17:19:38 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 74], ["created_at", Tue, 18 Oct 2011 16:19:38 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Tue, 18 Oct 2011 16:19:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.9ms)
Rendered carts/_cart.html.erb (5.2ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 66ms (Views: 35.0ms | ActiveRecord: 2.0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 17:19:40 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-18 16:19:40.379622' WHERE "line_items"."id" = 133[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.5ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.1ms)
Completed 200 OK in 42ms (Views: 10.6ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 17:19:42 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-18 16:19:42.112557' WHERE "line_items"."id" = 133
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (4.9ms)
Rendered line_items/create.js.erb (5.6ms)
Completed 200 OK in 43ms (Views: 10.4ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-18 17:19:47 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"6"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 74], ["created_at", Tue, 18 Oct 2011 16:19:47 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Tue, 18 Oct 2011 16:19:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.1ms)
Rendered carts/_cart.html.erb (6.2ms)
Rendered line_items/create.js.erb (6.9ms)
Completed 200 OK in 42ms (Views: 11.5ms | ActiveRecord: 1.7ms)


Started DELETE "/line_items/133" for 127.0.0.1 at 2011-10-18 17:19:52 +0100
  Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"133"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "133"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 133]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (17.0ms)
Rendered carts/_cart.html.erb (20.8ms)
Rendered line_items/destroy.js.erb (23.7ms)
Completed 200 OK in 73ms (Views: 28.2ms | ActiveRecord: 1.5ms)


Started DELETE "/line_items/134" for 127.0.0.1 at 2011-10-18 17:19:58 +0100
  Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"134"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "134"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 134]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
Rendered carts/_cart.html.erb (1.7ms)
Rendered line_items/destroy.js.erb (4.6ms)
Completed 200 OK in 52ms (Views: 9.6ms | ActiveRecord: 1.0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 17:22:00 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.6ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 74], ["created_at", Tue, 18 Oct 2011 16:22:00 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Tue, 18 Oct 2011 16:22:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.3ms)
Rendered line_items/create.js.erb (6.1ms)
Completed 200 OK in 75ms (Views: 10.8ms | ActiveRecord: 2.4ms)


Started DELETE "/line_items/135" for 127.0.0.1 at 2011-10-18 17:22:02 +0100
  Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"135"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "135"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 135]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
Rendered carts/_cart.html.erb (1.8ms)
Rendered line_items/destroy.js.erb (4.7ms)
Completed 200 OK in 23ms (Views: 9.6ms | ActiveRecord: 1.0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 17:22:04 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 74], ["created_at", Tue, 18 Oct 2011 16:22:04 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Tue, 18 Oct 2011 16:22:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.2ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 73ms (Views: 10.5ms | ActiveRecord: 1.7ms)


Started DELETE "/line_items/136" for 127.0.0.1 at 2011-10-18 17:22:07 +0100
  Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"136"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "136"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 136]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
Rendered carts/_cart.html.erb (1.8ms)
Rendered line_items/destroy.js.erb (4.9ms)
Completed 200 OK in 53ms (Views: 9.9ms | ActiveRecord: 1.1ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 17:22:08 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 74], ["created_at", Tue, 18 Oct 2011 16:22:08 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Tue, 18 Oct 2011 16:22:08 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (1.9ms)
Rendered carts/_cart.html.erb (5.1ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 43ms (Views: 10.5ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 17:22:09 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-18 16:22:09.419663' WHERE "line_items"."id" = 137
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (4.9ms)
Rendered line_items/create.js.erb (5.5ms)
Completed 200 OK in 40ms (Views: 10.2ms | ActiveRecord: 1.4ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 17:22:09 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-18 16:22:09.739520' WHERE "line_items"."id" = 137[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.1ms)
Rendered line_items/create.js.erb (5.8ms)
Completed 200 OK in 41ms (Views: 10.4ms | ActiveRecord: 1.5ms)


Started DELETE "/line_items/137" for 127.0.0.1 at 2011-10-18 17:22:11 +0100
  Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"137"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "137"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 137]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
Rendered carts/_cart.html.erb (1.7ms)
Rendered line_items/destroy.js.erb (4.7ms)
Completed 200 OK in 54ms (Views: 9.6ms | ActiveRecord: 1.0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 17:41:57 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 74], ["created_at", Tue, 18 Oct 2011 16:41:57 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Tue, 18 Oct 2011 16:41:57 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.1ms)
Completed 200 OK in 72ms (Views: 10.9ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 17:41:58 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-18 16:41:58.523785' WHERE "line_items"."id" = 138[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.4ms)
Rendered carts/_cart.html.erb (5.7ms)
Rendered line_items/create.js.erb (7.9ms)
Completed 200 OK in 74ms (Views: 12.9ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 17:41:59 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-18 16:41:59.381008' WHERE "line_items"."id" = 138
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.8ms)
Rendered carts/_cart.html.erb (36.4ms)
Rendered line_items/create.js.erb (37.1ms)
Completed 200 OK in 74ms (Views: 41.7ms | ActiveRecord: 1.7ms)


Started DELETE "/line_items/138" for 127.0.0.1 at 2011-10-18 17:42:01 +0100
  Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"138"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "138"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 138]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
Rendered carts/_cart.html.erb (2.0ms)
Rendered line_items/destroy.js.erb (6.0ms)
Completed 200 OK in 46ms (Views: 12.8ms | ActiveRecord: 1.0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 17:42:32 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 74], ["created_at", Tue, 18 Oct 2011 16:42:32 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Tue, 18 Oct 2011 16:42:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.1ms)
Rendered line_items/create.js.erb (5.8ms)
Completed 200 OK in 72ms (Views: 10.4ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 17:42:33 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-18 16:42:33.304392' WHERE "line_items"."id" = 139
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (5.1ms)
Rendered line_items/create.js.erb (5.8ms)
Completed 200 OK in 72ms (Views: 10.4ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 17:42:33 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-18 16:42:33.641665' WHERE "line_items"."id" = 139[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (5.0ms)
Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 71ms (Views: 10.4ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 17:42:33 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-18 16:42:33.927515' WHERE "line_items"."id" = 139
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.0ms)
Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 71ms (Views: 10.5ms | ActiveRecord: 1.5ms)


Started DELETE "/line_items/139" for 127.0.0.1 at 2011-10-18 17:42:36 +0100
  Processing by LineItemsController#destroy as JS
  Parameters: {"id"=>"139"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "139"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 139]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
Rendered carts/_cart.html.erb (2.1ms)
Rendered line_items/destroy.js.erb (5.0ms)
Completed 200 OK in 23ms (Views: 9.8ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2011-10-18 18:00:20 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
Rendered carts/_cart.html.erb (7.5ms)
Completed 200 OK in 81ms (Views: 60.3ms | ActiveRecord: 1.3ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-18 18:00:20 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-18 18:00:20 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-18 18:00:20 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-18 18:00:20 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-18 18:00:20 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-18 18:00:20 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-18 18:00:20 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-18 18:00:20 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-18 18:00:20 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-18 18:00:20 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 18:00:22 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 74], ["created_at", Tue, 18 Oct 2011 17:00:22 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Tue, 18 Oct 2011 17:00:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.9ms)
Rendered carts/_cart.html.erb (36.8ms)
Rendered line_items/create.js.erb (37.6ms)
Completed 200 OK in 99ms (Views: 44.6ms | ActiveRecord: 1.7ms)


Started GET "/line_items/140/decrement" for 127.0.0.1 at 2011-10-18 18:00:24 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"140"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "140"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 140]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
Rendered carts/_cart.html.erb (1.7ms)
Rendered line_items/decrement.js.erb (4.8ms)
Completed 200 OK in 28ms (Views: 14.5ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2011-10-18 18:00:26 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (11.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
Rendered carts/_cart.html.erb (5.8ms)
Completed 200 OK in 76ms (Views: 29.2ms | ActiveRecord: 1.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-18 18:00:26 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-18 18:00:26 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-18 18:00:26 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-18 18:00:26 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-18 18:00:26 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-18 18:00:26 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-18 18:00:26 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-18 18:00:26 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-18 18:00:26 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-18 18:00:26 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 18:00:27 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 74], ["created_at", Tue, 18 Oct 2011 17:00:28 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Tue, 18 Oct 2011 17:00:28 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (5.5ms)
Rendered line_items/create.js.erb (6.3ms)
Completed 200 OK in 77ms (Views: 12.1ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-18 18:00:29 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-18 17:00:29.257015' WHERE "line_items"."id" = 141[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.3ms)
Rendered carts/_cart.html.erb (5.2ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 74ms (Views: 10.7ms | ActiveRecord: 1.7ms)


Started GET "/line_items/141/decrement" for 127.0.0.1 at 2011-10-18 18:00:30 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"141"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "141"]]
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 1, "updated_at" = '2011-10-18 17:00:30.760962' WHERE "line_items"."id" = 141[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (17.5ms)
Rendered carts/_cart.html.erb (53.3ms)
Rendered line_items/decrement.js.erb (56.6ms)
Completed 200 OK in 78ms (Views: 64.2ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 10:31:28 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (19.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (40.9ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 19 Oct 2011 09:31:28 UTC +00:00], ["updated_at", Wed, 19 Oct 2011 09:31:28 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (16.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 75[0m
Rendered carts/_cart.html.erb (7.4ms)
Completed 200 OK in 249ms (Views: 112.7ms | ActiveRecord: 61.0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 10:31:28 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 10:31:28 +0100
Served asset /jquery_ujs.js - 200 OK (40ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 10:31:28 +0100
Served asset /carts.js - 200 OK (19ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 10:31:28 +0100
Served asset /jquery.js - 200 OK (65ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 10:31:29 +0100
Served asset /line_items.js - 200 OK (10ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 10:31:29 +0100
Served asset /depot.css - 200 OK (10ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 10:31:29 +0100
Served asset /products.js - 200 OK (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 10:31:29 +0100
Served asset /store.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 10:31:29 +0100
Served asset /application.js - 200 OK (43ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 10:31:29 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 10:57:18 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (30.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (9.2ms)
Rendered carts/_cart.html.erb (114.6ms)
Completed 200 OK in 309ms (Views: 259.3ms | ActiveRecord: 31.9ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 10:57:18 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 10:57:18 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 10:57:18 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 10:57:18 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 10:57:18 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 10:57:18 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 10:57:18 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 10:57:18 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 10:57:18 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 10:57:18 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items/141/decrement" for 127.0.0.1 at 2011-10-19 10:57:23 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"141"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "141"]]
  [1m[36mSQL (45.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 141]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
Rendered carts/_cart.html.erb (1.8ms)
Rendered line_items/decrement.js.erb (5.7ms)
Completed 200 OK in 101ms (Views: 17.1ms | ActiveRecord: 45.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 10:57:26 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 74], ["created_at", Wed, 19 Oct 2011 09:57:26 UTC +00:00], ["product_id", 9], ["quantity", 1], ["updated_at", Wed, 19 Oct 2011 09:57:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.6ms)
Rendered carts/_cart.html.erb (5.8ms)
Rendered line_items/create.js.erb (6.5ms)
Completed 200 OK in 42ms (Views: 11.1ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 10:57:27 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-19 09:57:27.718821' WHERE "line_items"."id" = 142[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.1ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 53ms (Views: 10.7ms | ActiveRecord: 1.4ms)


Started GET "/line_items/142/decrement" for 127.0.0.1 at 2011-10-19 10:57:32 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"142"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "142"]]
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 1, "updated_at" = '2011-10-19 09:57:32.270012' WHERE "line_items"."id" = 142[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (23.2ms)
Rendered carts/_cart.html.erb (28.2ms)
Rendered line_items/decrement.js.erb (32.3ms)
Completed 200 OK in 57ms (Views: 40.5ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-19 10:57:34 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?)  [["cart_id", 74], ["created_at", Wed, 19 Oct 2011 09:57:34 UTC +00:00], ["product_id", 6], ["quantity", 1], ["updated_at", Wed, 19 Oct 2011 09:57:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.1ms)
Rendered carts/_cart.html.erb (6.4ms)
Rendered line_items/create.js.erb (7.1ms)
Completed 200 OK in 112ms (Views: 11.9ms | ActiveRecord: 1.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (3.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (12.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (3.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (3.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (9.0ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110831140527')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010143840')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010163205')[0m
  [1m[35m (8.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011143935')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20110831140527)
Migrating to CreateLineItems (20111010143840)
Migrating to CreateCarts (20111010163205)
Migrating to AddQuantityToLineItems (20111011143935)
Migrating to CombineItemsInCart (20111011151739)
Migrating to CreateOrders (20111019115659)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20110831140527)
Migrating to CreateLineItems (20111010143840)
Migrating to CreateCarts (20111010163205)
Migrating to AddQuantityToLineItems (20111011143935)
Migrating to CombineItemsInCart (20111011151739)
Migrating to CreateOrders (20111019115659)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20110831140527)
Migrating to CreateLineItems (20111010143840)
Migrating to CreateCarts (20111010163205)
Migrating to AddQuantityToLineItems (20111011143935)
Migrating to CombineItemsInCart (20111011151739)
Migrating to CreateOrders (20111019115659)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CombineItemsInCart (20111011151739)
  [1m[36m (0.0ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE (quantity>1)
  [1m[36m (2.8ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20111011151739'[0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("carts")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("line_items")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to AddQuantityToLineItems (20111011143935)
  [1m[36m (0.0ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  CREATE TEMPORARY TABLE "altered_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("line_items")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "line_items"
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "altered_line_items" ("id","product_id","cart_id","created_at","updated_at","quantity") VALUES (115, 5, 70, '2011-10-14 15:46:57.225832', '2011-10-14 15:46:57.225832', 1)[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "altered_line_items" ("id","product_id","cart_id","created_at","updated_at","quantity") VALUES (116, 9, 70, '2011-10-14 16:45:00.524804', '2011-10-14 16:45:00.524804', 1)
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "altered_line_items" ("id","product_id","cart_id","created_at","updated_at","quantity") VALUES (117, 6, 70, '2011-10-14 16:45:05.396368', '2011-10-14 16:45:05.396368', 1)[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "altered_line_items" ("id","product_id","cart_id","created_at","updated_at","quantity") VALUES (118, 7, 70, '2011-10-14 16:45:15.469404', '2011-10-14 16:45:15.469404', 1)
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "altered_line_items" ("id","product_id","cart_id","created_at","updated_at","quantity") VALUES (142, 9, 74, '2011-10-19 09:57:26.256965', '2011-10-19 09:57:32.270012', 1)[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "altered_line_items" ("id","product_id","cart_id","created_at","updated_at","quantity") VALUES (143, 6, 74, '2011-10-19 09:57:34.082304', '2011-10-19 09:57:34.082304', 1)
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_line_items")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "altered_line_items"
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at") VALUES (115, 5, 70, '2011-10-14 15:46:57.225832', '2011-10-14 15:46:57.225832')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at") VALUES (116, 9, 70, '2011-10-14 16:45:00.524804', '2011-10-14 16:45:00.524804')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at") VALUES (117, 6, 70, '2011-10-14 16:45:05.396368', '2011-10-14 16:45:05.396368')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at") VALUES (118, 7, 70, '2011-10-14 16:45:15.469404', '2011-10-14 16:45:15.469404')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at") VALUES (142, 9, 74, '2011-10-19 09:57:26.256965', '2011-10-19 09:57:32.270012')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at") VALUES (143, 6, 74, '2011-10-19 09:57:34.082304', '2011-10-19 09:57:34.082304')
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "altered_line_items"[0m
  [1m[35m (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20111011143935'
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("carts")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("line_items")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20110831140527)
Migrating to CreateLineItems (20111010143840)
Migrating to CreateCarts (20111010163205)
Migrating to AddQuantityToLineItems (20111011143935)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (22.1ms)[0m  [1mALTER TABLE "line_items" ADD "quantity" integer DEFAULT 1[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20111011143935')
Migrating to CombineItemsInCart (20111011151739)
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" [0m
  [1m[35m (0.1ms)[0m  SELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 9 GROUP BY product_id
  [1m[36m (0.1ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 16 GROUP BY product_id[0m
  [1m[35m (0.1ms)[0m  SELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 17 GROUP BY product_id
  [1m[36m (0.1ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 18 GROUP BY product_id[0m
  [1m[35m (0.1ms)[0m  SELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 19 GROUP BY product_id
  [1m[36m (0.1ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 20 GROUP BY product_id[0m
  [1m[35m (0.1ms)[0m  SELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 21 GROUP BY product_id
  [1m[36m (0.1ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 22 GROUP BY product_id[0m
  [1m[35m (0.1ms)[0m  SELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 23 GROUP BY product_id
  [1m[36m (0.1ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 24 GROUP BY product_id[0m
  [1m[35m (0.1ms)[0m  SELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 25 GROUP BY product_id
  [1m[36m (0.1ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 26 GROUP BY product_id[0m
  [1m[35m (0.1ms)[0m  SELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 27 GROUP BY product_id
  [1m[36m (0.1ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 28 GROUP BY product_id[0m
  [1m[35m (0.1ms)[0m  SELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 70 GROUP BY product_id
  [1m[36m (0.1ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 74 GROUP BY product_id[0m
  [1m[35m (0.1ms)[0m  SELECT SUM("line_items"."quantity") AS sum_quantity, product_id AS product_id FROM "line_items" WHERE "line_items"."cart_id" = 75 GROUP BY product_id
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111011151739')[0m
Migrating to CreateOrders (20111019115659)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20110831140527)
Migrating to CreateLineItems (20111010143840)
Migrating to CreateCarts (20111010163205)
Migrating to AddQuantityToLineItems (20111011143935)
Migrating to CombineItemsInCart (20111011151739)
Migrating to CreateOrders (20111019115659)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "address" text, "email" varchar(255), "pay_type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20111019115659')
Migrating to AddOrderIdToLineItem (20111019115842)
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "line_items" ADD "order_id" integer[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20111019115842')
  [1m[36m (0.3ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("carts")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("line_items")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("orders")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")


Started GET "/" for 127.0.0.1 at 2011-10-19 15:45:29 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.0ms)
Compiled depot.css  (0ms)  (pid 89768)
Compiled application.js  (14ms)  (pid 89768)
Compiled orders.js  (559ms)  (pid 89768)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (9.1ms)
Rendered carts/_cart.html.erb (21.4ms)
Completed 200 OK in 806ms (Views: 789.6ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 15:45:30 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 15:45:30 +0100
Served asset /depot.css - 200 OK (51ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 15:45:30 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 15:45:30 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 15:45:30 +0100
Served asset /application.js - 200 OK (39ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 15:45:31 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 15:45:31 +0100
Served asset /orders.js - 200 OK (4ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 15:45:31 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 15:45:31 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 15:45:31 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 15:45:31 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-19 15:45:43 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
Rendered orders/_form.html.erb (10.2ms)
Rendered orders/new.html.erb within layouts/application (11.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (50.5ms)
Rendered carts/_cart.html.erb (59.2ms)
Completed 200 OK in 141ms (Views: 124.9ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 15:45:44 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 15:45:44 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 15:45:44 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 15:45:44 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 15:45:44 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 15:45:44 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 15:45:44 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 15:45:44 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 15:45:44 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 15:45:44 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 15:45:44 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-19 15:46:32 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
Rendered orders/_form.html.erb (39.9ms)
Rendered orders/new.html.erb within layouts/application (40.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (23.2ms)
Rendered carts/_cart.html.erb (26.8ms)
Completed 200 OK in 135ms (Views: 97.7ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 15:46:33 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 15:46:33 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 15:46:33 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 15:46:33 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 15:46:33 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 15:46:33 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 15:46:33 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 15:46:33 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 15:46:33 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 15:46:33 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 15:46:33 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-19 15:48:48 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
Rendered orders/_form.html.erb (8.1ms)
Rendered orders/new.html.erb within layouts/application (8.9ms)
Compiled depot.css  (0ms)  (pid 89768)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (52.8ms)
Rendered carts/_cart.html.erb (56.7ms)
Completed 200 OK in 174ms (Views: 158.8ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 15:48:49 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 15:48:49 +0100
Served asset /depot.css - 200 OK (2ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 15:48:49 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 15:48:49 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 15:48:49 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 15:48:49 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 15:48:49 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 15:48:49 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 15:48:49 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 15:48:49 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 15:48:49 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-19 15:49:06 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
Rendered orders/_form.html.erb (38.5ms)
Rendered orders/new.html.erb within layouts/application (39.2ms)
Compiled depot.css  (0ms)  (pid 89768)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (24.2ms)
Rendered carts/_cart.html.erb (27.7ms)
Completed 200 OK in 95ms (Views: 79.0ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 15:49:06 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 15:49:06 +0100
Served asset /depot.css - 200 OK (2ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 15:49:06 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 15:49:06 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 15:49:06 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 15:49:06 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 15:49:06 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 15:49:06 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 15:49:06 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 15:49:06 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 15:49:06 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-19 16:55:35 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
Rendered orders/_form.html.erb (7.6ms)
Rendered orders/new.html.erb within layouts/application (8.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (56.5ms)
Rendered carts/_cart.html.erb (60.4ms)
Completed 200 OK in 158ms (Views: 121.7ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 16:55:36 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 16:55:36 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 16:55:36 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 16:55:36 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 16:55:36 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 16:55:36 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 16:55:36 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 16:55:36 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 16:55:36 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 16:55:36 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 16:55:36 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 16:55:45 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.7ms)
Rendered carts/_cart.html.erb (17.1ms)
Completed 200 OK in 87ms (Views: 38.3ms | ActiveRecord: 1.7ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 16:55:45 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 16:55:45 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 16:55:45 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 16:55:45 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 16:55:45 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 16:55:45 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 16:55:45 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 16:55:45 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 16:55:45 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 16:55:45 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 16:55:46 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-19 16:56:32 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74
Rendered orders/_form.html.erb (7.4ms)
Rendered orders/new.html.erb within layouts/application (8.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (54.2ms)
Rendered carts/_cart.html.erb (57.7ms)
Completed 200 OK in 90ms (Views: 73.8ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 16:56:33 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 16:56:33 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 16:56:33 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 16:56:33 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 16:56:33 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 16:56:33 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 16:56:33 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 16:56:33 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 16:56:33 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 16:56:33 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 16:56:33 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/orders" for 127.0.0.1 at 2011-10-19 16:56:42 +0100
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>"check"}, "commit"=>"Place order"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
Completed 500 Internal Server Error in 47ms

NameError (undefined local variable or method `cart' for #<Order:0x000001029a4b30>):
  app/models/order.rb:13:in `add_line_items_from_cart'
  app/controllers/orders_controller.rb:51:in `create'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.8ms)


Started POST "/orders" for 127.0.0.1 at 2011-10-19 17:05:33 +0100
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>"check"}, "commit"=>"Place order"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
Rendered orders/_form.html.erb (36.2ms)
Rendered orders/new.html.erb within layouts/application (37.0ms)
Completed 200 OK in 111ms (Views: 79.4ms | ActiveRecord: 0.9ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:05:33 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:05:33 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:05:33 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:05:33 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:05:33 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:05:33 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:05:33 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:05:33 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:05:33 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:05:33 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:05:33 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/orders" for 127.0.0.1 at 2011-10-19 17:09:42 +0100
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "order"=>{"name"=>"Mark Atherton", "address"=>"35 Fogralea, Lerwick, Shetland ZE1 0SE", "email"=>"matherton@ymail.com", "pay_type"=>"credit card"}, "commit"=>"Place order"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 74]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74[0m
  [1m[35mSQL (24.5ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "name", "pay_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "35 Fogralea, Lerwick, Shetland ZE1 0SE"], ["created_at", Wed, 19 Oct 2011 16:09:42 UTC +00:00], ["email", "matherton@ymail.com"], ["name", "Mark Atherton"], ["pay_type", "credit card"], ["updated_at", Wed, 19 Oct 2011 16:09:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "order_id" = 1, "updated_at" = '2011-10-19 16:09:42.633921' WHERE "line_items"."id" = 142[0m
  [1m[35m (0.0ms)[0m  UPDATE "line_items" SET "cart_id" = NULL, "order_id" = 1, "updated_at" = '2011-10-19 16:09:42.634812' WHERE "line_items"."id" = 143
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 74]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 74
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 74]]
Redirected to http://localhost:3000/
Completed 302 Found in 89ms


Started GET "/" for 127.0.0.1 at 2011-10-19 17:09:42 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 19 Oct 2011 16:09:42 UTC +00:00], ["updated_at", Wed, 19 Oct 2011 16:09:42 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
Rendered carts/_cart.html.erb (38.2ms)
Completed 200 OK in 142ms (Views: 121.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:09:42 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:09:42 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:09:42 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:09:42 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:09:42 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:09:43 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:09:43 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:09:43 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:09:43 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:09:43 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:09:43 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:29:49 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
Rendered store/index.html.erb within layouts/application (42.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
Rendered carts/_cart.html.erb (6.7ms)
Completed 200 OK in 95ms (Views: 79.4ms | ActiveRecord: 1.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:29:49 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:29:49 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:29:49 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:29:49 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:29:49 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:29:49 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:29:49 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:29:49 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:29:49 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:29:49 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:29:49 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:29:53 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["cart_id", 76], ["created_at", Wed, 19 Oct 2011 16:29:53 UTC +00:00], ["order_id", nil], ["product_id", 9], ["quantity", 1], ["updated_at", Wed, 19 Oct 2011 16:29:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.0ms)
Rendered carts/_cart.html.erb (36.2ms)
Rendered line_items/create.js.erb (37.4ms)
Completed 200 OK in 108ms (Views: 43.4ms | ActiveRecord: 2.3ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:29:56 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-19 16:29:56.083971' WHERE "line_items"."id" = 144
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.3ms)
Rendered line_items/create.js.erb (6.0ms)
Completed 200 OK in 72ms (Views: 10.8ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:29:56 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-19 16:29:56.569832' WHERE "line_items"."id" = 144[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.3ms)
Rendered line_items/create.js.erb (6.0ms)
Completed 200 OK in 71ms (Views: 10.7ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:29:56 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-19 16:29:56.817595' WHERE "line_items"."id" = 144
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.3ms)
Rendered line_items/create.js.erb (6.0ms)
Completed 200 OK in 73ms (Views: 10.9ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:29:57 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-19 16:29:57.488458' WHERE "line_items"."id" = 144[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.2ms)
Completed 200 OK in 72ms (Views: 10.9ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:29:57 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 6, "updated_at" = '2011-10-19 16:29:57.931564' WHERE "line_items"."id" = 144
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.3ms)
Rendered line_items/create.js.erb (6.0ms)
Completed 200 OK in 72ms (Views: 10.9ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:29:58 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 7, "updated_at" = '2011-10-19 16:29:58.171521' WHERE "line_items"."id" = 144[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (31.9ms)
Rendered carts/_cart.html.erb (35.5ms)
Rendered line_items/create.js.erb (36.3ms)
Completed 200 OK in 72ms (Views: 41.0ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:29:58 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 8, "updated_at" = '2011-10-19 16:29:58.396174' WHERE "line_items"."id" = 144
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.2ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 42ms (Views: 10.6ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:30:13 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mUPDATE "line_items" SET "quantity" = 9, "updated_at" = '2011-10-19 16:30:13.971592' WHERE "line_items"."id" = 144[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.6ms)
Rendered carts/_cart.html.erb (6.2ms)
Rendered line_items/create.js.erb (6.9ms)
Completed 200 OK in 43ms (Views: 11.7ms | ActiveRecord: 1.7ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:30:14 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 10, "updated_at" = '2011-10-19 16:30:14.524571' WHERE "line_items"."id" = 144
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.1ms)
Completed 200 OK in 42ms (Views: 10.7ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:30:15 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 11, "updated_at" = '2011-10-19 16:30:15.408983' WHERE "line_items"."id" = 144[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.1ms)
Completed 200 OK in 42ms (Views: 10.7ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:30:15 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 12, "updated_at" = '2011-10-19 16:30:15.904654' WHERE "line_items"."id" = 144
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.2ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 42ms (Views: 10.6ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:30:16 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 13, "updated_at" = '2011-10-19 16:30:16.915439' WHERE "line_items"."id" = 144[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.5ms)
Rendered line_items/create.js.erb (6.3ms)
Completed 200 OK in 73ms (Views: 11.0ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-19 17:30:18 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"6"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 76], ["created_at", Wed, 19 Oct 2011 16:30:18 UTC +00:00], ["order_id", nil], ["product_id", 6], ["quantity", 1], ["updated_at", Wed, 19 Oct 2011 16:30:18 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (5.2ms)
Rendered carts/_cart.html.erb (9.6ms)
Rendered line_items/create.js.erb (10.4ms)
Completed 200 OK in 78ms (Views: 14.9ms | ActiveRecord: 2.2ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-19 17:30:18 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-19 16:30:18.445061' WHERE "line_items"."id" = 145
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.3ms)
Rendered carts/_cart.html.erb (6.6ms)
Rendered line_items/create.js.erb (7.4ms)
Completed 200 OK in 75ms (Views: 12.3ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-19 17:30:18 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-19 16:30:19.033286' WHERE "line_items"."id" = 145
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.0ms)
Rendered carts/_cart.html.erb (6.2ms)
Rendered line_items/create.js.erb (7.0ms)
Completed 200 OK in 75ms (Views: 11.6ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-19 17:30:19 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-19 16:30:19.243291' WHERE "line_items"."id" = 145
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.2ms)
Rendered carts/_cart.html.erb (6.5ms)
Rendered line_items/create.js.erb (7.4ms)
Completed 200 OK in 77ms (Views: 12.5ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:30:46 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
Rendered store/index.html.erb within layouts/application (39.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (8.1ms)
Rendered carts/_cart.html.erb (17.4ms)
Completed 200 OK in 88ms (Views: 68.0ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:30:46 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:30:46 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:30:46 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:30:46 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:30:46 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:30:46 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:30:46 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:30:46 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:30:46 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:30:46 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:30:46 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items/144/decrement" for 127.0.0.1 at 2011-10-19 17:30:50 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"144"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "144"]]
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 12, "updated_at" = '2011-10-19 16:30:50.527575' WHERE "line_items"."id" = 144[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (18.4ms)
Rendered carts/_cart.html.erb (22.4ms)
Rendered line_items/decrement.js.erb (25.9ms)
Completed 200 OK in 50ms (Views: 34.9ms | ActiveRecord: 1.5ms)


Started GET "/line_items/144/decrement" for 127.0.0.1 at 2011-10-19 17:30:50 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"144"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "144"]]
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 11, "updated_at" = '2011-10-19 16:30:51.023218' WHERE "line_items"."id" = 144
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (18.5ms)
Rendered carts/_cart.html.erb (22.7ms)
Rendered line_items/decrement.js.erb (26.2ms)
Completed 200 OK in 49ms (Views: 33.6ms | ActiveRecord: 1.5ms)


Started GET "/line_items/144/decrement" for 127.0.0.1 at 2011-10-19 17:30:53 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"144"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "144"]]
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 10, "updated_at" = '2011-10-19 16:30:53.709812' WHERE "line_items"."id" = 144[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (17.9ms)
Rendered carts/_cart.html.erb (22.0ms)
Rendered line_items/decrement.js.erb (25.6ms)
Completed 200 OK in 48ms (Views: 33.1ms | ActiveRecord: 1.5ms)


Started GET "/line_items/144/decrement" for 127.0.0.1 at 2011-10-19 17:30:54 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"144"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "144"]]
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 9, "updated_at" = '2011-10-19 16:30:54.599111' WHERE "line_items"."id" = 144
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (18.3ms)
Rendered carts/_cart.html.erb (51.7ms)
Rendered line_items/decrement.js.erb (55.2ms)
Completed 200 OK in 78ms (Views: 62.6ms | ActiveRecord: 1.5ms)


Started GET "/line_items/144/decrement" for 127.0.0.1 at 2011-10-19 17:30:55 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"144"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "144"]]
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 8, "updated_at" = '2011-10-19 16:30:56.015837' WHERE "line_items"."id" = 144[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (49.5ms)
Rendered carts/_cart.html.erb (53.7ms)
Rendered line_items/decrement.js.erb (57.1ms)
Completed 200 OK in 80ms (Views: 64.5ms | ActiveRecord: 1.6ms)


Started GET "/line_items/144/decrement" for 127.0.0.1 at 2011-10-19 17:30:57 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"144"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "144"]]
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 7, "updated_at" = '2011-10-19 16:30:57.082075' WHERE "line_items"."id" = 144
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (49.4ms)
Rendered carts/_cart.html.erb (53.5ms)
Rendered line_items/decrement.js.erb (56.6ms)
Completed 200 OK in 79ms (Views: 63.9ms | ActiveRecord: 1.6ms)


Started GET "/line_items/144/decrement" for 127.0.0.1 at 2011-10-19 17:30:57 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"144"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "144"]]
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 6, "updated_at" = '2011-10-19 16:30:57.824173' WHERE "line_items"."id" = 144[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (48.9ms)
Rendered carts/_cart.html.erb (53.0ms)
Rendered line_items/decrement.js.erb (56.2ms)
Completed 200 OK in 79ms (Views: 63.6ms | ActiveRecord: 1.6ms)


Started GET "/line_items/144/decrement" for 127.0.0.1 at 2011-10-19 17:30:58 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"144"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "144"]]
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-19 16:30:58.599812' WHERE "line_items"."id" = 144
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (48.8ms)
Rendered carts/_cart.html.erb (53.0ms)
Rendered line_items/decrement.js.erb (56.9ms)
Completed 200 OK in 79ms (Views: 64.2ms | ActiveRecord: 1.6ms)


Started GET "/line_items/144/decrement" for 127.0.0.1 at 2011-10-19 17:30:59 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"144"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "144"]]
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-19 16:30:59.199000' WHERE "line_items"."id" = 144[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (49.5ms)
Rendered carts/_cart.html.erb (53.6ms)
Rendered line_items/decrement.js.erb (56.8ms)
Completed 200 OK in 79ms (Views: 64.2ms | ActiveRecord: 1.6ms)


Started GET "/line_items/144/decrement" for 127.0.0.1 at 2011-10-19 17:30:59 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"144"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "144"]]
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-19 16:30:59.703116' WHERE "line_items"."id" = 144
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (49.4ms)
Rendered carts/_cart.html.erb (53.4ms)
Rendered line_items/decrement.js.erb (56.7ms)
Completed 200 OK in 79ms (Views: 64.1ms | ActiveRecord: 1.6ms)


Started GET "/line_items/144/decrement" for 127.0.0.1 at 2011-10-19 17:31:00 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"144"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "144"]]
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-19 16:31:00.129192' WHERE "line_items"."id" = 144[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (49.4ms)
Rendered carts/_cart.html.erb (53.5ms)
Rendered line_items/decrement.js.erb (56.5ms)
Completed 200 OK in 79ms (Views: 64.0ms | ActiveRecord: 1.6ms)


Started GET "/line_items/144/decrement" for 127.0.0.1 at 2011-10-19 17:31:00 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"144"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "144"]]
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 1, "updated_at" = '2011-10-19 16:31:00.702157' WHERE "line_items"."id" = 144
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (18.5ms)
Rendered carts/_cart.html.erb (22.6ms)
Rendered line_items/decrement.js.erb (55.8ms)
Completed 200 OK in 78ms (Views: 63.3ms | ActiveRecord: 1.5ms)


Started GET "/line_items/145/decrement" for 127.0.0.1 at 2011-10-19 17:31:02 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"145"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "145"]]
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-19 16:31:02.228485' WHERE "line_items"."id" = 145[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (18.4ms)
Rendered carts/_cart.html.erb (22.5ms)
Rendered line_items/decrement.js.erb (25.9ms)
Completed 200 OK in 78ms (Views: 33.3ms | ActiveRecord: 1.6ms)


Started GET "/line_items/145/decrement" for 127.0.0.1 at 2011-10-19 17:31:02 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"145"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "145"]]
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-19 16:31:02.772348' WHERE "line_items"."id" = 145
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (18.7ms)
Rendered carts/_cart.html.erb (22.7ms)
Rendered line_items/decrement.js.erb (26.0ms)
Completed 200 OK in 79ms (Views: 33.5ms | ActiveRecord: 1.7ms)


Started GET "/line_items/145/decrement" for 127.0.0.1 at 2011-10-19 17:31:05 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"145"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "145"]]
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 1, "updated_at" = '2011-10-19 16:31:05.172904' WHERE "line_items"."id" = 145[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (18.6ms)
Rendered carts/_cart.html.erb (22.6ms)
Rendered line_items/decrement.js.erb (25.8ms)
Completed 200 OK in 79ms (Views: 33.4ms | ActiveRecord: 1.6ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-19 17:31:24 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
Rendered orders/_form.html.erb (7.7ms)
Rendered orders/new.html.erb within layouts/application (8.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (56.0ms)
Rendered carts/_cart.html.erb (59.6ms)
Completed 200 OK in 116ms (Views: 100.0ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:31:24 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:31:25 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:31:25 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:31:25 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:31:25 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:31:25 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:31:25 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:31:25 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:31:25 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:31:25 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:31:25 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/orders" for 127.0.0.1 at 2011-10-19 17:31:53 +0100
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "order"=>{"name"=>"Mark Atherton", "address"=>"35 Fogralea", "email"=>"matherton@ymail.com", "pay_type"=>"purchase order"}, "commit"=>"Place order"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 76]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "name", "pay_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "35 Fogralea"], ["created_at", Wed, 19 Oct 2011 16:31:53 UTC +00:00], ["email", "matherton@ymail.com"], ["name", "Mark Atherton"], ["pay_type", "purchase order"], ["updated_at", Wed, 19 Oct 2011 16:31:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "order_id" = 2, "updated_at" = '2011-10-19 16:31:53.449857' WHERE "line_items"."id" = 144[0m
  [1m[35m (0.0ms)[0m  UPDATE "line_items" SET "cart_id" = NULL, "order_id" = 2, "updated_at" = '2011-10-19 16:31:53.450594' WHERE "line_items"."id" = 145
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 76]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 76
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 76]]
Redirected to http://localhost:3000/
Completed 302 Found in 66ms


Started GET "/" for 127.0.0.1 at 2011-10-19 17:31:53 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 19 Oct 2011 16:31:53 UTC +00:00], ["updated_at", Wed, 19 Oct 2011 16:31:53 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77
Rendered carts/_cart.html.erb (38.9ms)
Completed 200 OK in 80ms (Views: 58.1ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:31:53 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:31:53 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:31:53 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:31:53 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:31:53 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:31:53 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:31:53 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:31:53 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:31:53 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:31:53 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:31:53 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:32:00 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
Rendered carts/_cart.html.erb (6.6ms)
Completed 200 OK in 78ms (Views: 61.6ms | ActiveRecord: 1.1ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:32:00 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:32:00 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:32:00 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:32:00 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:32:00 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:32:00 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:32:00 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:32:00 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:32:00 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:32:00 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:32:00 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:37:09 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["cart_id", 77], ["created_at", Wed, 19 Oct 2011 16:37:09 UTC +00:00], ["order_id", nil], ["product_id", 9], ["quantity", 1], ["updated_at", Wed, 19 Oct 2011 16:37:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.8ms)
Rendered carts/_cart.html.erb (6.3ms)
Rendered line_items/create.js.erb (7.4ms)
Completed 200 OK in 89ms (Views: 11.5ms | ActiveRecord: 2.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:37:12 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 77]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-19 16:37:12.497801' WHERE "line_items"."id" = 146
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.9ms)
Rendered carts/_cart.html.erb (6.1ms)
Rendered line_items/create.js.erb (6.9ms)
Completed 200 OK in 73ms (Views: 11.6ms | ActiveRecord: 1.9ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:37:13 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-19 16:37:13.360577' WHERE "line_items"."id" = 146[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.1ms)
Completed 200 OK in 72ms (Views: 10.9ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:37:13 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 77]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-19 16:37:13.623701' WHERE "line_items"."id" = 146
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.1ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 71ms (Views: 10.8ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:37:14 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-19 16:37:14.369055' WHERE "line_items"."id" = 146[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.1ms)
Completed 200 OK in 72ms (Views: 11.0ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:37:14 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 77]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 6, "updated_at" = '2011-10-19 16:37:14.667787' WHERE "line_items"."id" = 146
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.1ms)
Completed 200 OK in 72ms (Views: 40.7ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:37:15 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 7, "updated_at" = '2011-10-19 16:37:15.067793' WHERE "line_items"."id" = 146[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.2ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 42ms (Views: 10.6ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:37:23 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (38.0ms)
Rendered carts/_cart.html.erb (47.2ms)
Completed 200 OK in 86ms (Views: 68.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:37:23 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:37:23 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:23 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:23 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:23 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:23 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:23 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:23 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:23 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:23 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:37:23 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items/146/decrement" for 127.0.0.1 at 2011-10-19 17:37:26 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"146"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "146"]]
  [1m[35m (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 6, "updated_at" = '2011-10-19 16:37:26.679664' WHERE "line_items"."id" = 146
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (48.5ms)
Rendered carts/_cart.html.erb (52.6ms)
Rendered line_items/decrement.js.erb (55.7ms)
Completed 200 OK in 80ms (Views: 63.7ms | ActiveRecord: 1.5ms)


Started GET "/line_items/146/decrement" for 127.0.0.1 at 2011-10-19 17:37:27 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"146"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "146"]]
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-19 16:37:27.293253' WHERE "line_items"."id" = 146
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (47.2ms)
Rendered carts/_cart.html.erb (51.3ms)
Rendered line_items/decrement.js.erb (54.5ms)
Completed 200 OK in 77ms (Views: 62.0ms | ActiveRecord: 1.4ms)


Started GET "/line_items/146/decrement" for 127.0.0.1 at 2011-10-19 17:37:27 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"146"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "146"]]
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-19 16:37:27.551391' WHERE "line_items"."id" = 146
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (46.6ms)
Rendered carts/_cart.html.erb (50.7ms)
Rendered line_items/decrement.js.erb (53.8ms)
Completed 200 OK in 76ms (Views: 61.5ms | ActiveRecord: 1.4ms)


Started GET "/line_items/146/decrement" for 127.0.0.1 at 2011-10-19 17:37:27 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"146"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "146"]]
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-19 16:37:27.817605' WHERE "line_items"."id" = 146
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (16.9ms)
Rendered carts/_cart.html.erb (21.0ms)
Rendered line_items/decrement.js.erb (54.0ms)
Completed 200 OK in 77ms (Views: 61.7ms | ActiveRecord: 1.4ms)


Started GET "/line_items/146/decrement" for 127.0.0.1 at 2011-10-19 17:37:28 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"146"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "146"]]
  [1m[35m (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-19 16:37:28.093170' WHERE "line_items"."id" = 146
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (17.2ms)
Rendered carts/_cart.html.erb (21.2ms)
Rendered line_items/decrement.js.erb (24.3ms)
Completed 200 OK in 77ms (Views: 31.9ms | ActiveRecord: 1.5ms)


Started GET "/line_items/146/decrement" for 127.0.0.1 at 2011-10-19 17:37:35 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"146"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "146"]]
  [1m[35m (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 1, "updated_at" = '2011-10-19 16:37:35.412446' WHERE "line_items"."id" = 146
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (16.8ms)
Rendered carts/_cart.html.erb (21.2ms)
Rendered line_items/decrement.js.erb (24.5ms)
Completed 200 OK in 77ms (Views: 32.1ms | ActiveRecord: 1.4ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:37:38 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-19 16:37:38.099052' WHERE "line_items"."id" = 146[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.5ms)
Rendered line_items/create.js.erb (6.2ms)
Completed 200 OK in 73ms (Views: 10.9ms | ActiveRecord: 1.6ms)


Started GET "/line_items/146/decrement" for 127.0.0.1 at 2011-10-19 17:37:45 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"146"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 77]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "146"]]
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 1, "updated_at" = '2011-10-19 16:37:45.613910' WHERE "line_items"."id" = 146[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (17.3ms)
Rendered carts/_cart.html.erb (21.4ms)
Rendered line_items/decrement.js.erb (24.9ms)
Completed 200 OK in 79ms (Views: 32.4ms | ActiveRecord: 1.5ms)


Started GET "/line_items/146/decrement" for 127.0.0.1 at 2011-10-19 17:37:46 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"146"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 77]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "146"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 146]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77
Rendered carts/_cart.html.erb (1.7ms)
Rendered line_items/decrement.js.erb (4.7ms)
Completed 200 OK in 57ms (Views: 12.8ms | ActiveRecord: 1.1ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:37:51 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 77]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 77], ["created_at", Wed, 19 Oct 2011 16:37:51 UTC +00:00], ["order_id", nil], ["product_id", 9], ["quantity", 1], ["updated_at", Wed, 19 Oct 2011 16:37:51 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.6ms)
Rendered carts/_cart.html.erb (6.1ms)
Rendered line_items/create.js.erb (6.9ms)
Completed 200 OK in 74ms (Views: 11.6ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:37:53 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 77]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.2ms)
Rendered carts/_cart.html.erb (49.3ms)
Completed 200 OK in 87ms (Views: 70.1ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:37:54 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:54 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:54 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:54 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:54 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:54 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:54 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:37:54 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:54 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:54 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:37:54 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:37:55 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 77]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-19 16:37:56.069856' WHERE "line_items"."id" = 147
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.9ms)
Rendered carts/_cart.html.erb (5.2ms)
Rendered line_items/create.js.erb (6.0ms)
Completed 200 OK in 75ms (Views: 10.7ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:37:57 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 77]]
Rendered store/index.html.erb within layouts/application (40.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.1ms)
Rendered carts/_cart.html.erb (16.6ms)
Completed 200 OK in 87ms (Views: 69.3ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:37:57 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (2.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:57 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:37:57 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:58 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:58 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:58 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:58 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:58 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:58 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:37:58 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:37:58 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:38:14 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
Rendered store/index.html.erb within layouts/application (10.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.8ms)
Rendered carts/_cart.html.erb (16.3ms)
Completed 200 OK in 89ms (Views: 38.1ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:38:14 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:38:14 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:14 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:14 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:14 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:14 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:14 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:14 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:14 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:14 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:38:14 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:38:16 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-19 16:38:16.653476' WHERE "line_items"."id" = 147[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.3ms)
Rendered carts/_cart.html.erb (5.7ms)
Rendered line_items/create.js.erb (6.4ms)
Completed 200 OK in 43ms (Views: 11.1ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:38:17 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 77]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-19 16:38:17.723087' WHERE "line_items"."id" = 147
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.1ms)
Completed 200 OK in 42ms (Views: 10.7ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:38:20 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-19 16:38:20.794845' WHERE "line_items"."id" = 147[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.5ms)
Rendered carts/_cart.html.erb (7.3ms)
Rendered line_items/create.js.erb (8.1ms)
Completed 200 OK in 50ms (Views: 14.2ms | ActiveRecord: 1.9ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:38:21 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 77]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 6, "updated_at" = '2011-10-19 16:38:21.251156' WHERE "line_items"."id" = 147
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.2ms)
Rendered line_items/create.js.erb (5.9ms)
Completed 200 OK in 43ms (Views: 10.7ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-19 17:38:23 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["cart_id", 77], ["created_at", Wed, 19 Oct 2011 16:38:23 UTC +00:00], ["order_id", nil], ["product_id", 7], ["quantity", 1], ["updated_at", Wed, 19 Oct 2011 16:38:23 UTC +00:00]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.5ms)
Rendered carts/_cart.html.erb (7.3ms)
Rendered line_items/create.js.erb (8.1ms)
Completed 200 OK in 77ms (Views: 12.5ms | ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:38:26 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 77]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.8ms)
Rendered carts/_cart.html.erb (17.2ms)
Completed 200 OK in 89ms (Views: 38.9ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:38:26 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:26 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:26 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:26 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:38:26 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:26 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:26 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:26 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:26 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:26 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:38:26 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:38:29 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 7, "updated_at" = '2011-10-19 16:38:29.152445' WHERE "line_items"."id" = 147[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.3ms)
Rendered carts/_cart.html.erb (6.5ms)
Rendered line_items/create.js.erb (7.2ms)
Completed 200 OK in 44ms (Views: 11.9ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:38:31 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 77]]
Rendered store/index.html.erb within layouts/application (10.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 77
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.6ms)
Rendered carts/_cart.html.erb (16.9ms)
Completed 200 OK in 55ms (Views: 38.9ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:38:31 +0100
Served asset /scaffold.css - 404 Not Found (34ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:31 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:31 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:31 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:31 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:31 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:31 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:38:31 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:31 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:31 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:38:31 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/77" for 127.0.0.1 at 2011-10-19 17:38:49 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "id"=>"77"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 77]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 77[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 147]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 148]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 77]]
Redirected to http://localhost:3000/
Completed 302 Found in 17ms


Started GET "/" for 127.0.0.1 at 2011-10-19 17:38:49 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 19 Oct 2011 16:38:49 UTC +00:00], ["updated_at", Wed, 19 Oct 2011 16:38:49 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 78[0m
Rendered carts/_cart.html.erb (6.7ms)
Completed 200 OK in 81ms (Views: 26.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:49 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:49 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:38:49 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:49 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:49 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:49 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:49 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:49 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:49 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:38:49 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:38:49 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:38:52 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 78]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 78
Rendered carts/_cart.html.erb (6.5ms)
Completed 200 OK in 45ms (Views: 28.5ms | ActiveRecord: 1.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:38:52 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:52 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:52 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:52 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:52 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:38:52 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:52 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:52 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:52 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:38:52 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:38:52 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:38:54 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 78]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 78 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 78], ["created_at", Wed, 19 Oct 2011 16:38:54 UTC +00:00], ["order_id", nil], ["product_id", 9], ["quantity", 1], ["updated_at", Wed, 19 Oct 2011 16:38:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 78[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 78
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.4ms)
Rendered carts/_cart.html.erb (6.0ms)
Rendered line_items/create.js.erb (7.0ms)
Completed 200 OK in 46ms (Views: 11.7ms | ActiveRecord: 2.0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:38:59 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 78]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 78 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-19 16:38:59.743925' WHERE "line_items"."id" = 149[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 78
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 78[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.6ms)
Rendered carts/_cart.html.erb (5.8ms)
Rendered line_items/create.js.erb (6.6ms)
Completed 200 OK in 43ms (Views: 11.3ms | ActiveRecord: 1.5ms)


Started GET "/line_items/149/decrement" for 127.0.0.1 at 2011-10-19 17:39:02 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"149"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 78]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "149"]]
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 1, "updated_at" = '2011-10-19 16:39:02.131514' WHERE "line_items"."id" = 149[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 78
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 78[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (17.3ms)
Rendered carts/_cart.html.erb (21.4ms)
Rendered line_items/decrement.js.erb (25.8ms)
Completed 200 OK in 49ms (Views: 33.5ms | ActiveRecord: 1.4ms)


Started GET "/line_items/149/decrement" for 127.0.0.1 at 2011-10-19 17:39:03 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"149"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 78]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "149"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 149]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 78
Rendered carts/_cart.html.erb (1.7ms)
Rendered line_items/decrement.js.erb (5.1ms)
Completed 200 OK in 27ms (Views: 13.1ms | ActiveRecord: 1.0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:39:31 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 78]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 78 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 78], ["created_at", Wed, 19 Oct 2011 16:39:31 UTC +00:00], ["order_id", nil], ["product_id", 9], ["quantity", 1], ["updated_at", Wed, 19 Oct 2011 16:39:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 78[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 78
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.7ms)
Rendered carts/_cart.html.erb (6.2ms)
Rendered line_items/create.js.erb (6.9ms)
Completed 200 OK in 77ms (Views: 11.4ms | ActiveRecord: 2.0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-19 17:39:37 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 78]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 78[0m
Rendered orders/_form.html.erb (7.6ms)
Rendered orders/new.html.erb within layouts/application (8.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 78
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 78[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (22.0ms)
Rendered carts/_cart.html.erb (25.6ms)
Completed 200 OK in 90ms (Views: 43.0ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:39:38 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:39:38 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:39:38 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:39:38 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:39:38 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:39:38 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:39:38 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:39:38 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:39:38 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:39:38 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:39:38 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/orders" for 127.0.0.1 at 2011-10-19 17:40:20 +0100
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "order"=>{"name"=>"Test", "address"=>"Test", "email"=>"test@test.co.uk", "pay_type"=>"check"}, "commit"=>"Place order"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 78]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 78
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("address", "created_at", "email", "name", "pay_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "Test"], ["created_at", Wed, 19 Oct 2011 16:40:20 UTC +00:00], ["email", "test@test.co.uk"], ["name", "Test"], ["pay_type", "check"], ["updated_at", Wed, 19 Oct 2011 16:40:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  UPDATE "line_items" SET "cart_id" = NULL, "order_id" = 3, "updated_at" = '2011-10-19 16:40:20.197000' WHERE "line_items"."id" = 150
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 78]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 78
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 78]]
Redirected to http://localhost:3000/
Completed 302 Found in 42ms


Started GET "/" for 127.0.0.1 at 2011-10-19 17:40:20 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 19 Oct 2011 16:40:20 UTC +00:00], ["updated_at", Wed, 19 Oct 2011 16:40:20 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79
Rendered carts/_cart.html.erb (6.8ms)
Completed 200 OK in 83ms (Views: 62.8ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:40:20 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:40:20 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:40:20 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:40:20 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:40:20 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:40:20 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:40:20 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:40:20 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:40:20 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:40:20 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:40:20 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:40:25 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 79]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 79], ["created_at", Wed, 19 Oct 2011 16:40:25 UTC +00:00], ["order_id", nil], ["product_id", 9], ["quantity", 1], ["updated_at", Wed, 19 Oct 2011 16:40:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.7ms)
Rendered line_items/create.js.erb (6.5ms)
Completed 200 OK in 43ms (Views: 11.2ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:40:31 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 79]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (36.8ms)
Rendered carts/_cart.html.erb (46.2ms)
Completed 200 OK in 86ms (Views: 70.3ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:40:32 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:40:32 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:40:32 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:40:32 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:40:32 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:40:32 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:40:32 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:40:32 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:40:32 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:40:32 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:40:32 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:42:32 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
Rendered store/index.html.erb within layouts/application (9.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.7ms)
Rendered carts/_cart.html.erb (16.1ms)
Completed 200 OK in 89ms (Views: 70.1ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:42:32 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:42:32 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:42:32 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:42:32 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:42:32 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:42:32 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:42:32 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:42:32 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:42:32 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:42:32 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:42:32 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:42:35 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-19 16:42:35.609800' WHERE "line_items"."id" = 151[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.3ms)
Rendered carts/_cart.html.erb (5.7ms)
Rendered line_items/create.js.erb (6.8ms)
Completed 200 OK in 82ms (Views: 11.7ms | ActiveRecord: 1.8ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:42:37 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 79]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-19 16:42:37.236333' WHERE "line_items"."id" = 151
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.4ms)
Rendered line_items/create.js.erb (6.2ms)
Completed 200 OK in 73ms (Views: 11.0ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:42:39 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-19 16:42:39.562741' WHERE "line_items"."id" = 151[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.5ms)
Rendered carts/_cart.html.erb (5.8ms)
Rendered line_items/create.js.erb (6.5ms)
Completed 200 OK in 76ms (Views: 11.2ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:42:40 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
Rendered store/index.html.erb within layouts/application (39.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.8ms)
Rendered carts/_cart.html.erb (16.2ms)
Completed 200 OK in 86ms (Views: 67.6ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:42:41 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:42:41 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:42:41 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:42:41 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:42:41 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:42:41 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:42:41 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:42:41 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:42:41 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:42:41 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:42:41 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:43:43 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-19 16:43:43.888865' WHERE "line_items"."id" = 151[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.5ms)
Rendered line_items/create.js.erb (6.3ms)
Completed 200 OK in 75ms (Views: 11.2ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:43:45 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
Rendered store/index.html.erb within layouts/application (11.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.8ms)
Rendered carts/_cart.html.erb (16.0ms)
Completed 200 OK in 87ms (Views: 38.4ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:43:45 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:43:45 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:43:45 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:43:45 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:43:45 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:43:45 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:43:45 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:43:45 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:43:45 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:43:45 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:43:46 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:44:46 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 79]]
Rendered store/index.html.erb within layouts/application (10.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (37.5ms)
Rendered carts/_cart.html.erb (47.0ms)
Completed 200 OK in 85ms (Views: 69.1ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:44:46 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:44:46 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:44:46 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:44:46 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:44:46 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:44:46 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:44:46 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:44:46 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:44:46 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:44:46 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:44:46 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:44:48 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.8ms)
Rendered carts/_cart.html.erb (16.4ms)
Completed 200 OK in 87ms (Views: 69.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:44:48 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (6.2ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:44:48 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:44:48 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:44:48 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:44:48 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:44:48 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:44:48 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:44:48 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:44:48 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:44:48 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:44:48 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items/151/decrement" for 127.0.0.1 at 2011-10-19 17:44:50 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"151"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "151"]]
  [1m[35m (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-19 16:44:50.724739' WHERE "line_items"."id" = 151
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (17.6ms)
Rendered carts/_cart.html.erb (23.5ms)
Rendered line_items/decrement.js.erb (27.7ms)
Completed 200 OK in 83ms (Views: 35.3ms | ActiveRecord: 1.5ms)


Started GET "/line_items/151/decrement" for 127.0.0.1 at 2011-10-19 17:44:51 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"151"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "151"]]
  [1m[35m (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-19 16:44:51.506460' WHERE "line_items"."id" = 151
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (17.2ms)
Rendered carts/_cart.html.erb (21.3ms)
Rendered line_items/decrement.js.erb (24.4ms)
Completed 200 OK in 76ms (Views: 32.0ms | ActiveRecord: 1.4ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:44:52 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-19 16:44:53.001400' WHERE "line_items"."id" = 151[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.3ms)
Rendered line_items/create.js.erb (6.4ms)
Completed 200 OK in 73ms (Views: 11.0ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-19 17:48:06 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
Rendered store/index.html.erb within layouts/application (12.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.7ms)
Rendered carts/_cart.html.erb (16.1ms)
Completed 200 OK in 91ms (Views: 40.3ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-19 17:48:06 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (2.7ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-19 17:48:06 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-19 17:48:06 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-19 17:48:06 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-19 17:48:06 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-19 17:48:06 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-19 17:48:06 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-19 17:48:06 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-19 17:48:06 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-19 17:48:06 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-19 17:48:07 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:48:08 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-19 16:48:08.612454' WHERE "line_items"."id" = 151[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.3ms)
Rendered carts/_cart.html.erb (5.6ms)
Rendered line_items/create.js.erb (6.6ms)
Completed 200 OK in 43ms (Views: 11.3ms | ActiveRecord: 1.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-19 17:48:12 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 79]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 6, "updated_at" = '2011-10-19 16:48:12.816342' WHERE "line_items"."id" = 151
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.9ms)
Rendered carts/_cart.html.erb (5.0ms)
Rendered line_items/create.js.erb (5.7ms)
Completed 200 OK in 42ms (Views: 10.4ms | ActiveRecord: 1.5ms)


Started GET "/line_items/151/decrement" for 127.0.0.1 at 2011-10-19 17:48:19 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"151"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "151"]]
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 5, "updated_at" = '2011-10-19 16:48:19.798187' WHERE "line_items"."id" = 151
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (25.9ms)
Rendered carts/_cart.html.erb (30.0ms)
Rendered line_items/decrement.js.erb (33.3ms)
Completed 200 OK in 56ms (Views: 40.9ms | ActiveRecord: 1.4ms)


Started GET "/line_items/151/decrement" for 127.0.0.1 at 2011-10-19 17:48:21 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"151"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "151"]]
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2011-10-19 16:48:21.352629' WHERE "line_items"."id" = 151
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (16.9ms)
Rendered carts/_cart.html.erb (21.0ms)
Rendered line_items/decrement.js.erb (24.3ms)
Completed 200 OK in 47ms (Views: 32.0ms | ActiveRecord: 1.4ms)


Started GET "/line_items/151/decrement" for 127.0.0.1 at 2011-10-19 17:48:23 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"151"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "151"]]
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-19 16:48:24.032558' WHERE "line_items"."id" = 151
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (16.5ms)
Rendered carts/_cart.html.erb (20.8ms)
Rendered line_items/decrement.js.erb (24.5ms)
Completed 200 OK in 47ms (Views: 32.1ms | ActiveRecord: 1.4ms)


Started GET "/line_items/151/decrement" for 127.0.0.1 at 2011-10-19 17:48:25 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"151"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "151"]]
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-19 16:48:25.760284' WHERE "line_items"."id" = 151
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (16.6ms)
Rendered carts/_cart.html.erb (20.7ms)
Rendered line_items/decrement.js.erb (24.0ms)
Completed 200 OK in 46ms (Views: 31.6ms | ActiveRecord: 1.4ms)


Started GET "/line_items/151/decrement" for 127.0.0.1 at 2011-10-19 17:48:26 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"151"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "151"]]
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 1, "updated_at" = '2011-10-19 16:48:26.918123' WHERE "line_items"."id" = 151
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (46.3ms)
Rendered carts/_cart.html.erb (50.6ms)
Rendered line_items/decrement.js.erb (54.2ms)
Completed 200 OK in 77ms (Views: 61.7ms | ActiveRecord: 1.4ms)


Started GET "/products/3/who_bought.atom" for 127.0.0.1 at 2011-10-20 11:45:13 +0100

SyntaxError (/Users/mark/work/depot/app/controllers/products_controller.rb:86: syntax error, unexpected tIDENTIFIER, expecting keyword_end
    @product = Product.find(params[:id]) respond_to do |format|
                                                   ^):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (4.1ms)


Started GET "/products/3/who_bought.atom" for 127.0.0.1 at 2011-10-20 11:52:58 +0100

SyntaxError (/Users/mark/work/depot/app/controllers/products_controller.rb:86: syntax error, unexpected tIDENTIFIER, expecting keyword_end
    @product = Product.find(params[:id]) respond_to do |format|
                                                   ^):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.8ms)


Started GET "/products/3/who_bought.atom" for 127.0.0.1 at 2011-10-20 11:56:49 +0100
  Processing by ProductsController#who_bought as ATOM
  Parameters: {"id"=>"3"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "3"]]
Completed 404 Not Found in 2ms

ActiveRecord::RecordNotFound (Couldn't find Product with id=3):
  app/controllers/products_controller.rb:86:in `who_bought'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.5ms)


Started GET "/products/3/who_bought.atom" for 127.0.0.1 at 2011-10-20 12:02:05 +0100
  Processing by ProductsController#who_bought as ATOM
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "3"]]
Completed 404 Not Found in 2ms

ActiveRecord::RecordNotFound (Couldn't find Product with id=3):
  app/controllers/products_controller.rb:87:in `who_bought'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.7ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 12:09:54 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
Rendered orders/_form.html.erb (8.7ms)
Rendered orders/new.html.erb within layouts/application (9.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (55.0ms)
Rendered carts/_cart.html.erb (58.4ms)
Completed 200 OK in 146ms (Views: 129.4ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 12:09:54 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 12:09:54 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 12:09:54 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 12:09:54 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 12:09:54 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 12:09:54 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 12:09:54 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 12:09:54 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 12:09:54 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 12:09:54 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 12:09:54 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/orders" for 127.0.0.1 at 2011-10-20 12:10:02 +0100
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>"check"}, "commit"=>"Place order"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 79]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
Rendered orders/_form.html.erb (4.2ms)
Rendered orders/new.html.erb within layouts/application (4.8ms)
Completed 200 OK in 41ms (Views: 12.6ms | ActiveRecord: 1.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 12:10:03 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 12:10:03 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 12:10:03 +0100
Served asset /products.js - 304 Not Modified (2ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 12:10:03 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 12:10:03 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 12:10:03 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 12:10:03 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 12:10:03 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 12:10:03 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 12:10:03 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 12:10:03 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 12:10:12 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.6ms)
Rendered carts/_cart.html.erb (15.7ms)
Completed 200 OK in 93ms (Views: 37.0ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 12:10:12 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 12:10:12 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 12:10:12 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 12:10:12 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 12:10:12 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 12:10:12 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 12:10:12 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 12:10:12 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 12:10:12 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 12:10:12 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 12:10:12 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/3/who_bought.atom" for 127.0.0.1 at 2011-10-20 12:12:18 +0100
  Processing by ProductsController#who_bought as ATOM
  Parameters: {"id"=>"3"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "3"]]
Completed 404 Not Found in 2ms

ActiveRecord::RecordNotFound (Couldn't find Product with id=3):
  app/controllers/products_controller.rb:87:in `who_bought'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.4ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 12:45:28 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (11.7ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
Rendered store/index.html.erb within layouts/application (94.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (11.6ms)
Rendered carts/_cart.html.erb (92.9ms)
Completed 200 OK in 440ms (Views: 385.3ms | ActiveRecord: 13.3ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 12:45:29 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 12:45:29 +0100
Served asset /orders.js - 304 Not Modified (1ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 12:45:29 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 12:45:29 +0100
Served asset /jquery_ujs.js - 304 Not Modified (3ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 12:45:29 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 12:45:29 +0100
Served asset /line_items.js - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 12:45:29 +0100
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 12:45:29 +0100
Served asset /products.js - 304 Not Modified (1ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 12:45:29 +0100
Served asset /store.js - 304 Not Modified (5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 12:45:29 +0100
Served asset /carts.js - 304 Not Modified (1ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 12:45:29 +0100
Served asset /logo.png - 304 Not Modified (27ms)


Started GET "/orders" for 127.0.0.1 at 2011-10-20 14:49:40 +0100
  Processing by OrdersController#index as HTML
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Rendered orders/index.html.erb within layouts/application (58.9ms)
Completed 200 OK in 157ms (Views: 156.4ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 14:49:42 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 14:49:43 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 14:49:43 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 14:49:43 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 14:49:43 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 14:49:43 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 14:49:43 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 14:49:43 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 14:49:43 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 14:49:43 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 14:49:43 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 14:50:59 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.0ms)
Rendered carts/_cart.html.erb (35.8ms)
Completed 200 OK in 149ms (Views: 57.9ms | ActiveRecord: 1.9ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 14:50:59 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 14:50:59 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 14:50:59 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 14:50:59 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 14:50:59 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 14:50:59 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 14:51:00 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 14:51:00 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 14:51:00 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 14:51:00 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 14:51:00 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-20 14:51:06 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36mSQL (10.7ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["cart_id", 79], ["created_at", Thu, 20 Oct 2011 13:51:06 UTC +00:00], ["order_id", nil], ["product_id", 7], ["quantity", 1], ["updated_at", Thu, 20 Oct 2011 13:51:06 UTC +00:00]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.5ms)
Rendered carts/_cart.html.erb (7.8ms)
Rendered line_items/create.js.erb (9.2ms)
Completed 200 OK in 165ms (Views: 90.7ms | ActiveRecord: 12.2ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 14:51:10 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
Rendered orders/_form.html.erb (8.8ms)
Rendered orders/new.html.erb within layouts/application (10.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (21.6ms)
Rendered carts/_cart.html.erb (59.1ms)
Completed 200 OK in 122ms (Views: 105.3ms | ActiveRecord: 1.8ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 14:51:11 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 14:51:11 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 14:51:11 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 14:51:11 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 14:51:11 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 14:51:11 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 14:51:11 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 14:51:11 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 14:51:11 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 14:51:11 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 14:51:11 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/orders" for 127.0.0.1 at 2011-10-20 14:52:22 +0100
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "order"=>{"name"=>"Banna Man", "address"=>"15 Archadia Street", "email"=>"banman@hotmail.com", "pay_type"=>"credit card"}, "commit"=>"Place order"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 79]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "name", "pay_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "15 Archadia Street"], ["created_at", Thu, 20 Oct 2011 13:52:22 UTC +00:00], ["email", "banman@hotmail.com"], ["name", "Banna Man"], ["pay_type", "credit card"], ["updated_at", Thu, 20 Oct 2011 13:52:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "order_id" = 4, "updated_at" = '2011-10-20 13:52:22.709257' WHERE "line_items"."id" = 151[0m
  [1m[35m (0.0ms)[0m  UPDATE "line_items" SET "cart_id" = NULL, "order_id" = 4, "updated_at" = '2011-10-20 13:52:22.710651' WHERE "line_items"."id" = 152
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 79]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 79
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 79]]
Redirected to http://localhost:3000/
Completed 302 Found in 34ms


Started GET "/" for 127.0.0.1 at 2011-10-20 14:52:22 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Thu, 20 Oct 2011 13:52:22 UTC +00:00], ["updated_at", Thu, 20 Oct 2011 13:52:22 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 80
Rendered carts/_cart.html.erb (6.5ms)
Completed 200 OK in 80ms (Views: 26.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 14:52:22 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 14:52:22 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 14:52:22 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 14:52:22 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 14:52:22 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 14:52:22 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 14:52:22 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 14:52:22 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 14:52:22 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 14:52:22 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 14:52:23 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-20 14:52:33 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 80]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 80 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 80], ["created_at", Thu, 20 Oct 2011 13:52:33 UTC +00:00], ["order_id", nil], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 20 Oct 2011 13:52:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 80[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 80
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (1.9ms)
Rendered carts/_cart.html.erb (5.5ms)
Rendered line_items/create.js.erb (6.2ms)
Completed 200 OK in 45ms (Views: 11.0ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 14:52:37 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 80]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 80
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 80[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.6ms)
Rendered carts/_cart.html.erb (15.7ms)
Completed 200 OK in 89ms (Views: 38.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 14:52:37 +0100
Served asset /scaffold.css - 404 Not Found (6ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (30.1ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 14:52:37 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 14:52:37 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 14:52:37 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 14:52:37 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 14:52:37 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 14:52:37 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 14:52:37 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 14:52:37 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 14:52:37 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 14:52:38 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items/153/decrement" for 127.0.0.1 at 2011-10-20 14:52:49 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"153"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 80]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "153"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 153]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 80
Rendered carts/_cart.html.erb (1.7ms)
Rendered line_items/decrement.js.erb (5.2ms)
Completed 200 OK in 28ms (Views: 14.7ms | ActiveRecord: 1.0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-20 14:52:55 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 80]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 80 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 80], ["created_at", Thu, 20 Oct 2011 13:52:55 UTC +00:00], ["order_id", nil], ["product_id", 7], ["quantity", 1], ["updated_at", Thu, 20 Oct 2011 13:52:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 80[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 80
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.1ms)
Rendered carts/_cart.html.erb (5.8ms)
Rendered line_items/create.js.erb (6.5ms)
Completed 200 OK in 46ms (Views: 11.3ms | ActiveRecord: 1.8ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 14:53:00 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 80]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 80[0m
Rendered orders/_form.html.erb (7.5ms)
Rendered orders/new.html.erb within layouts/application (8.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 80
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 80[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (52.6ms)
Rendered carts/_cart.html.erb (56.1ms)
Completed 200 OK in 89ms (Views: 73.4ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 14:53:00 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 14:53:00 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 14:53:00 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 14:53:00 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 14:53:00 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 14:53:00 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 14:53:00 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 14:53:00 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 14:53:00 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 14:53:00 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 14:53:00 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/orders" for 127.0.0.1 at 2011-10-20 14:54:21 +0100
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "order"=>{"name"=>"Wilfred Jones", "address"=>"77 Battersea Park Road\r\nLondon\r\nSE1 0NP ", "email"=>"willy@gmail.com", "pay_type"=>"credit card"}, "commit"=>"Place order"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 80]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 80
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "orders" ("address", "created_at", "email", "name", "pay_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "77 Battersea Park Road\r\nLondon\r\nSE1 0NP "], ["created_at", Thu, 20 Oct 2011 13:54:22 UTC +00:00], ["email", "willy@gmail.com"], ["name", "Wilfred Jones"], ["pay_type", "credit card"], ["updated_at", Thu, 20 Oct 2011 13:54:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  UPDATE "line_items" SET "cart_id" = NULL, "order_id" = 5, "updated_at" = '2011-10-20 13:54:22.064054' WHERE "line_items"."id" = 154
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 80]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 80
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 80]]
Redirected to http://localhost:3000/
Completed 302 Found in 67ms


Started GET "/" for 127.0.0.1 at 2011-10-20 14:54:22 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Thu, 20 Oct 2011 13:54:22 UTC +00:00], ["updated_at", Thu, 20 Oct 2011 13:54:22 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 81
Rendered carts/_cart.html.erb (6.8ms)
Completed 200 OK in 141ms (Views: 116.6ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 14:54:22 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 14:54:22 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 14:54:22 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 14:54:22 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 14:54:22 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 14:54:22 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 14:54:22 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 14:54:22 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 14:54:22 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 14:54:22 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 14:54:22 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders" for 127.0.0.1 at 2011-10-20 14:54:35 +0100
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Rendered orders/index.html.erb within layouts/application (12.8ms)
Completed 200 OK in 54ms (Views: 52.6ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 14:54:36 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 14:54:36 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 14:54:36 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 14:54:36 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 14:54:36 +0100
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 14:54:36 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 14:54:36 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 14:54:36 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 14:54:36 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 14:54:36 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 14:54:36 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 14:55:32 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 81]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 81
Rendered carts/_cart.html.erb (39.7ms)
Completed 200 OK in 81ms (Views: 61.2ms | ActiveRecord: 1.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 14:55:32 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 14:55:32 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 14:55:32 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 14:55:32 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 14:55:32 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 14:55:32 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 14:55:32 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 14:55:32 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 14:55:32 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 14:55:32 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 14:55:32 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders" for 127.0.0.1 at 2011-10-20 15:17:31 +0100
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Rendered orders/index.html.erb within layouts/application (43.5ms)
Completed 200 OK in 79ms (Views: 77.6ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 15:17:31 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 15:17:31 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 15:17:31 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 15:17:31 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 15:17:31 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 15:17:31 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 15:17:31 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 15:17:31 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 15:17:31 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 15:17:31 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 15:17:31 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders" for 127.0.0.1 at 2011-10-20 15:42:01 +0100
  Processing by OrdersController#index as HTML
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Rendered orders/index.html.erb within layouts/application (12.6ms)
Completed 200 OK in 53ms (Views: 52.1ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 15:42:02 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (39.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 15:42:02 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 15:42:02 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 15:42:02 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 15:42:02 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 15:42:02 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 15:42:02 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 15:42:02 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 15:42:02 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 15:42:02 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 15:42:02 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/3/who_bought.atom" for 127.0.0.1 at 2011-10-20 15:43:22 +0100
  Processing by ProductsController#who_bought as ATOM
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "3"]]
Completed 404 Not Found in 2ms

ActiveRecord::RecordNotFound (Couldn't find Product with id=3):
  app/controllers/products_controller.rb:87:in `who_bought'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (5.1ms)


Started GET "/products/3" for 127.0.0.1 at 2011-10-20 15:51:21 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "3"]]
Completed 404 Not Found in 2ms

ActiveRecord::RecordNotFound (Couldn't find Product with id=3):
  app/controllers/products_controller.rb:16:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.7ms)


Started GET "/products/1" for 127.0.0.1 at 2011-10-20 15:51:31 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "1"]]
Completed 404 Not Found in 2ms

ActiveRecord::RecordNotFound (Couldn't find Product with id=1):
  app/controllers/products_controller.rb:16:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.7ms)


Started GET "/products/2" for 127.0.0.1 at 2011-10-20 15:51:37 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "2"]]
Completed 404 Not Found in 2ms

ActiveRecord::RecordNotFound (Couldn't find Product with id=2):
  app/controllers/products_controller.rb:16:in `show'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.4ms)


Started GET "/products/" for 127.0.0.1 at 2011-10-20 15:51:53 +0100
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered products/index.html.erb within layouts/application (185.6ms)
Completed 200 OK in 298ms (Views: 296.4ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 15:51:53 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 15:51:54 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 15:51:54 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 15:51:54 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 15:51:54 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 15:51:54 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 15:51:54 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 15:51:54 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 15:51:54 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 15:51:54 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 15:51:54 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/7" for 127.0.0.1 at 2011-10-20 15:52:15 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
Rendered products/show.html.erb within layouts/application (8.7ms)
Completed 200 OK in 38ms (Views: 36.2ms | ActiveRecord: 0.3ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 15:52:16 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 15:52:16 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 15:52:16 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 15:52:16 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 15:52:16 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 15:52:16 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 15:52:16 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 15:52:16 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 15:52:16 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 15:52:16 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 15:52:16 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/7/who_bought" for 127.0.0.1 at 2011-10-20 15:52:42 +0100
  Processing by ProductsController#who_bought as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
Completed 406 Not Acceptable in 2ms


Started GET "/products/7/who_bought.json" for 127.0.0.1 at 2011-10-20 15:52:54 +0100
  Processing by ProductsController#who_bought as JSON
  Parameters: {"id"=>"7"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mOrder Load (19.6ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "line_items" ON "orders"."id" = "line_items"."order_id" WHERE "line_items"."product_id" = 7[0m
Completed 200 OK in 472ms (Views: 1.5ms | ActiveRecord: 23.7ms)


Started GET "/products/7/who_bought.xml" for 127.0.0.1 at 2011-10-20 15:54:39 +0100
  Processing by ProductsController#who_bought as XML
  Parameters: {"id"=>"7"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
Completed 406 Not Acceptable in 2ms


Started GET "/products/7/who_bought" for 127.0.0.1 at 2011-10-20 15:56:00 +0100
  Processing by ProductsController#who_bought as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
Completed 406 Not Acceptable in 2ms


Started GET "/products/7" for 127.0.0.1 at 2011-10-20 16:27:43 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
Rendered products/show.html.erb within layouts/application (5.9ms)
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:27:43 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:27:43 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:27:43 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:27:43 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:27:43 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:27:43 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:27:43 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:27:43 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:27:43 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:27:43 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:27:43 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/6" for 127.0.0.1 at 2011-10-20 16:27:51 +0100
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "6"]]
Rendered products/show.html.erb within layouts/application (5.8ms)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.3ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:27:51 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:27:51 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:27:51 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:27:51 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:27:51 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:27:51 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:27:51 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:27:51 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:27:51 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:27:51 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:27:51 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 16:29:43 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 81]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 81
Rendered carts/_cart.html.erb (49.5ms)
Completed 200 OK in 122ms (Views: 83.2ms | ActiveRecord: 1.3ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:29:44 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:29:44 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:29:44 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:29:44 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:29:44 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:29:44 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:29:44 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:29:44 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:29:44 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:29:44 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:29:44 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-20 16:29:48 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 81]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 81 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 81], ["created_at", Thu, 20 Oct 2011 15:29:48 UTC +00:00], ["order_id", nil], ["product_id", 7], ["quantity", 1], ["updated_at", Thu, 20 Oct 2011 15:29:48 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 81[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 81
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (16.8ms)
Rendered line_items/create.js.erb (17.6ms)
Completed 200 OK in 98ms (Views: 31.3ms | ActiveRecord: 2.0ms)


Started GET "/line_items/155/decrement" for 127.0.0.1 at 2011-10-20 16:29:52 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"155"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 81]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "155"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 155]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 81[0m
Rendered carts/_cart.html.erb (1.8ms)
Rendered line_items/decrement.js.erb (4.9ms)
Completed 200 OK in 80ms (Views: 66.0ms | ActiveRecord: 1.0ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-20 16:29:57 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"5"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 81]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "5"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 81 AND "line_items"."product_id" = 5 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["cart_id", 81], ["created_at", Thu, 20 Oct 2011 15:29:57 UTC +00:00], ["order_id", nil], ["product_id", 5], ["quantity", 1], ["updated_at", Thu, 20 Oct 2011 15:29:57 UTC +00:00]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 81
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 81[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.9ms)
Rendered carts/_cart.html.erb (8.7ms)
Rendered line_items/create.js.erb (10.0ms)
Completed 200 OK in 65ms (Views: 16.3ms | ActiveRecord: 2.4ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-20 16:30:01 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 81]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 81 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 81], ["created_at", Thu, 20 Oct 2011 15:30:01 UTC +00:00], ["order_id", nil], ["product_id", 7], ["quantity", 1], ["updated_at", Thu, 20 Oct 2011 15:30:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 81[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 81
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.9ms)
Rendered carts/_cart.html.erb (6.6ms)
Rendered line_items/create.js.erb (7.3ms)
Completed 200 OK in 52ms (Views: 12.4ms | ActiveRecord: 1.9ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 16:30:05 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 81]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 81
Rendered orders/_form.html.erb (7.7ms)
Rendered orders/new.html.erb within layouts/application (17.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 81[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 81
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (57.0ms)
Rendered carts/_cart.html.erb (60.6ms)
Completed 200 OK in 107ms (Views: 90.4ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:30:05 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:30:05 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:30:05 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:30:05 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:30:05 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:30:05 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:30:05 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:30:05 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:30:05 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:30:05 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:30:05 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 16:30:08 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 81]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 81
Rendered orders/_form.html.erb (7.7ms)
Rendered orders/new.html.erb within layouts/application (8.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 81[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 81
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (24.7ms)
Rendered carts/_cart.html.erb (28.2ms)
Completed 200 OK in 94ms (Views: 45.1ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:30:08 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:30:08 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:30:08 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:30:09 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:30:09 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:30:09 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:30:09 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:30:09 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:30:09 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:30:09 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:30:09 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/orders" for 127.0.0.1 at 2011-10-20 16:31:26 +0100
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "order"=>{"name"=>"Chris Eubank", "address"=>"55 Brindley Place", "email"=>"chrideu@bizzare.net", "pay_type"=>"purchase order"}, "commit"=>"Place order"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 81]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 81
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("address", "created_at", "email", "name", "pay_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "55 Brindley Place"], ["created_at", Thu, 20 Oct 2011 15:31:26 UTC +00:00], ["email", "chrideu@bizzare.net"], ["name", "Chris Eubank"], ["pay_type", "purchase order"], ["updated_at", Thu, 20 Oct 2011 15:31:26 UTC +00:00]]
  [1m[35m (0.1ms)[0m  UPDATE "line_items" SET "cart_id" = NULL, "order_id" = 6, "updated_at" = '2011-10-20 15:31:26.376460' WHERE "line_items"."id" = 156
  [1m[36m (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "order_id" = 6, "updated_at" = '2011-10-20 15:31:26.377219' WHERE "line_items"."id" = 157[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 81]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 81[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 81]]
Redirected to http://localhost:3000/
Completed 302 Found in 33ms


Started GET "/" for 127.0.0.1 at 2011-10-20 16:31:26 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 20 Oct 2011 15:31:26 UTC +00:00], ["updated_at", Thu, 20 Oct 2011 15:31:26 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Rendered carts/_cart.html.erb (6.6ms)
Completed 200 OK in 51ms (Views: 26.1ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:31:26 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:26 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:31:26 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:26 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:26 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:26 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:26 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:26 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:26 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:26 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:31:26 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders" for 127.0.0.1 at 2011-10-20 16:31:49 +0100
  Processing by OrdersController#index as HTML
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Rendered orders/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 42ms (Views: 41.6ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:31:49 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:49 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:49 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:49 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:49 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:49 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:49 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:49 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:49 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:31:49 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:31:49 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 16:31:55 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Redirected to http://localhost:3000/
Completed 302 Found in 15ms


Started GET "/" for 127.0.0.1 at 2011-10-20 16:31:55 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Rendered carts/_cart.html.erb (6.7ms)
Completed 200 OK in 78ms (Views: 28.7ms | ActiveRecord: 1.2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:55 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:55 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:55 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:55 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:55 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:55 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:55 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:31:55 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:31:55 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:31:55 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:31:55 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new/" for 127.0.0.1 at 2011-10-20 16:32:07 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-20 16:32:07 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
Rendered store/index.html.erb within layouts/application (40.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Rendered carts/_cart.html.erb (7.7ms)
Completed 200 OK in 79ms (Views: 60.1ms | ActiveRecord: 1.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:32:07 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:07 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:07 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:07 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:07 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:07 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:32:07 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:07 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:07 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:07 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:32:07 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/" for 127.0.0.1 at 2011-10-20 16:32:21 +0100
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered products/index.html.erb within layouts/application (46.0ms)
Completed 200 OK in 56ms (Views: 54.7ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:32:21 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:32:21 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:21 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:21 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:21 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:21 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:21 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:21 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:21 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:21 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:32:21 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/new/" for 127.0.0.1 at 2011-10-20 16:32:29 +0100
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (44.5ms)
Rendered products/new.html.erb within layouts/application (52.5ms)
Completed 200 OK in 86ms (Views: 85.3ms | ActiveRecord: 0.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:32:29 +0100
Served asset /scaffold.css - 404 Not Found (38ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:29 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:29 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:29 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:29 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:32:29 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:29 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:29 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:29 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:32:29 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:32:30 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 16:33:14 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Rendered carts/_cart.html.erb (43.0ms)
Completed 200 OK in 84ms (Views: 64.2ms | ActiveRecord: 1.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:33:14 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:33:14 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:33:14 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:33:14 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:33:14 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:33:14 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:33:14 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:33:14 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:33:14 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:33:14 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:33:14 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2011-10-20 16:37:35 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "5"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82 AND "line_items"."product_id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 82], ["created_at", Thu, 20 Oct 2011 15:37:35 UTC +00:00], ["order_id", nil], ["product_id", 5], ["quantity", 1], ["updated_at", Thu, 20 Oct 2011 15:37:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.5ms)
Rendered carts/_cart.html.erb (6.2ms)
Rendered line_items/create.js.erb (7.0ms)
Completed 200 OK in 81ms (Views: 11.8ms | ActiveRecord: 2.0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 16:37:38 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Rendered orders/_form.html.erb (7.9ms)
Rendered orders/new.html.erb within layouts/application (8.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (23.9ms)
Rendered carts/_cart.html.erb (27.4ms)
Completed 200 OK in 94ms (Views: 77.4ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:37:38 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:37:38 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:37:38 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:37:38 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:37:38 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:37:38 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:37:38 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:37:38 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:37:38 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:37:38 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:37:39 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 16:45:29 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Rendered orders/_form.html.erb (24.8ms)
Rendered orders/new.html.erb within layouts/application (25.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (59.1ms)
Rendered carts/_cart.html.erb (62.6ms)
Completed 200 OK in 113ms (Views: 95.9ms | ActiveRecord: 1.8ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:45:30 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:45:30 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:45:30 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:45:30 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:45:30 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:45:30 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:45:30 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:45:30 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:45:30 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:45:30 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:45:30 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 16:45:34 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Rendered orders/_form.html.erb (7.7ms)
Rendered orders/new.html.erb within layouts/application (8.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (23.0ms)
Rendered carts/_cart.html.erb (26.6ms)
Completed 200 OK in 92ms (Views: 43.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:45:34 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:45:34 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:45:34 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:45:34 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:45:34 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:45:34 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:45:34 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:45:34 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:45:34 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:45:34 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:45:34 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 16:53:19 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Rendered orders/_form.html.erb (7.8ms)
Rendered orders/new.html.erb within layouts/application (8.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (68.3ms)
Rendered carts/_cart.html.erb (72.4ms)
Completed 200 OK in 107ms (Views: 90.2ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:53:20 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:53:20 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:53:20 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:53:20 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:53:20 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:53:20 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:53:20 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:53:20 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:53:20 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:53:20 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:53:20 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 16:53:30 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Rendered orders/_form.html.erb (8.3ms)
Rendered orders/new.html.erb within layouts/application (8.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (57.3ms)
Rendered carts/_cart.html.erb (60.9ms)
Completed 200 OK in 94ms (Views: 78.3ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:53:31 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:53:31 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:53:31 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:53:31 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:53:31 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:53:31 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:53:31 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:53:31 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:53:31 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:53:31 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:53:31 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 16:55:28 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Rendered orders/_form.html.erb (41.1ms)
Rendered orders/new.html.erb within layouts/application (41.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (23.1ms)
Rendered carts/_cart.html.erb (27.1ms)
Completed 200 OK in 92ms (Views: 77.3ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:55:29 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:55:29 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:55:29 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:55:29 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:55:29 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:55:29 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:55:29 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:55:29 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:55:29 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:55:29 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:55:29 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 16:55:41 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Rendered orders/_form.html.erb (7.4ms)
Rendered orders/new.html.erb within layouts/application (8.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (77.4ms)
Rendered carts/_cart.html.erb (80.9ms)
Completed 200 OK in 114ms (Views: 97.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:55:41 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:55:41 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:55:41 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:55:41 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:55:41 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:55:41 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:55:41 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:55:41 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:55:41 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:55:41 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:55:41 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 16:56:38 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Rendered orders/_form.html.erb (8.1ms)
Rendered orders/new.html.erb within layouts/application (8.7ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2179374120 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected ',', expecting ')'
... => :checkout if not @checkout, new_order_path, :method => :...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
...out, new_order_path, :method => :get );@output_buffer.safe_c...
...                               ^
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2179374120(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
');@output_buffer.append= ( button_to 'Checkout', :action => :checkout if not @checkout, new_order_path, :method => :get );@output_buffer.safe_concat('
');@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (6.6ms)
Completed 500 Internal Server Error in 71ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected ',', expecting ')'
... => :checkout if not @checkout, new_order_path, :method => :...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
...out, new_order_path, :method => :get );@output_buffer.safe_c...
...                               ^):
    12:   </tr> 
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <%= button_to 'Checkout', :action => :checkout if not @checkout, new_order_path, :method => :get %>
    16: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    17: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    18: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 16:57:06 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Rendered orders/_form.html.erb (8.1ms)
Rendered orders/new.html.erb within layouts/application (8.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (23.1ms)
Rendered carts/_cart.html.erb (27.1ms)
Completed 200 OK in 91ms (Views: 44.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:57:06 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:57:06 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:57:06 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:57:06 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:57:06 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:57:06 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:57:06 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:57:06 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:57:06 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:57:06 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:57:06 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 16:59:56 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Rendered orders/_form.html.erb (7.5ms)
Rendered orders/new.html.erb within layouts/application (8.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (56.4ms)
Rendered carts/_cart.html.erb (60.0ms)
Completed 200 OK in 92ms (Views: 76.7ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 16:59:56 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 16:59:56 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 16:59:56 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 16:59:56 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 16:59:56 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 16:59:56 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 16:59:56 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 16:59:56 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 16:59:56 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 16:59:56 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 16:59:56 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:00:07 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Rendered orders/_form.html.erb (8.3ms)
Rendered orders/new.html.erb within layouts/application (8.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (23.0ms)
Rendered carts/_cart.html.erb (26.6ms)
Completed 200 OK in 91ms (Views: 44.3ms | ActiveRecord: 1.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:07 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:07 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:07 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:07 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:00:07 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:07 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:00:07 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:07 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:07 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:07 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:00:07 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:00:08 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Rendered orders/_form.html.erb (7.1ms)
Rendered orders/new.html.erb within layouts/application (7.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (56.3ms)
Rendered carts/_cart.html.erb (59.8ms)
Completed 200 OK in 91ms (Views: 76.0ms | ActiveRecord: 1.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:00:08 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:08 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:00:08 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:08 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:08 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:08 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:08 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:08 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:08 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:08 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:00:08 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:00:09 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Rendered orders/_form.html.erb (7.8ms)
Rendered orders/new.html.erb within layouts/application (8.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (54.5ms)
Rendered carts/_cart.html.erb (58.1ms)
Completed 200 OK in 91ms (Views: 75.5ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:00:09 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:09 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:09 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:09 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:00:09 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:09 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:09 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:09 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:09 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:09 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:00:09 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:00:20 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Rendered orders/_form.html.erb (41.0ms)
Rendered orders/new.html.erb within layouts/application (41.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (23.6ms)
Rendered carts/_cart.html.erb (27.1ms)
Completed 200 OK in 92ms (Views: 77.0ms | ActiveRecord: 1.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:00:20 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:20 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:20 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:20 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:20 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:20 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:00:20 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:20 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:20 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:00:20 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:00:21 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:03:38 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Rendered orders/_form.html.erb (7.7ms)
Rendered orders/new.html.erb within layouts/application (8.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (56.3ms)
Rendered carts/_cart.html.erb (59.8ms)
Completed 200 OK in 93ms (Views: 77.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:03:38 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:03:38 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:38 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:38 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:38 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:38 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:38 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:38 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:38 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:38 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:03:38 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:03:40 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Rendered orders/_form.html.erb (7.9ms)
Rendered orders/new.html.erb within layouts/application (8.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (23.2ms)
Rendered carts/_cart.html.erb (26.7ms)
Completed 200 OK in 92ms (Views: 43.7ms | ActiveRecord: 1.6ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Rendered orders/_form.html.erb (7.1ms)
Rendered orders/new.html.erb within layouts/application (7.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (62.1ms)
Rendered carts/_cart.html.erb (68.0ms)
Completed 200 OK in 100ms (Views: 84.0ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Rendered orders/_form.html.erb (8.0ms)
Rendered orders/new.html.erb within layouts/application (8.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (23.1ms)
Rendered carts/_cart.html.erb (26.7ms)
Completed 200 OK in 92ms (Views: 44.0ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:03:41 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Rendered orders/_form.html.erb (7.3ms)
Rendered orders/new.html.erb within layouts/application (7.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (56.0ms)
Rendered carts/_cart.html.erb (59.5ms)
Completed 200 OK in 91ms (Views: 75.6ms | ActiveRecord: 1.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Rendered orders/_form.html.erb (7.5ms)
Rendered orders/new.html.erb within layouts/application (8.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (55.3ms)
Rendered carts/_cart.html.erb (58.9ms)
Completed 200 OK in 93ms (Views: 77.7ms | ActiveRecord: 1.4ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:03:42 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:08:52 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Rendered orders/_form.html.erb (55.0ms)
Rendered orders/new.html.erb within layouts/application (56.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (28.7ms)
Rendered carts/_cart.html.erb (33.4ms)
Completed 500 Internal Server Error in 117ms

ActionView::Template::Error (No route matches {:action=>"checkout", :controller=>"orders"}):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <%= button_to 'Checkout', new_order_path, :method => :get %>  
    16: <%= button_to "Checkout", :action => :checkout if not @checkout -%>
    17: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    18: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    19: <% end %>
  app/views/carts/_cart.html.erb:16:in `_app_views_carts__cart_html_erb__3799140197553229871_2185805000'
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:10:13 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Rendered orders/_form.html.erb (8.1ms)
Rendered orders/new.html.erb within layouts/application (8.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (73.1ms)
Rendered carts/_cart.html.erb (77.6ms)
Completed 200 OK in 115ms (Views: 96.8ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:10:13 +0100
Served asset /scaffold.css - 404 Not Found (6ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:10:13 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:10:13 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:10:13 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:10:13 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:10:13 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:10:13 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:10:13 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:10:13 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:10:13 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:10:14 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:10:57 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Rendered orders/_form.html.erb (40.3ms)
Rendered orders/new.html.erb within layouts/application (40.8ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2185480780 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected ',', expecting ')'
...to 'Checkout' if not @checkout, new_order_path, :method => :...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
...out, new_order_path, :method => :get );@output_buffer.safe_c...
...                               ^
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2185480780(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
');@output_buffer.append= ( button_to 'Checkout' if not @checkout, new_order_path, :method => :get );@output_buffer.safe_concat('  
');@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.7ms)
Completed 500 Internal Server Error in 65ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected ',', expecting ')'
...to 'Checkout' if not @checkout, new_order_path, :method => :...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
...out, new_order_path, :method => :get );@output_buffer.safe_c...
...                               ^):
    12:   </tr> 
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <%= button_to 'Checkout' if not @checkout, new_order_path, :method => :get %>  
    16: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    17: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    18: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:12:38 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Rendered orders/_form.html.erb (38.7ms)
Rendered orders/new.html.erb within layouts/application (39.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (24.3ms)
Rendered carts/_cart.html.erb (28.4ms)
Completed 200 OK in 91ms (Views: 76.1ms | ActiveRecord: 1.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:12:39 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:12:39 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:12:39 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:12:39 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:12:39 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:12:39 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:12:39 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:12:39 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:12:39 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:12:39 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:12:39 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:13:51 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Rendered orders/_form.html.erb (7.9ms)
Rendered orders/new.html.erb within layouts/application (8.5ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2172233960 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected ',', expecting ')'
...to 'Checkout' if not @checkout, new_order_path, :method => :...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
...out, new_order_path, :method => :get );@output_buffer.safe_c...
...                               ^
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2172233960(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
');@output_buffer.append= ( button_to 'Checkout' if not @checkout, new_order_path, :method => :get );@output_buffer.safe_concat('  
');@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.7ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected ',', expecting ')'
...to 'Checkout' if not @checkout, new_order_path, :method => :...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
...out, new_order_path, :method => :get );@output_buffer.safe_c...
...                               ^):
    12:   </tr> 
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <%= button_to 'Checkout' if not @checkout, new_order_path, :method => :get %>  
    16: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    17: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    18: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.6ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:18:00 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Rendered orders/_form.html.erb (10.1ms)
Rendered orders/new.html.erb within layouts/application (10.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 5 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (55.2ms)
Rendered carts/_cart.html.erb (59.1ms)
Completed 200 OK in 94ms (Views: 78.0ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:18:01 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:18:01 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:01 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:01 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:01 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:01 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:01 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:01 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:01 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:01 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:18:01 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/line_items/158/decrement" for 127.0.0.1 at 2011-10-20 17:18:16 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"158"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1  [["id", "158"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 158]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
Rendered carts/_cart.html.erb (2.0ms)
Rendered line_items/decrement.js.erb (5.0ms)
Completed 200 OK in 27ms (Views: 13.2ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 17:18:23 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
Rendered store/index.html.erb within layouts/application (13.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
Rendered carts/_cart.html.erb (6.6ms)
Completed 200 OK in 49ms (Views: 31.5ms | ActiveRecord: 1.1ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:23 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:18:23 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:23 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:23 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:23 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:18:23 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:23 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:23 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:23 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:23 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:18:23 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-20 17:18:29 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 82]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["cart_id", 82], ["created_at", Thu, 20 Oct 2011 16:18:29 UTC +00:00], ["order_id", nil], ["product_id", 7], ["quantity", 1], ["updated_at", Thu, 20 Oct 2011 16:18:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.5ms)
Rendered line_items/create.js.erb (6.3ms)
Completed 200 OK in 79ms (Views: 11.1ms | ActiveRecord: 2.0ms)


Started DELETE "/carts/82" for 127.0.0.1 at 2011-10-20 17:18:35 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "id"=>"82"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 82]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 82
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 159]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 82]]
Redirected to http://localhost:3000/
Completed 302 Found in 32ms


Started GET "/" for 127.0.0.1 at 2011-10-20 17:18:35 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 20 Oct 2011 16:18:35 UTC +00:00], ["updated_at", Thu, 20 Oct 2011 16:18:35 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 83[0m
Rendered carts/_cart.html.erb (6.5ms)
Completed 200 OK in 82ms (Views: 26.0ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:18:35 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:35 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:35 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:35 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:35 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:35 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:35 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:35 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:35 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:18:35 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:18:35 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-20 17:18:38 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 83]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 83 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["cart_id", 83], ["created_at", Thu, 20 Oct 2011 16:18:38 UTC +00:00], ["order_id", nil], ["product_id", 7], ["quantity", 1], ["updated_at", Thu, 20 Oct 2011 16:18:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 83
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 83[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.3ms)
Rendered carts/_cart.html.erb (5.7ms)
Rendered line_items/create.js.erb (6.5ms)
Completed 200 OK in 45ms (Views: 11.2ms | ActiveRecord: 1.8ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:18:40 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 83]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 83
Rendered orders/_form.html.erb (7.6ms)
Rendered orders/new.html.erb within layouts/application (8.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 83[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 83
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (54.8ms)
Rendered carts/_cart.html.erb (58.6ms)
Completed 200 OK in 92ms (Views: 75.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:18:41 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:41 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:41 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:41 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:41 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:18:41 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:41 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:41 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:41 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:18:41 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:18:41 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:29:36 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 83]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 83[0m
Rendered orders/_form.html.erb (7.9ms)
Rendered orders/new.html.erb within layouts/application (8.5ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2179376680 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
...d => true if if not @checkout );@output_buffer.safe_concat('...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:18: syntax error, unexpected keyword_end, expecting ')'
'); end ;@output_buffer.to_s
       ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected keyword_ensure, expecting ')'
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected keyword_end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2179376680(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get, :disabled => true if if not @checkout );@output_buffer.safe_concat('  
');@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.7ms)
Completed 500 Internal Server Error in 65ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
...d => true if if not @checkout );@output_buffer.safe_concat('...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:18: syntax error, unexpected keyword_end, expecting ')'
'); end ;@output_buffer.to_s
       ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected keyword_ensure, expecting ')'
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected keyword_end, expecting ')'):
    12:   </tr> 
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <%= button_to 'Checkout', new_order_path, :method => :get, :disabled => true if if not @checkout %>  
    16: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    17: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    18: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:30:36 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 83]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 83[0m
Rendered orders/_form.html.erb (7.6ms)
Rendered orders/new.html.erb within layouts/application (8.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 83
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 83[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (22.9ms)
Rendered carts/_cart.html.erb (26.9ms)
Completed 200 OK in 91ms (Views: 44.4ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:30:36 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:30:36 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:30:36 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:30:36 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:30:36 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:30:36 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:30:36 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:30:36 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:30:36 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:30:36 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:30:36 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/83" for 127.0.0.1 at 2011-10-20 17:30:52 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "id"=>"83"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 83]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 83
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 160]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = ?  [["id", 83]]
Redirected to http://localhost:3000/
Completed 302 Found in 17ms


Started GET "/" for 127.0.0.1 at 2011-10-20 17:30:52 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Thu, 20 Oct 2011 16:30:52 UTC +00:00], ["updated_at", Thu, 20 Oct 2011 16:30:52 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered carts/_cart.html.erb (6.6ms)
Completed 200 OK in 81ms (Views: 26.8ms | ActiveRecord: 1.9ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:30:52 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:30:52 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:30:52 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:30:52 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:30:52 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:30:52 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:30:52 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:30:52 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:30:52 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:30:52 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:30:52 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-20 17:30:56 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["cart_id", 84], ["created_at", Thu, 20 Oct 2011 16:30:56 UTC +00:00], ["order_id", nil], ["product_id", 9], ["quantity", 1], ["updated_at", Thu, 20 Oct 2011 16:30:56 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.2ms)
Rendered carts/_cart.html.erb (6.2ms)
Rendered line_items/create.js.erb (7.0ms)
Completed 200 OK in 46ms (Views: 11.7ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 17:31:38 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (10.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.8ms)
Rendered carts/_cart.html.erb (16.8ms)
Completed 200 OK in 89ms (Views: 38.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:31:38 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:31:38 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:31:38 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:31:38 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (37.0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:31:39 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:31:39 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:31:39 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:31:39 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:31:39 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:31:39 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:31:39 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-20 17:31:45 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-20 16:31:45.131698' WHERE "line_items"."id" = 161[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (5.6ms)
Rendered line_items/create.js.erb (6.3ms)
Completed 200 OK in 75ms (Views: 42.4ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 17:32:15 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.9ms)
Rendered carts/_cart.html.erb (49.6ms)
Completed 200 OK in 91ms (Views: 70.5ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:32:15 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:32:15 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:32:15 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:32:15 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:32:15 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:32:15 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:32:15 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:32:15 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:32:15 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:32:15 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:32:15 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 17:34:04 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
Rendered store/index.html.erb within layouts/application (11.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.7ms)
Rendered carts/_cart.html.erb (16.4ms)
Completed 200 OK in 92ms (Views: 39.7ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:34:04 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:34:04 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:04 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:04 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:04 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:04 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:04 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:04 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:04 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:04 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:34:05 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 17:34:35 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (11.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.6ms)
Rendered carts/_cart.html.erb (16.3ms)
Completed 200 OK in 90ms (Views: 38.3ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:34:36 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:34:36 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:36 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:36 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:36 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:36 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:36 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:36 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:36 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:36 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:34:36 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 17:34:39 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
Rendered store/index.html.erb within layouts/application (9.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.9ms)
Rendered carts/_cart.html.erb (48.8ms)
Completed 200 OK in 88ms (Views: 69.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:39 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:39 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:39 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:39 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:39 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:39 +0100
Served asset /jquery_ujs.js - 304 Not Modified (3ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:34:39 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:39 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:34:39 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:34:39 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:34:40 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 17:35:19 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (46.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (10.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.1ms)
Rendered carts/_cart.html.erb (16.9ms)
Completed 200 OK in 171ms (Views: 70.5ms | ActiveRecord: 47.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:35:19 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:35:19 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:35:19 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:35:19 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:35:19 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:35:19 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:35:19 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:35:19 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:35:19 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:35:19 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:35:19 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:35:24 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (7.6ms)
Rendered orders/new.html.erb within layouts/application (8.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (63.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (124.4ms)
Rendered carts/_cart.html.erb (128.2ms)
Completed 200 OK in 184ms (Views: 104.7ms | ActiveRecord: 64.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:35:24 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:35:24 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:35:24 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:35:24 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:35:24 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:35:24 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:35:24 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:35:24 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:35:24 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:35:24 +0100
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:35:24 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:36:51 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
Rendered orders/_form.html.erb (8.1ms)
Rendered orders/new.html.erb within layouts/application (8.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (23.8ms)
Rendered carts/_cart.html.erb (27.7ms)
Completed 200 OK in 93ms (Views: 45.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:36:51 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:36:51 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:36:51 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:36:51 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:36:51 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:36:51 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:36:51 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:36:51 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:36:51 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:36:51 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:36:51 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 17:36:58 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
Rendered store/index.html.erb within layouts/application (9.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.0ms)
Rendered carts/_cart.html.erb (48.1ms)
Completed 200 OK in 87ms (Views: 68.6ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:36:58 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:36:58 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:36:58 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:36:58 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:36:58 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:36:58 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:36:58 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:36:58 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:36:58 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:36:58 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:36:58 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 17:37:32 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (44.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.7ms)
Rendered carts/_cart.html.erb (16.3ms)
Completed 200 OK in 91ms (Views: 72.4ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:37:33 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:37:33 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:37:33 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:37:33 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:37:33 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:37:33 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:37:33 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:37:33 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:37:33 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:37:33 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:37:33 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 17:39:59 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
Rendered store/index.html.erb within layouts/application (10.1ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2172562680 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected '(', expecting keyword_then or ';' or '\n'
...:method => :get, if @checkout (:disabled => true) end );@out...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected ')', expecting keyword_end
...ckout (:disabled => true) end );@output_buffer.safe_concat('...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2172562680(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get, if @checkout (:disabled => true) end );@output_buffer.safe_concat('  
');@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3778393606533765233__process_action__1252492073697123925__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (7.2ms)
Completed 500 Internal Server Error in 82ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected '(', expecting keyword_then or ';' or '\n'
...:method => :get, if @checkout (:disabled => true) end );@out...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected ')', expecting keyword_end
...ckout (:disabled => true) end );@output_buffer.safe_concat('...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected keyword_ensure, expecting $end):
    12:   </tr> 
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <%= button_to 'Checkout', new_order_path, :method => :get, if @checkout (:disabled => true) end %>  
    16: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    17: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    18: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.8ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 17:43:42 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
Rendered store/index.html.erb within layouts/application (10.8ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2177241640 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected '{', expecting keyword_then or ';' or '\n'
...:method => :get, if @checkout {:disabled => true} end );@out...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:18: syntax error, unexpected keyword_end, expecting ')'
'); end ;@output_buffer.to_s
       ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected keyword_ensure, expecting ')'
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected keyword_end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2177241640(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get, if @checkout {:disabled => true} end );@output_buffer.safe_concat('  
');@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3778393606533765233__process_action__1252492073697123925__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (23.2ms)
Completed 500 Internal Server Error in 96ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected '{', expecting keyword_then or ';' or '\n'
...:method => :get, if @checkout {:disabled => true} end );@out...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:18: syntax error, unexpected keyword_end, expecting ')'
'); end ;@output_buffer.to_s
       ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected keyword_ensure, expecting ')'
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected keyword_end, expecting ')'):
    12:   </tr> 
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <%= button_to 'Checkout', new_order_path, :method => :get, if @checkout {:disabled => true} end %>  
    16: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    17: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    18: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (5.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 17:44:17 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
Rendered store/index.html.erb within layouts/application (10.2ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2178076780 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected ':', expecting keyword_then or ';' or '\n'
...:method => :get, if @checkout :disabled => true end );@outpu...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:18: syntax error, unexpected keyword_end, expecting ')'
'); end ;@output_buffer.to_s
       ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected keyword_ensure, expecting ')'
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected keyword_end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2178076780(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get, if @checkout :disabled => true end );@output_buffer.safe_concat('  
');@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3778393606533765233__process_action__1252492073697123925__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.8ms)
Completed 500 Internal Server Error in 74ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected ':', expecting keyword_then or ';' or '\n'
...:method => :get, if @checkout :disabled => true end );@outpu...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:18: syntax error, unexpected keyword_end, expecting ')'
'); end ;@output_buffer.to_s
       ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected keyword_ensure, expecting ')'
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected keyword_end, expecting ')'):
    12:   </tr> 
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <%= button_to 'Checkout', new_order_path, :method => :get, if @checkout :disabled => true end %>  
    16: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    17: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    18: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (4.4ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 17:44:19 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
Rendered store/index.html.erb within layouts/application (10.6ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2178076780 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected ':', expecting keyword_then or ';' or '\n'
...:method => :get, if @checkout :disabled => true end );@outpu...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:18: syntax error, unexpected keyword_end, expecting ')'
'); end ;@output_buffer.to_s
       ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected keyword_ensure, expecting ')'
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected keyword_end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2178076780(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get, if @checkout :disabled => true end );@output_buffer.safe_concat('  
');@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3778393606533765233__process_action__1252492073697123925__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.9ms)
Completed 500 Internal Server Error in 72ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:15: syntax error, unexpected ':', expecting keyword_then or ';' or '\n'
...:method => :get, if @checkout :disabled => true end );@outpu...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:18: syntax error, unexpected keyword_end, expecting ')'
'); end ;@output_buffer.to_s
       ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected keyword_ensure, expecting ')'
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected keyword_end, expecting ')'):
    12:   </tr> 
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <%= button_to 'Checkout', new_order_path, :method => :get, if @checkout :disabled => true end %>  
    16: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    17: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    18: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.5ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 17:46:10 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
Rendered store/index.html.erb within layouts/application (41.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.7ms)
Rendered carts/_cart.html.erb (16.5ms)
Completed 200 OK in 89ms (Views: 68.9ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:46:10 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:46:10 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:46:10 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:46:10 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:46:10 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:46:10 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:46:10 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:46:10 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:46:10 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:46:10 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:46:10 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-20 17:57:50 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (10.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.6ms)
Rendered carts/_cart.html.erb (16.2ms)
Completed 200 OK in 92ms (Views: 38.1ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:57:50 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:50 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:57:50 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:50 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:50 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:50 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:50 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:50 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:50 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:50 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:57:50 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:57:53 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (9.0ms)
Rendered orders/new.html.erb within layouts/application (9.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (72.2ms)
Rendered carts/_cart.html.erb (76.2ms)
Completed 200 OK in 111ms (Views: 95.0ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:57:53 +0100
Served asset /depot.css - 304 Not Modified (1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:57:53 +0100
Served asset /scaffold.css - 404 Not Found (4ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:53 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:53 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:53 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:53 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:53 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:53 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:53 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:53 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:57:53 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-20 17:57:59 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
Rendered orders/_form.html.erb (7.9ms)
Rendered orders/new.html.erb within layouts/application (8.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (56.8ms)
Rendered carts/_cart.html.erb (60.3ms)
Completed 200 OK in 93ms (Views: 77.0ms | ActiveRecord: 1.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:59 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-20 17:57:59 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:59 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:59 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:59 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:59 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:59 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-20 17:57:59 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:59 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-20 17:57:59 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-20 17:58:00 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 10:35:50 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (48.7ms)
Rendered orders/new.html.erb within layouts/application (69.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.8ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (27.1ms)
Rendered carts/_cart.html.erb (41.4ms)
Completed 200 OK in 177ms (Views: 137.7ms | ActiveRecord: 2.9ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 10:35:50 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 10:35:50 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 10:35:50 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 10:35:50 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 10:35:50 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 10:35:50 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 10:35:50 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 10:35:50 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 10:35:50 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 10:35:50 +0100
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 10:35:50 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 11:53:48 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
Rendered orders/_form.html.erb (11.4ms)
Rendered orders/new.html.erb within layouts/application (12.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (34.0ms)
Rendered carts/_cart.html.erb (80.7ms)
Completed 200 OK in 121ms (Views: 102.7ms | ActiveRecord: 1.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 11:53:49 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 11:53:49 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 11:53:49 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 11:53:49 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 11:53:49 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 11:53:49 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 11:53:49 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 11:53:49 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 11:53:49 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 11:53:49 +0100
Served asset /scaffold.css - 404 Not Found (11ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 11:53:49 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 11:54:14 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (7.4ms)
Rendered orders/new.html.erb within layouts/application (7.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (55.4ms)
Rendered carts/_cart.html.erb (58.8ms)
Completed 500 Internal Server Error in 92ms

ActionView::Template::Error (uncaught throw {"action"=>"new", "controller"=>"orders"}):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA attempt to hide the checkout button if at checkout - get this working tomorrow  -->
    16: <%= throw params%>
    17: <% if params[:controller] == 'orders' && params[:action] == 'new'%>        
    18:   <%= button_to 'Checkout', :disabled => true %>
    19: <% else %>
  app/views/carts/_cart.html.erb:16:in `throw'
  app/views/carts/_cart.html.erb:16:in `_app_views_carts__cart_html_erb__3799140197553229871_2172386240'
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (4.8ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 11:54:45 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
Rendered orders/_form.html.erb (40.5ms)
Rendered orders/new.html.erb within layouts/application (41.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (25.8ms)
Rendered carts/_cart.html.erb (29.4ms)
Completed 500 Internal Server Error in 94ms

ActionView::Template::Error (uncaught throw "orders"):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA attempt to hide the checkout button if at checkout - get this working tomorrow  -->
    16: <%= throw params[:controller]%>
    17: <% if params[:controller] == 'orders' && params[:action] == 'new'%>        
    18:   <%= button_to 'Checkout', :disabled => true %>
    19: <% else %>
  app/views/carts/_cart.html.erb:16:in `throw'
  app/views/carts/_cart.html.erb:16:in `_app_views_carts__cart_html_erb__3799140197553229871_2185641340'
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 11:54:59 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (7.6ms)
Rendered orders/new.html.erb within layouts/application (8.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (54.9ms)
Rendered carts/_cart.html.erb (58.4ms)
Completed 500 Internal Server Error in 92ms

ActionView::Template::Error (uncaught throw "new"):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA attempt to hide the checkout button if at checkout - get this working tomorrow  -->
    16: <%= throw params[:action]%>
    17: <% if params[:controller] == 'orders' && params[:action] == 'new'%>        
    18:   <%= button_to 'Checkout', :disabled => true %>
    19: <% else %>
  app/views/carts/_cart.html.erb:16:in `throw'
  app/views/carts/_cart.html.erb:16:in `_app_views_carts__cart_html_erb__3799140197553229871_2172416580'
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (4.0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 11:55:15 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
Rendered orders/_form.html.erb (41.8ms)
Rendered orders/new.html.erb within layouts/application (42.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (28.5ms)
Rendered carts/_cart.html.erb (32.5ms)
Completed 200 OK in 99ms (Views: 83.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 11:55:15 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 11:55:15 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 11:55:15 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 11:55:15 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 11:55:15 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 11:55:15 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 11:55:15 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 11:55:15 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 11:55:15 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 11:55:15 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 11:55:15 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 11:55:21 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (7.4ms)
Rendered orders/new.html.erb within layouts/application (8.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (56.8ms)
Rendered carts/_cart.html.erb (61.1ms)
Completed 200 OK in 93ms (Views: 77.3ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 11:55:22 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 11:55:22 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 11:55:22 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 11:55:22 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 11:55:22 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 11:55:22 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 11:55:22 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 11:55:22 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 11:55:22 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 11:55:22 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 11:55:22 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 11:56:38 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
Rendered orders/_form.html.erb (7.7ms)
Rendered orders/new.html.erb within layouts/application (8.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (26.0ms)
Rendered carts/_cart.html.erb (30.7ms)
Completed 200 OK in 101ms (Views: 49.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 11:56:38 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 11:56:38 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 11:56:38 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 11:56:38 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 11:56:38 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 11:56:38 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 11:56:38 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 11:56:38 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 11:56:38 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 11:56:38 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 11:56:39 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 11:58:22 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (7.7ms)
Rendered orders/new.html.erb within layouts/application (8.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (57.0ms)
Rendered carts/_cart.html.erb (61.2ms)
Completed 200 OK in 95ms (Views: 79.3ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 11:58:22 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 11:58:22 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:22 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:22 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:22 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:22 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:22 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:22 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:22 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:22 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 11:58:22 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 11:58:28 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.4ms)
Rendered carts/_cart.html.erb (18.4ms)
Completed 200 OK in 97ms (Views: 44.4ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 11:58:28 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 11:58:28 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:28 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:28 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:28 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:28 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:28 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:28 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:28 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:28 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 11:58:28 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 11:58:30 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (7.5ms)
Rendered orders/new.html.erb within layouts/application (8.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (56.2ms)
Rendered carts/_cart.html.erb (59.8ms)
Completed 200 OK in 98ms (Views: 77.0ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 11:58:30 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:30 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:30 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:30 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:30 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:30 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:30 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:30 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 11:58:30 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 11:58:30 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 11:58:30 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 12:01:44 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
Rendered orders/_form.html.erb (7.6ms)
Rendered orders/new.html.erb within layouts/application (8.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (24.7ms)
Rendered carts/_cart.html.erb (28.9ms)
Completed 200 OK in 96ms (Views: 45.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 12:01:44 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 12:01:44 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 12:01:44 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 12:01:44 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 12:01:44 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 12:01:44 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 12:01:44 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 12:01:44 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 12:01:44 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 12:01:44 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 12:01:44 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 12:02:29 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (8.1ms)
Rendered orders/new.html.erb within layouts/application (8.7ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2170033740 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected ',', expecting '}'
... 'Checkout', new_order_path, {, :method => :get, :disabled =...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected '}', expecting ')'
...tion] == 'new' ? true : false } );@output_buffer.safe_concat...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected keyword_end, expecting ')'
'); end ;@output_buffer.to_s
       ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected keyword_ensure, expecting ')'
/Users/mark/work/depot/app/views/carts/_cart.html.erb:24: syntax error, unexpected keyword_end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2170033740(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA attempt to hide the checkout button if at checkout - get this working tomorrow  -->
     
  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, {, :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (13.6ms)
Completed 500 Internal Server Error in 47ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected ',', expecting '}'
... 'Checkout', new_order_path, {, :method => :get, :disabled =...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected '}', expecting ')'
...tion] == 'new' ? true : false } );@output_buffer.safe_concat...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected keyword_end, expecting ')'
'); end ;@output_buffer.to_s
       ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected keyword_ensure, expecting ')'
/Users/mark/work/depot/app/views/carts/_cart.html.erb:24: syntax error, unexpected keyword_end, expecting ')'):
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA attempt to hide the checkout button if at checkout - get this working tomorrow  -->
    16:      
    17:   <%= button_to 'Checkout', new_order_path, {, :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>
    18: 
    19: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    20: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 12:02:38 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (8.3ms)
Rendered orders/new.html.erb within layouts/application (8.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (57.7ms)
Rendered carts/_cart.html.erb (61.8ms)
Completed 200 OK in 95ms (Views: 79.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 12:02:38 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 12:02:38 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 12:02:38 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 12:02:38 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 12:02:38 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 12:02:38 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 12:02:38 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 12:02:38 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 12:02:38 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 12:02:38 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 12:02:38 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 12:06:22 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
Rendered orders/_form.html.erb (7.6ms)
Rendered orders/new.html.erb within layouts/application (8.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (23.5ms)
Rendered carts/_cart.html.erb (59.5ms)
Completed 200 OK in 127ms (Views: 78.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 12:06:22 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:22 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:22 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:22 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:22 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:22 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:22 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:22 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 12:06:22 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:22 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 12:06:22 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 12:06:28 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.1ms)
Rendered carts/_cart.html.erb (52.6ms)
Completed 200 OK in 94ms (Views: 73.7ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 12:06:28 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:28 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:28 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:28 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:28 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 12:06:28 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:28 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:28 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:28 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:28 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 12:06:28 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-21 12:06:32 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 84], ["created_at", Fri, 21 Oct 2011 11:06:32 UTC +00:00], ["order_id", nil], ["product_id", 7], ["quantity", 1], ["updated_at", Fri, 21 Oct 2011 11:06:32 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.8ms)
Rendered carts/_cart.html.erb (8.3ms)
Rendered line_items/create.js.erb (9.1ms)
Completed 200 OK in 89ms (Views: 14.0ms | ActiveRecord: 2.1ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 12:06:34 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
Rendered orders/_form.html.erb (7.5ms)
Rendered orders/new.html.erb within layouts/application (8.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (25.1ms)
Rendered carts/_cart.html.erb (28.8ms)
Completed 200 OK in 93ms (Views: 45.8ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 12:06:34 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 12:06:34 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:34 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:34 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:34 +0100
Served asset /application.js - 304 Not Modified (38ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:34 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:34 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:34 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:34 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 12:06:34 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 12:06:35 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 12:08:45 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
Rendered orders/_form.html.erb (7.3ms)
Rendered orders/new.html.erb within layouts/application (7.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (23.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (81.8ms)
Rendered carts/_cart.html.erb (86.5ms)
Completed 200 OK in 119ms (Views: 79.6ms | ActiveRecord: 24.7ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 12:08:45 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 12:08:45 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 12:08:45 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 12:08:45 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 12:08:45 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 12:08:45 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 12:08:45 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 12:08:45 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 12:08:45 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 12:08:45 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 12:08:45 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 12:08:56 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (10.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (18.8ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (7.9ms)
Rendered carts/_cart.html.erb (36.6ms)
Completed 200 OK in 112ms (Views: 39.9ms | ActiveRecord: 20.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 12:08:56 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 12:08:56 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 12:08:56 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 12:08:56 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 12:08:56 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 12:08:56 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 12:08:56 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 12:08:56 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 12:08:56 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 12:08:57 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 12:08:57 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-21 12:09:00 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tVJ1I2SabfY3mutJ2Vx0lltE0/W6nMVdVTONGe6z08k=", "product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2011-10-21 11:09:00.552864' WHERE "line_items"."id" = 161
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.9ms)
Rendered carts/_cart.html.erb (8.1ms)
Rendered line_items/create.js.erb (8.9ms)
Completed 200 OK in 48ms (Views: 13.7ms | ActiveRecord: 1.7ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 12:09:03 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
Rendered orders/_form.html.erb (7.3ms)
Rendered orders/new.html.erb within layouts/application (7.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (86.8ms)
Rendered carts/_cart.html.erb (90.6ms)
Completed 200 OK in 123ms (Views: 106.6ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 12:09:03 +0100
Served asset /scaffold.css - 404 Not Found (6ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 12:09:03 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 12:09:03 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 12:09:03 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 12:09:03 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 12:09:03 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 12:09:03 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 12:09:03 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 12:09:03 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 12:09:03 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 12:09:03 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 12:41:11 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
Rendered orders/_form.html.erb (8.2ms)
Rendered orders/new.html.erb within layouts/application (8.8ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2177885240 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'        
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2177885240(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if params[:controller] == 'orders' && params[:action] == 'new'        
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.8ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'        
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if params[:controller] == 'orders' && params[:action] == 'new'%>        
    17:   <%= button_to 'Checkout', new_order_path, :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 12:41:57 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
Rendered orders/_form.html.erb (8.3ms)
Rendered orders/new.html.erb within layouts/application (8.9ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2177885240 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'        
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2177885240(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if params[:controller] == 'orders' && params[:action] == 'new'        
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.8ms)
Completed 500 Internal Server Error in 65ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'        
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if params[:controller] == 'orders' && params[:action] == 'new'%>        
    17:   <%= button_to 'Checkout', new_order_path, :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 12:42:15 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (13.1ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2177885240 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'        
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2177885240(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if params[:controller] == 'orders' && params[:action] == 'new'        
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3778393606533765233__process_action__1252492073697123925__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.9ms)
Completed 500 Internal Server Error in 79ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'        
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if params[:controller] == 'orders' && params[:action] == 'new'%>        
    17:   <%= button_to 'Checkout', new_order_path, :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 12:51:10 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (11.0ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2178386040 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...(params[:controller] == 'orders') && (params[:action] == 'ne...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...s') && (params[:action] == 'new')        
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', , :disabled => true );@out...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2178386040(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if (params[:controller] == 'orders') && (params[:action] == 'new')        
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', , :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3778393606533765233__process_action__1252492073697123925__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.8ms)
Completed 500 Internal Server Error in 74ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...(params[:controller] == 'orders') && (params[:action] == 'ne...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...s') && (params[:action] == 'new')        
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', , :disabled => true );@out...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if (params[:controller] == 'orders') && (params[:action] == 'new')%>        
    17:   <%= button_to 'Checkout', , :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.5ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 12:51:40 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (10.7ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2179080920 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...(params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new')        
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', , :disabled => true );@out...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2179080920(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if (params[:controller] == 'orders' && params[:action] == 'new')        
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', , :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3778393606533765233__process_action__1252492073697123925__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.8ms)
Completed 500 Internal Server Error in 75ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...(params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new')        
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', , :disabled => true );@out...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if (params[:controller] == 'orders' && params[:action] == 'new')%>        
    17:   <%= button_to 'Checkout', , :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 12:52:37 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (41.8ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2179452800 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...(params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new')        
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', {}, :disabled => true );@o...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2179452800(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if (params[:controller] == 'orders' && params[:action] == 'new')        
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', {}, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3778393606533765233__process_action__1252492073697123925__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.8ms)
Completed 500 Internal Server Error in 75ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...(params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new')        
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', {}, :disabled => true );@o...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if (params[:controller] == 'orders' && params[:action] == 'new')%>        
    17:   <%= button_to 'Checkout', {}, :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 12:52:38 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (41.4ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2179452800 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...(params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new')        
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', {}, :disabled => true );@o...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2179452800(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if (params[:controller] == 'orders' && params[:action] == 'new')        
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', {}, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3778393606533765233__process_action__1252492073697123925__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.8ms)
Completed 500 Internal Server Error in 73ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...(params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new')        
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', {}, :disabled => true );@o...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if (params[:controller] == 'orders' && params[:action] == 'new')%>        
    17:   <%= button_to 'Checkout', {}, :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 12:53:56 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (42.7ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2185652520 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', {}, :disabled => true );@o...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2185652520(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if params[:controller] == 'orders' && params[:action] == 'new'         
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', {}, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3778393606533765233__process_action__1252492073697123925__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (1.1ms)
Completed 500 Internal Server Error in 72ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', {}, :disabled => true );@o...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if params[:controller] == 'orders' && params[:action] == 'new' %>        
    17:   <%= button_to 'Checkout', {}, :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/new/order/" for 127.0.0.1 at 2011-10-21 12:55:26 +0100

ActionController::RoutingError (No route matches [GET] "/new/order"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/new/orders/" for 127.0.0.1 at 2011-10-21 12:55:37 +0100

ActionController::RoutingError (No route matches [GET] "/new/orders"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/new/" for 127.0.0.1 at 2011-10-21 12:56:02 +0100

ActionController::RoutingError (No route matches [GET] "/new"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 12:56:08 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (42.7ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2185652520 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', {}, :disabled => true );@o...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2185652520(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if params[:controller] == 'orders' && params[:action] == 'new'         
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', {}, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3778393606533765233__process_action__1252492073697123925__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.9ms)
Completed 500 Internal Server Error in 74ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', {}, :disabled => true );@o...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if params[:controller] == 'orders' && params[:action] == 'new' %>        
    17:   <%= button_to 'Checkout', {}, :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 12:56:51 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (10.0ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2186024760 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2186024760(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if params[:controller] == 'orders' && params[:action] == 'new'         
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3778393606533765233__process_action__1252492073697123925__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.9ms)
Completed 500 Internal Server Error in 73ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if params[:controller] == 'orders' && params[:action] == 'new' %>        
    17:   <%= button_to 'Checkout', new_order_path, :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.7ms)


Started GET "/products" for 127.0.0.1 at 2011-10-21 13:51:40 +0100
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Rendered products/index.html.erb within layouts/application (44.6ms)
Completed 200 OK in 55ms (Views: 53.7ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 13:51:40 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 13:51:40 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 13:51:40 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 13:51:40 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 13:51:40 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 13:51:40 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 13:51:40 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 13:51:40 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 13:51:40 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 13:51:40 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 13:51:40 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 13:51:46 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
Rendered store/index.html.erb within layouts/application (10.5ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2186024760 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2186024760(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if params[:controller] == 'orders' && params[:action] == 'new'         
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3778393606533765233__process_action__1252492073697123925__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.9ms)
Completed 500 Internal Server Error in 77ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if params[:controller] == 'orders' && params[:action] == 'new' %>        
    17:   <%= button_to 'Checkout', new_order_path, :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.9ms)


Started GET "/products" for 127.0.0.1 at 2011-10-21 13:52:04 +0100
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Rendered products/index.html.erb within layouts/application (47.2ms)
Completed 200 OK in 57ms (Views: 55.9ms | ActiveRecord: 0.4ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 13:52:04 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 13:52:04 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 13:52:04 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 13:52:04 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 13:52:04 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 13:52:04 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 13:52:04 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 13:52:04 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 13:52:04 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 13:52:04 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (34.6ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 13:52:05 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/products/new" for 127.0.0.1 at 2011-10-21 13:52:20 +0100
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (7.6ms)
Rendered products/new.html.erb within layouts/application (8.4ms)
Completed 200 OK in 18ms (Views: 17.1ms | ActiveRecord: 0.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 13:52:20 +0100
Served asset /scaffold.css - 404 Not Found (4ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 13:52:20 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 13:52:20 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 13:52:20 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 13:52:20 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 13:52:20 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 13:52:20 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 13:52:20 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 13:52:20 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 13:52:20 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 13:52:20 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/cart/new" for 127.0.0.1 at 2011-10-21 13:52:50 +0100

ActionController::RoutingError (No route matches [GET] "/cart/new"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/cart/" for 127.0.0.1 at 2011-10-21 13:52:55 +0100

ActionController::RoutingError (No route matches [GET] "/cart"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/orders/" for 127.0.0.1 at 2011-10-21 13:55:20 +0100
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Rendered orders/index.html.erb within layouts/application (14.5ms)
Completed 200 OK in 24ms (Views: 23.0ms | ActiveRecord: 0.4ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 13:55:21 +0100
Served asset /scaffold.css - 404 Not Found (4ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 13:55:21 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 13:55:21 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 13:55:21 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 13:55:21 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 13:55:21 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 13:55:21 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 13:55:21 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 13:55:21 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 13:55:21 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 13:55:21 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 13:55:31 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (7.5ms)
Rendered orders/new.html.erb within layouts/application (8.1ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2186024760 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2186024760(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if params[:controller] == 'orders' && params[:action] == 'new'         
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.8ms)
Completed 500 Internal Server Error in 32ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if params[:controller] == 'orders' && params[:action] == 'new' %>        
    17:   <%= button_to 'Checkout', new_order_path, :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 13:56:23 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (7.6ms)
Rendered orders/new.html.erb within layouts/application (8.1ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2177417820 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
'); if params[:controller] == 'orders'         
                                     ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2177417820(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if params[:controller] == 'orders'         
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.8ms)
Completed 500 Internal Server Error in 65ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
'); if params[:controller] == 'orders'         
                                     ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if params[:controller] == 'orders' %>        
    17:   <%= button_to 'Checkout', new_order_path, :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 13:57:02 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (8.0ms)
Rendered orders/new.html.erb within layouts/application (8.6ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2178208300 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
'); if (params[:controller] == 'orders')         
                                      ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2178208300(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if (params[:controller] == 'orders')         
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.8ms)
Completed 500 Internal Server Error in 65ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
'); if (params[:controller] == 'orders')         
                                      ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if (params[:controller] == 'orders') %>        
    17:   <%= button_to 'Checkout', new_order_path, :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.8ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 13:58:11 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (8.2ms)
Rendered orders/new.html.erb within layouts/application (9.1ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2179182320 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2179182320(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if params[:controller] == "orders" && params[:action] == "new"         
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.8ms)
Completed 500 Internal Server Error in 65ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if params[:controller] == "orders" && params[:action] == "new" %>        
    17:   <%= button_to 'Checkout', new_order_path, :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
    20: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 13:58:55 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (7.5ms)
Rendered orders/new.html.erb within layouts/application (8.1ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2179479120 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2179479120(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if params[:controller] == "orders" && params[:action] == "new"         
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to "Checkout", new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.8ms)
Completed 500 Internal Server Error in 64ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    16: <% if params[:controller] == "orders" && params[:action] == "new" %>        
    17:   <%= button_to "Checkout", new_order_path, :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
    20: <% end %>
    21: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    22: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (4.5ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 13:59:43 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (40.0ms)
Rendered orders/new.html.erb within layouts/application (40.6ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2179708660 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2179708660(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if params[:controller] == "orders" && params[:action] == "new"         
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to "Checkout", new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to "Checkout", new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.8ms)
Completed 500 Internal Server Error in 64ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    18: <% else %>
    19:   <%= button_to "Checkout", new_order_path, :method => :get %>
    20: <% end %>
    21: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    22: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    23: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.9ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 14:00:48 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (40.2ms)
Rendered orders/new.html.erb within layouts/application (40.8ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2185649380 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2185649380(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class="cart_title">Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class="total_line"> 
    <td colspan="2">Total</td> 
    <td class="total_cell">');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if params[:controller] == "orders" && params[:action] == "new"         
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to "Checkout", new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to "Checkout", new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to "Empty cart", cart, :method => :delete, :confirm => "Are you sure?" );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.8ms)
Completed 500 Internal Server Error in 65ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    18: <% else %>
    19:   <%= button_to "Checkout", new_order_path, :method => :get %>
    20: <% end %>
    21: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    22: <%= button_to "Empty cart", cart, :method => :delete, :confirm => "Are you sure?" %>
    23: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 14:02:30 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (7.3ms)
Rendered orders/new.html.erb within layouts/application (7.9ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2170028800 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2170028800(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class=\'cart_title\'>Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class=\'total_line\'> 
    <td colspan=\'2\'>Total</td> 
    <td class=\'total_cell\'>');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if params[:controller] == 'orders' && params[:action] == 'new'         
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (1.0ms)
Completed 500 Internal Server Error in 65ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if params[:controller] == 'orders' && params[:action] == 'new' %>        
    17:   <%= button_to 'Checkout', new_order_path, :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.8ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 14:08:28 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (7.3ms)
Rendered orders/new.html.erb within layouts/application (7.9ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2159532080 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:18: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:24: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:24: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:25: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:25: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2159532080(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class=\'cart_title\'>Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class=\'total_line\'> 
    <td colspan=\'2\'>Total</td> 
    <td class=\'total_cell\'>');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); Def cart_view 
   if params[:controller] == 'orders' && params[:action] == 'new'         
@output_buffer.safe_concat('    ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
');   else 
@output_buffer.safe_concat('    ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
 end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (25.8ms)
Completed 500 Internal Server Error in 58ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:18: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:24: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:24: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:25: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:25: syntax error, unexpected $end, expecting ')'):
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% Def cart_view %>
    17:   <% if params[:controller] == 'orders' && params[:action] == 'new' %>        
    18:     <%= button_to 'Checkout', new_order_path, :disabled => true %>
    19:   <% else %>
    20:     <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (35.8ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 14:09:37 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (7.3ms)
Rendered orders/new.html.erb within layouts/application (7.9ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2170737280 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:18: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:24: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:24: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:25: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:25: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2170737280(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class=\'cart_title\'>Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class=\'total_line\'> 
    <td colspan=\'2\'>Total</td> 
    <td class=\'total_cell\'>');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); Def 
   if params[:controller] == 'orders' && params[:action] == 'new'         
@output_buffer.safe_concat('    ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
');   else 
@output_buffer.safe_concat('    ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
');   end 
 end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.8ms)
Completed 500 Internal Server Error in 31ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:18: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:24: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:24: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:25: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:25: syntax error, unexpected $end, expecting ')'):
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% Def %>
    17:   <% if params[:controller] == 'orders' && params[:action] == 'new' %>        
    18:     <%= button_to 'Checkout', new_order_path, :disabled => true %>
    19:   <% else %>
    20:     <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 14:09:38 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (7.7ms)
Rendered orders/new.html.erb within layouts/application (8.3ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2170737280 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:18: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:24: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:24: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:25: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:25: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2170737280(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class=\'cart_title\'>Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class=\'total_line\'> 
    <td colspan=\'2\'>Total</td> 
    <td class=\'total_cell\'>');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); Def 
   if params[:controller] == 'orders' && params[:action] == 'new'         
@output_buffer.safe_concat('    ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
');   else 
@output_buffer.safe_concat('    ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
');   end 
 end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/Users/mark/work/depot/app/controllers/orders_controller.rb:37:in `new'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3330613012230333768__process_action__1537380743518843120__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.8ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:18: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:20: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:24: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:24: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:25: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:25: syntax error, unexpected $end, expecting ')'):
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% Def %>
    17:   <% if params[:controller] == 'orders' && params[:action] == 'new' %>        
    18:     <%= button_to 'Checkout', new_order_path, :disabled => true %>
    19:   <% else %>
    20:     <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
  app/controllers/orders_controller.rb:37:in `new'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-21 14:14:45 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
Rendered orders/_form.html.erb (8.8ms)
Rendered orders/new.html.erb within layouts/application (9.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (58.3ms)
Rendered carts/_cart.html.erb (62.5ms)
Completed 200 OK in 95ms (Views: 79.9ms | ActiveRecord: 1.9ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 14:14:45 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 14:14:45 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 14:14:45 +0100
Served asset /scaffold.css - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 14:14:45 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 14:14:45 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 14:14:45 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 14:14:45 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 14:14:45 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 14:14:45 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 14:14:45 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 14:14:46 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 14:15:21 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
Rendered store/index.html.erb within layouts/application (11.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.7ms)
Rendered carts/_cart.html.erb (17.0ms)
Completed 200 OK in 91ms (Views: 39.2ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 14:15:21 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 14:15:21 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 14:15:21 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 14:15:21 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 14:15:21 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 14:15:21 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 14:15:21 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 14:15:21 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 14:15:21 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 14:15:21 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 14:15:21 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 14:15:51 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
Rendered store/index.html.erb within layouts/application (10.6ms)
ERROR: compiling _app_views_carts__cart_html_erb__3799140197553229871_2172050640 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_carts__cart_html_erb__3799140197553229871_2172050640(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class=\'cart_title\'>Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class=\'total_line\'> 
    <td colspan=\'2\'>Total</td> 
    <td class=\'total_cell\'>');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: ');@output_buffer.append= (# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } );@output_buffer.safe_concat(') but as it is doing as it is checking both the controller and the action more readable my way -->
'); if params[:controller] == 'orders' && params[:action] == 'new'         
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3778393606533765233__process_action__1252492073697123925__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.9ms)
Completed 500 Internal Server Error in 41ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
... params[:controller] == 'orders' && params[:action] == 'new'...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ers' && params[:action] == 'new'         
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:17: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :disabled ...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:19: syntax error, unexpected tCONSTANT, expecting ')'
...r.append= ( button_to 'Checkout', new_order_path, :method =>...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...buffer.safe_concat('<!-- Adds a empty cart button to the sho...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:21: syntax error, unexpected '\n', expecting keyword_do_LAMBDA or tLAMBEG
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...ffer.append= ( button_to 'Empty cart', cart, :method => :del...
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:22: syntax error, unexpected tCONSTANT, expecting ')'
...od => :delete, :confirm => 'Are you sure?' );@output_buffer....
...                               ^
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: unterminated string meets end of file
/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected $end, expecting ')'):
    13: </table>
    14: <!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
    15: <!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal (Chris shorthand version: <%=# button_to 'Checkout', new_order_path, { :method => :get, :disabled => params[:controller] == 'orders' && params[:action] == 'new' ? true : false } %>) but as it is doing as it is checking both the controller and the action more readable my way -->
    16: <% if params[:controller] == 'orders' && params[:action] == 'new' %>        
    17:   <%= button_to 'Checkout', new_order_path, :disabled => true %>
    18: <% else %>
    19:   <%= button_to 'Checkout', new_order_path, :method => :get %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__3650893302144394794_2178429460'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 14:16:39 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 84]]
Rendered store/index.html.erb within layouts/application (11.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (8.1ms)
Rendered carts/_cart.html.erb (18.3ms)
Completed 200 OK in 93ms (Views: 40.8ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 14:16:39 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 14:16:39 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 14:16:39 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 14:16:39 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 14:16:39 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 14:16:39 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 14:16:39 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 14:16:39 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 14:16:39 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 14:16:39 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 14:16:39 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 16:02:12 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 21 Oct 2011 15:02:12 UTC +00:00], ["updated_at", Fri, 21 Oct 2011 15:02:12 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 85
Rendered carts/_cart.html.erb (7.4ms)
Completed 200 OK in 49ms (Views: 26.5ms | ActiveRecord: 1.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 16:02:12 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 16:02:12 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 16:02:12 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 16:02:12 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 16:02:12 +0100
Served asset /depot.css - 200 OK (12ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 16:02:12 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 16:02:12 +0100
Served asset /orders.js - 200 OK (8ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 16:02:12 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 16:02:12 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 16:02:12 +0100
Served asset /application.js - 200 OK (14ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 16:02:12 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2011-10-21 17:56:05 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (12.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 84]]
Rendered store/index.html.erb within layouts/application (96.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 84[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 84
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (13.1ms)
Rendered carts/_cart.html.erb (96.7ms)
Completed 200 OK in 375ms (Views: 318.5ms | ActiveRecord: 14.0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-21 17:56:07 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-21 17:56:07 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-21 17:56:07 +0100
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-21 17:56:07 +0100
Served asset /carts.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-21 17:56:07 +0100
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-21 17:56:07 +0100
Served asset /line_items.js - 304 Not Modified (3ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-21 17:56:07 +0100
Served asset /orders.js - 304 Not Modified (1ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-21 17:56:07 +0100
Served asset /products.js - 304 Not Modified (1ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-21 17:56:07 +0100
Served asset /store.js - 304 Not Modified (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-21 17:56:07 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-21 17:56:07 +0100
Served asset /logo.png - 304 Not Modified (12ms)


Started GET "/" for 127.0.0.1 at 2011-10-24 10:37:38 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mSQL (27.6ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Mon, 24 Oct 2011 09:37:39 UTC +00:00], ["updated_at", Mon, 24 Oct 2011 09:37:39 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (139.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 86[0m
Rendered carts/_cart.html.erb (89.9ms)
Completed 200 OK in 488ms (Views: 391.1ms | ActiveRecord: 29.2ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-24 10:37:39 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-24 10:37:39 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-24 10:37:39 +0100
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-24 10:37:39 +0100
Served asset /jquery_ujs.js - 304 Not Modified (3ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-24 10:37:39 +0100
Served asset /carts.js - 304 Not Modified (1ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-24 10:37:39 +0100
Served asset /line_items.js - 304 Not Modified (2ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-24 10:37:39 +0100
Served asset /orders.js - 304 Not Modified (1ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-24 10:37:39 +0100
Served asset /products.js - 304 Not Modified (1ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-24 10:37:39 +0100
Served asset /store.js - 304 Not Modified (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-24 10:37:39 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-24 10:37:39 +0100
Served asset /logo.png - 304 Not Modified (10ms)


Started GET "/" for 127.0.0.1 at 2011-10-24 11:04:56 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (10.8ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 86]]
Rendered store/index.html.erb within layouts/application (93.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 86[0m
Rendered carts/_cart.html.erb (70.9ms)
Completed 200 OK in 275ms (Views: 220.9ms | ActiveRecord: 12.1ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-24 11:04:57 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-24 11:04:57 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-24 11:04:57 +0100
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-24 11:04:57 +0100
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-24 11:04:57 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-24 11:04:57 +0100
Served asset /carts.js - 304 Not Modified (1ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-24 11:04:57 +0100
Served asset /orders.js - 304 Not Modified (1ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-24 11:04:57 +0100
Served asset /products.js - 304 Not Modified (1ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-24 11:04:57 +0100
Served asset /store.js - 304 Not Modified (4ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-24 11:04:57 +0100
Served asset /line_items.js - 304 Not Modified (2ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-24 11:04:57 +0100
Served asset /logo.png - 304 Not Modified (1ms)


Started GET "/" for 127.0.0.1 at 2011-10-24 15:26:46 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 86]]
Rendered store/index.html.erb within layouts/application (14.2ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 86
Rendered carts/_cart.html.erb (16.1ms)
Completed 200 OK in 134ms (Views: 90.9ms | ActiveRecord: 2.0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-24 15:26:46 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-24 15:26:46 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-24 15:26:46 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-24 15:26:46 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-24 15:26:46 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-24 15:26:46 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-24 15:26:46 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-24 15:26:46 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-24 15:26:46 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-24 15:26:46 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-24 15:26:46 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-24 15:26:52 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"VoBdvfh5TVE3mDKgG6KFENWj4ZKMlYp/tDIXlwLMrXE=", "product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 86]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 86 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35mSQL (13.4ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 86], ["created_at", Mon, 24 Oct 2011 14:26:52 UTC +00:00], ["order_id", nil], ["product_id", 7], ["quantity", 1], ["updated_at", Mon, 24 Oct 2011 14:26:52 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 86[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 86
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (56.0ms)
Rendered carts/_cart.html.erb (60.6ms)
Rendered line_items/create.js.erb (62.0ms)
Completed 200 OK in 191ms (Views: 99.5ms | ActiveRecord: 14.9ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-24 15:27:02 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"VoBdvfh5TVE3mDKgG6KFENWj4ZKMlYp/tDIXlwLMrXE=", "product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 86]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 86 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["cart_id", 86], ["created_at", Mon, 24 Oct 2011 14:27:02 UTC +00:00], ["order_id", nil], ["product_id", 9], ["quantity", 1], ["updated_at", Mon, 24 Oct 2011 14:27:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 86
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 86[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.4ms)
Rendered carts/_cart.html.erb (7.0ms)
Rendered line_items/create.js.erb (7.7ms)
Completed 200 OK in 46ms (Views: 12.2ms | ActiveRecord: 1.9ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-24 15:27:15 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 86]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 86[0m
Rendered orders/_form.html.erb (11.4ms)
Rendered orders/new.html.erb within layouts/application (21.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 86
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 86[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (47.9ms)
Rendered carts/_cart.html.erb (56.8ms)
Completed 200 OK in 111ms (Views: 95.8ms | ActiveRecord: 1.6ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-24 15:27:15 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-24 15:27:15 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-24 15:27:15 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-24 15:27:15 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-24 15:27:15 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-24 15:27:15 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-24 15:27:15 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-24 15:27:15 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-24 15:27:15 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-24 15:27:15 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-24 15:27:15 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/orders" for 127.0.0.1 at 2011-10-24 15:28:23 +0100
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VoBdvfh5TVE3mDKgG6KFENWj4ZKMlYp/tDIXlwLMrXE=", "order"=>{"name"=>"Mark James Atherton", "address"=>"35 Fogralea, Lerwick, Shetland ZE1 0SE", "email"=>"mark@thestage.co.uk", "pay_type"=>"credit card"}, "commit"=>"Place order"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 86]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 86[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "name", "pay_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "35 Fogralea, Lerwick, Shetland ZE1 0SE"], ["created_at", Mon, 24 Oct 2011 14:28:23 UTC +00:00], ["email", "mark@thestage.co.uk"], ["name", "Mark James Atherton"], ["pay_type", "credit card"], ["updated_at", Mon, 24 Oct 2011 14:28:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "order_id" = 7, "updated_at" = '2011-10-24 14:28:23.944833' WHERE "line_items"."id" = 163[0m
  [1m[35m (0.0ms)[0m  UPDATE "line_items" SET "cart_id" = NULL, "order_id" = 7, "updated_at" = '2011-10-24 14:28:23.946099' WHERE "line_items"."id" = 164
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 86]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 86
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 86]]

Sent mail to mark@thestage.co.uk (45ms)
Date: Mon, 24 Oct 2011 15:28:25 +0100
From: from@example.com
To: mark@thestage.co.uk
Message-ID: <4ea576094c427_1067480fc69a05676@Trevor-iMac.local.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Redirected to http://localhost:3000/
Completed 302 Found in 1443ms


Started GET "/" for 127.0.0.1 at 2011-10-24 15:28:25 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Mon, 24 Oct 2011 14:28:25 UTC +00:00], ["updated_at", Mon, 24 Oct 2011 14:28:25 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 87
Rendered carts/_cart.html.erb (6.5ms)
Completed 200 OK in 80ms (Views: 26.0ms | ActiveRecord: 1.6ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-24 15:28:25 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-24 15:28:25 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-24 15:28:25 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-24 15:28:25 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-24 15:28:25 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-24 15:28:25 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-24 15:28:25 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-24 15:28:25 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-24 15:28:25 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-24 15:28:25 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-24 15:28:25 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/notifier" for 127.0.0.1 at 2011-10-24 15:39:59 +0100

ActionController::RoutingError (No route matches [GET] "/notifier"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-25 11:13:38 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 87]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 87 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 87], ["created_at", Tue, 25 Oct 2011 10:13:38 UTC +00:00], ["order_id", nil], ["product_id", 9], ["quantity", 1], ["updated_at", Tue, 25 Oct 2011 10:13:38 UTC +00:00]]
ERROR: compiling _app_views_carts__cart_html_erb__2109192902440968423_2199407080 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_carts__cart_html_erb__2109192902440968423_2199407080(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class=\'cart_title\'>Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class=\'total_line\'> 
    <td colspan=\'2\'>Total</td> 
    <td class=\'total_cell\'>');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal -->
  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/line_items/create.js.erb:2:in `_app_views_line_items_create_js_erb__1194060384844895767_2172171320'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__699815692108380570__process_action__2156501006538443277__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:35:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (1.0ms)
Rendered line_items/create.js.erb (9.2ms)
Completed 500 Internal Server Error in 168ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected keyword_ensure, expecting $end):
    20: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    21: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    22: <% end %>
  app/views/line_items/create.js.erb:2:in `_app_views_line_items_create_js_erb__1194060384844895767_2172171320'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (4.5ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-25 11:13:46 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 87]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 87 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 87], ["created_at", Tue, 25 Oct 2011 10:13:47 UTC +00:00], ["order_id", nil], ["product_id", 6], ["quantity", 1], ["updated_at", Tue, 25 Oct 2011 10:13:47 UTC +00:00]]
ERROR: compiling _app_views_carts__cart_html_erb__2109192902440968423_2199407080 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_carts__cart_html_erb__2109192902440968423_2199407080(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class=\'cart_title\'>Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class=\'total_line\'> 
    <td colspan=\'2\'>Total</td> 
    <td class=\'total_cell\'>');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal -->
  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/line_items/create.js.erb:2:in `_app_views_line_items_create_js_erb__1194060384844895767_2172171320'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__699815692108380570__process_action__2156501006538443277__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:35:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.7ms)
Rendered line_items/create.js.erb (1.4ms)
Completed 500 Internal Server Error in 73ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected keyword_ensure, expecting $end):
    20: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    21: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    22: <% end %>
  app/views/line_items/create.js.erb:2:in `_app_views_line_items_create_js_erb__1194060384844895767_2172171320'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-25 11:13:50 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 87]]
Rendered store/index.html.erb within layouts/application (10.3ms)
ERROR: compiling _app_views_carts__cart_html_erb__2109192902440968423_2179810020 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_carts__cart_html_erb__2109192902440968423_2179810020(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class=\'cart_title\'>Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class=\'total_line\'> 
    <td colspan=\'2\'>Total</td> 
    <td class=\'total_cell\'>');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal -->
  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1104135404801288386_2172558260'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3309736080329764742__process_action__1505629944295766631__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.7ms)
Completed 500 Internal Server Error in 80ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected keyword_ensure, expecting $end):
    20: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    21: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    22: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1104135404801288386_2172558260'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.5ms)


Started GET "/" for 127.0.0.1 at 2011-10-25 11:13:53 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 87]]
Rendered store/index.html.erb within layouts/application (9.8ms)
ERROR: compiling _app_views_carts__cart_html_erb__2109192902440968423_2179810020 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_carts__cart_html_erb__2109192902440968423_2179810020(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class=\'cart_title\'>Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class=\'total_line\'> 
    <td colspan=\'2\'>Total</td> 
    <td class=\'total_cell\'>');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal -->
  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1104135404801288386_2172558260'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3309736080329764742__process_action__1505629944295766631__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.7ms)
Completed 500 Internal Server Error in 72ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected keyword_ensure, expecting $end):
    20: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    21: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    22: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1104135404801288386_2172558260'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-25 11:14:54 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 87]]
Rendered store/index.html.erb within layouts/application (10.4ms)
ERROR: compiling _app_views_carts__cart_html_erb__2109192902440968423_2179810020 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_carts__cart_html_erb__2109192902440968423_2179810020(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class=\'cart_title\'>Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class=\'total_line\'> 
    <td colspan=\'2\'>Total</td> 
    <td class=\'total_cell\'>');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal -->
  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1104135404801288386_2172558260'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3309736080329764742__process_action__1505629944295766631__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.7ms)
Completed 500 Internal Server Error in 73ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected keyword_ensure, expecting $end):
    20: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    21: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    22: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1104135404801288386_2172558260'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.6ms)


Started GET "/" for 127.0.0.1 at 2011-10-25 11:15:02 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 87]]
Rendered store/index.html.erb within layouts/application (10.0ms)
ERROR: compiling _app_views_carts__cart_html_erb__2109192902440968423_2179810020 RAISED /Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_carts__cart_html_erb__2109192902440968423_2179810020(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "carts/_cart";_old_output_buffer = @output_buffer;cart = local_assigns[:cart];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- This is basically our carts/show.html.erb template but using cart instead of @cart. (Note that itâ€™s OK for a partial to invoke other partials.) to avoid repeating myself I have replaced the code in show.html.erb
that cause the partial to be rendered -->
<!-- MA cannot use create.js.rjs in RAILS 3.1 Scott mentioned moustache as alternative (uses curly brackets) - used code on page 150 so cart just appears instead of nice AJAX effect -->
'); unless cart.line_items.empty? 
@output_buffer.safe_concat('<div class=\'cart_title\'>Your Cart</div> 
<table>
  <!-- MA - this is a partial to place the cart in the sidebar -->
  ');@output_buffer.append= ( render(cart.line_items) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <tr class=\'total_line\'> 
    <td colspan=\'2\'>Total</td> 
    <td class=\'total_cell\'>');@output_buffer.append= ( number_to_currency(cart.total_price) );@output_buffer.safe_concat('</td>
  </tr> 
</table>
<!-- Adds a checkout button to the cart with a new_order_path using the method get so that it gets all the current items -->
<!-- MA disable the checkout button when on checkout page NOTE got the value from rake routes in terminal -->
  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :disabled => true );@output_buffer.safe_concat('
'); else 
@output_buffer.safe_concat('  ');@output_buffer.append= ( button_to 'Checkout', new_order_path, :method => :get );@output_buffer.safe_concat('
'); end 
@output_buffer.safe_concat('<!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
');@output_buffer.append= ( button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' );@output_buffer.safe_concat('
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `module_eval'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:282:in `compile'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:190:in `compile!'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:143:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/prototype-rails-0.3.1/lib/prototype-rails/rendering.rb:8:in `render_with_update'
/Users/mark/work/depot/app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1104135404801288386_2172558260'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:144:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:55:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/template.rb:142:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:52:in `render_with_layout'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/template_renderer.rb:9:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:120:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:99:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:167:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:416:in `_run__3309736080329764742__process_action__1505629944295766631__callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `block in instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/notifications.rb:53:in `instrument'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/base.rb:121:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/abstract_controller/rendering.rb:45:in `process'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:193:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_controller/metal.rb:236:in `block in action'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:29:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/routing/route_set.rb:531:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/etag.rb:23:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/conditionalget.rb:25:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/flash.rb:243:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:195:in `context'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/session/abstract/id.rb:190:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/cookies.rb:326:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/query_cache.rb:62:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.0.rc8/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/sendfile.rb:101:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/logger.rb:13:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/methodoverride.rb:24:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/runtime.rb:17:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.0.rc8/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/lock.rb:15:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/static.rb:53:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/engine.rb:455:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/content_length.rb:16:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.0.rc8/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.2/lib/rack/handler/webrick.rb:59:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/mark/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered carts/_cart.html.erb (0.7ms)
Completed 500 Internal Server Error in 73ms

ActionView::Template::Error (/Users/mark/work/depot/app/views/carts/_cart.html.erb:23: syntax error, unexpected keyword_ensure, expecting $end):
    20: <!-- Adds a empty cart button to the shopping cart so you completely empty the cart-->
    21: <%= button_to 'Empty cart', cart, :method => :delete, :confirm => 'Are you sure?' %>
    22: <% end %>
  app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1104135404801288386_2172558260'

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.5ms)


Started GET "/" for 127.0.0.1 at 2011-10-25 11:17:24 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 87]]
Rendered store/index.html.erb within layouts/application (43.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 87[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 87
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.6ms)
Rendered carts/_cart.html.erb (26.2ms)
Completed 200 OK in 100ms (Views: 80.4ms | ActiveRecord: 1.7ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-25 11:17:24 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-25 11:17:24 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-25 11:17:24 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-25 11:17:24 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-25 11:17:24 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-25 11:17:24 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-25 11:17:24 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-25 11:17:24 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-25 11:17:24 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-25 11:17:24 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-25 11:17:24 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started DELETE "/carts/87" for 127.0.0.1 at 2011-10-25 11:17:48 +0100
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"VoBdvfh5TVE3mDKgG6KFENWj4ZKMlYp/tDIXlwLMrXE=", "id"=>"87"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 87]]
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 87
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 165]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 166]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 87]]
Redirected to http://localhost:3000/
Completed 302 Found in 17ms


Started GET "/" for 127.0.0.1 at 2011-10-25 11:17:48 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 25 Oct 2011 10:17:48 UTC +00:00], ["updated_at", Tue, 25 Oct 2011 10:17:48 UTC +00:00]]
Rendered store/index.html.erb within layouts/application (44.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88
Rendered carts/_cart.html.erb (8.0ms)
Completed 200 OK in 84ms (Views: 61.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-25 11:17:48 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-25 11:17:48 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-25 11:17:48 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-25 11:17:48 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-25 11:17:48 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-25 11:17:48 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-25 11:17:48 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-25 11:17:48 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-25 11:17:48 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-25 11:17:48 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-25 11:17:48 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-25 11:17:51 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 88]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 88 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 88], ["created_at", Tue, 25 Oct 2011 10:17:51 UTC +00:00], ["order_id", nil], ["product_id", 9], ["quantity", 1], ["updated_at", Tue, 25 Oct 2011 10:17:51 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 88
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.4ms)
Rendered carts/_cart.html.erb (6.6ms)
Rendered line_items/create.js.erb (7.3ms)
Completed 200 OK in 82ms (Views: 12.5ms | ActiveRecord: 1.9ms)


Started GET "/line_items/167/decrement" for 127.0.0.1 at 2011-10-25 11:18:04 +0100
  Processing by LineItemsController#decrement as JS
  Parameters: {"id"=>"167"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 88]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT 1[0m  [["id", "167"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = ?  [["id", 167]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88[0m
Rendered carts/_cart.html.erb (3.7ms)
Rendered line_items/decrement.js.erb (8.1ms)
Completed 200 OK in 119ms (Views: 72.2ms | ActiveRecord: 1.1ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-25 11:18:06 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 88]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88[0m
Redirected to http://localhost:3000/
Completed 302 Found in 14ms


Started GET "/" for 127.0.0.1 at 2011-10-25 11:18:06 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 88]]
Rendered store/index.html.erb within layouts/application (10.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88
Rendered carts/_cart.html.erb (7.9ms)
Completed 200 OK in 81ms (Views: 30.3ms | ActiveRecord: 1.2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:07 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-25 11:18:07 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:07 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:07 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:07 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:07 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-25 11:18:07 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:07 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:07 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:07 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-25 11:18:07 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-25 11:18:10 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 88]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88
Redirected to http://localhost:3000/
Completed 302 Found in 15ms


Started GET "/" for 127.0.0.1 at 2011-10-25 11:18:10 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 88]]
Rendered store/index.html.erb within layouts/application (10.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88[0m
Rendered carts/_cart.html.erb (8.0ms)
Completed 200 OK in 82ms (Views: 29.6ms | ActiveRecord: 1.4ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-25 11:18:10 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:10 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:10 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:10 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:10 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:10 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-25 11:18:10 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:10 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:10 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:10 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-25 11:18:10 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-25 11:18:28 +0100
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 88]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88[0m
Redirected to http://localhost:3000/
Completed 302 Found in 15ms


Started GET "/" for 127.0.0.1 at 2011-10-25 11:18:28 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 88]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88
Rendered carts/_cart.html.erb (7.9ms)
Completed 200 OK in 92ms (Views: 29.7ms | ActiveRecord: 1.3ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/orders/new" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 88]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88
Redirected to http://localhost:3000/
Completed 302 Found in 16ms


Started GET "/" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 88]]
Rendered store/index.html.erb within layouts/application (43.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88[0m
Rendered carts/_cart.html.erb (7.9ms)
Completed 200 OK in 81ms (Views: 63.3ms | ActiveRecord: 1.1ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-25 11:18:29 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started GET "/checkout" for 127.0.0.1 at 2011-10-25 11:18:42 +0100

ActionController::RoutingError (No route matches [GET] "/checkout"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/" for 127.0.0.1 at 2011-10-25 11:18:53 +0100
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 88]]
Rendered store/index.html.erb within layouts/application (10.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88
Rendered carts/_cart.html.erb (8.1ms)
Completed 200 OK in 83ms (Views: 29.4ms | ActiveRecord: 1.2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:53 +0100
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/line_items.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:53 +0100
Served asset /line_items.js - 304 Not Modified (0ms)


Started GET "/assets/carts.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:53 +0100
Served asset /carts.js - 304 Not Modified (0ms)


Started GET "/assets/scaffold.css" for 127.0.0.1 at 2011-10-25 11:18:53 +0100
Served asset /scaffold.css - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/scaffold.css"):
  

Rendered /Users/mark/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.0.rc8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:53 +0100
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/depot.css?body=1" for 127.0.0.1 at 2011-10-25 11:18:53 +0100
Served asset /depot.css - 304 Not Modified (0ms)


Started GET "/assets/orders.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:53 +0100
Served asset /orders.js - 304 Not Modified (0ms)


Started GET "/assets/products.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:53 +0100
Served asset /products.js - 304 Not Modified (0ms)


Started GET "/assets/store.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:53 +0100
Served asset /store.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2011-10-25 11:18:53 +0100
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/logo.png" for 127.0.0.1 at 2011-10-25 11:18:53 +0100
Served asset /logo.png - 304 Not Modified (0ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-25 11:18:56 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 88]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "9"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 88 AND "line_items"."product_id" = 9 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 88], ["created_at", Tue, 25 Oct 2011 10:18:56 UTC +00:00], ["order_id", nil], ["product_id", 9], ["quantity", 1], ["updated_at", Tue, 25 Oct 2011 10:18:56 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 88
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.6ms)
Rendered carts/_cart.html.erb (7.3ms)
Rendered line_items/create.js.erb (8.0ms)
Completed 200 OK in 83ms (Views: 12.8ms | ActiveRecord: 1.9ms)


Started POST "/line_items?product_id=9" for 127.0.0.1 at 2011-10-25 11:18:58 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"9"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 88]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "9"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 88 AND "line_items"."product_id" = 9 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-25 10:18:58.385588' WHERE "line_items"."id" = 168[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 88[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.4ms)
Rendered carts/_cart.html.erb (5.7ms)
Rendered line_items/create.js.erb (6.5ms)
Completed 200 OK in 81ms (Views: 11.9ms | ActiveRecord: 1.9ms)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2011-10-25 11:18:59 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 88]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "6"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 88 AND "line_items"."product_id" = 6 LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 88], ["created_at", Tue, 25 Oct 2011 10:18:59 UTC +00:00], ["order_id", nil], ["product_id", 6], ["quantity", 1], ["updated_at", Tue, 25 Oct 2011 10:18:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 88
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.4ms)
Rendered carts/_cart.html.erb (7.2ms)
Rendered line_items/create.js.erb (8.0ms)
Completed 200 OK in 82ms (Views: 12.7ms | ActiveRecord: 2.1ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-25 11:19:03 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1[0m  [["id", 88]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1  [["id", "7"]]
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 88 AND "line_items"."product_id" = 7 LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "line_items" ("cart_id", "created_at", "order_id", "product_id", "quantity", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["cart_id", 88], ["created_at", Tue, 25 Oct 2011 10:19:03 UTC +00:00], ["order_id", nil], ["product_id", 7], ["quantity", 1], ["updated_at", Tue, 25 Oct 2011 10:19:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 88
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.1ms)
Rendered carts/_cart.html.erb (8.8ms)
Rendered line_items/create.js.erb (9.8ms)
Completed 200 OK in 84ms (Views: 14.5ms | ActiveRecord: 2.4ms)


Started POST "/line_items?product_id=7" for 127.0.0.1 at 2011-10-25 11:19:07 +0100
  Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"VoBdvfh5TVE3mDKgG6KFENWj4ZKMlYp/tDIXlwLMrXE=", "product_id"=>"7"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT 1  [["id", 88]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? ORDER BY title LIMIT 1[0m  [["id", "7"]]
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 88 AND "line_items"."product_id" = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2011-10-25 10:19:07.865712' WHERE "line_items"."id" = 170[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = 88
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = 88[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 9 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 6 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 7 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (4.5ms)
Rendered carts/_cart.html.erb (7.9ms)
Rendered line_items/create.js.erb (8.7ms)
Completed 200 OK in 80ms (Views: 13.5ms | ActiveRecord: 1.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime, "quantity" integer DEFAULT 1, "order_id" integer) 
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "address" text, "email" varchar(255), "pay_type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36m (10.3ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111019115842')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110831140527')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111010143840')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111010163205')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111011143935')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20111011151739')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20111019115659')[0m
